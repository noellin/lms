(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-727e5825"],{"3b19":function(t,s,e){},"5d67":function(t,s,e){"use strict";e.d(s,"d",(function(){return o})),e.d(s,"c",(function(){return i})),e.d(s,"b",(function(){return n})),e.d(s,"a",(function(){return r})),e.d(s,"e",(function(){return l}));var a=e("a95a");const o={post:t=>Object(a.d)("/info/login",t)},i={get:t=>Object(a.b)("/info/forgotpw/"+t)},n={post:(t,s)=>Object(a.d)("/info/confirmpw/"+t,s)},r={get:t=>Object(a.b)("/info/activate/"+t)},l={get:t=>Object(a.b)("/stu/log/setlogin/"+t)}},a55b:function(t,s,e){"use strict";e.r(s);e("5a0c");var a,o,i,n=e("5d67");a=window,o=document,i=function(){var t=o.createElement("script"),s=o.getElementsByTagName("script")[0];t.src="https://cdn.iubenda.com/iubenda.js",s.parentNode.insertBefore(t,s)},console.log(a.addEventListener),a.addEventListener?a.addEventListener("load",i,!1):a.attachEvent?a.attachEvent("onload",i):a.onload=i;var r={name:"Login",data:()=>({showErrorMessage:!1,loginShow:"login",remember:!1,loginForm:{email:"",password:"",confirmpw:""},userEmail:"",ErrorMessage:"Your email or password is incorrect. please try again.",specialInfo:null}),created(){console.log("app"),localStorage.clear();var t=document.cookie.match(/[^ =;]+(?=\=)/g);if(t)for(var s=t.length;s--;)document.cookie=t[s]+"=0;expires="+new Date(0).toUTCString();this.$store.dispatch("auth/setAuth",{token:"",isLogin:!1,userid:""})},watch:{},mounted(){void 0!==this.$route.params.id&&(this.activateUser(this.$route.params.id),this.loginShow="resetPassword",this.userEmail=this.$route.params.email),void 0!==Object({NODE_ENV:"production",VUE_APP_DOMAIN:"",VUE_APP_LMSD:"app",VUE_APP_LMSDOMAIN:"https://lms.mangosteems.com",BASE_URL:"/web/"}).VUE_APP_SpecialInfo&&(this.specialInfo=Object({NODE_ENV:"production",VUE_APP_DOMAIN:"",VUE_APP_LMSD:"app",VUE_APP_LMSDOMAIN:"https://lms.mangosteems.com",BASE_URL:"/web/"}).VUE_APP_SpecialInfo)},computed:{token(){return this.$store.state.auth.token},logo(){return this.$store.state.common.logo}},methods:{async forgotPassword(){await n.c.get(this.loginForm.email).then(t=>{if(console.log(t),"Done"===t.record)return this.$bus.$emit("messsage:push","Password reset information has been sent to your email, please check your email!","success"),!0})&&(this.loginShow="sendEmail")},sendEmailResetPWD(){this.loginShow="sendEmail"},login(){const t=Math.floor(Date.now()/1e3);n.d.post(this.loginForm).then(s=>{console.log(s),window.localStorage.setItem("token",s.record),this.$store.dispatch("auth/setAuth",{token:s.record,isLogin:"success"===s.status,userid:s.userID,username:s.username,email:s.email,permit:s.permit,todayTimestamp:t,image:s.image}),this.$store.dispatch("courseInfo/clearAllAssignment"),"success"===s.status?this.$router.push({path:"/course"}):this.$bus.$emit("messsage:push","Oh snap ! Your email or password is incorrect. please try again.","danger")}).catch(t=>{console.log(t)})},resetPassword(){let t=this;console.log(this.loginForm),this.$refs.resetForm.validate().then(s=>{if(s){let s={password:this.loginForm.password};n.b.post(this.$route.params.id,s).then(s=>{console.log(s),this.loginShow="resetPasswordSuccess",t.loginForm={email:"",password:"",confirmpw:""}}).catch(t=>{})}})},activateUser(t){n.a.get(t).then(t=>{console.log(t),this.loginForm.email=t.record.email}).catch(t=>{console.log(t)})}}},l=(e("e912"),e("2877")),c=Object(l.a)(r,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"loginbg pt-5",attrs:{id:"app"}},[e("div",{staticClass:"col-sm-12 row mx-0 pt-5  px-0",attrs:{id:"app"}},["login"===t.loginShow?e("div",{staticClass:"col-sm-12 d-flex justify-content-center align-items-center"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body login-bg-s"},[e("a",{staticClass:"brand text-center d-block m-b-20 m-t-20"},[e("img",{staticClass:"msu_logo",attrs:{src:t.logo,alt:"Logo"}})]),e("ValidationObserver",{ref:"loginForm"},[e("div",{attrs:{id:"login-Page"}},[e("h5",{staticClass:"sign-in-heading text-white"},[t._v(" "+t._s(t.$t("log-in-to-your-account"))+" ")]),e("ValidationProvider",{attrs:{rules:"required",name:"Account"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.failed,o=s.errors;return[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v(t._s(t.$t("email-address")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.email,expression:"loginForm.email"}],staticClass:"form-control form-control-lg",class:{"is-invalid":a},attrs:{type:"email",id:"inputEmail",placeholder:"Enter your Email address",required:"",autocomplete:!0===t.remember?"":"new-password"},domProps:{value:t.loginForm.email},on:{input:function(s){s.target.composing||t.$set(t.loginForm,"email",s.target.value)}}}),a?e("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))]):t._e()])]}}],null,!1,2791918276)}),e("ValidationProvider",{attrs:{rules:"required",name:"Password"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.failed,o=s.errors;return[e("div",{staticClass:"mt-3"},[e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v(t._s(t.$t("password")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.password,expression:"loginForm.password"}],staticClass:"form-control form-control-lg",class:{"is-invalid":a},attrs:{type:"password",id:"inputPassword",placeholder:"Enter your password",required:"",autocomplete:!0===t.remember?"":"new-password"},domProps:{value:t.loginForm.password},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.login()},input:function(s){s.target.composing||t.$set(t.loginForm,"password",s.target.value)}}}),a?e("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))]):t._e()])]}}],null,!1,622007715)}),e("div",{staticClass:"checkbox m-t-20"},[e("a",{staticClass:"float-right blue pointer",on:{click:function(s){t.loginShow="forgetPassword"}}},[t._v(t._s(t.$t("forgot-password"))+"?")])]),e("button",{staticClass:"\n                  btn btn-primary btn-rounded btn-floating btn-md btn-block\n                  m-t-40 m-b-20\n                ",on:{click:function(s){return t.login()}}},[t._v(" "+t._s(t.$t("log-in"))+" ")])],1)]),e("div",{staticClass:" col-sm-12"},[e("div",{staticClass:"col-sm-12 text-white d-flex justify-content-center",staticStyle:{"text-shadow":"rgba(0, 0, 0, 0.7) 0px 2px 4px","font-size":"20px","font-weight":"500"},attrs:{"data-v-653f1d32":""}},[t._v(" Teacher ")]),null!==t.specialInfo?e("div",{staticClass:"  text-white justify-content-center special-text col-sm-12",domProps:{innerHTML:t._s(t.specialInfo)}}):t._e()])],1)])]):t._e(),"resetPasswordSuccess"===t.loginShow?e("div",{staticClass:"col-sm-12 d-flex justify-content-center align-items-center"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body login-bg-s"},[e("a",{staticClass:"brand text-center d-block m-b-20 m-t-20"},[e("img",{staticClass:"msu_logo",attrs:{src:t.logo,alt:"Logo"}})]),t._m(0),e("h5",{staticClass:"sign-in-heading text-center text-success"},[t._v(" "+t._s(t.$t("password-reset-success"))+" ")]),e("p",{staticClass:"text-center text-white"},[t._v(" "+t._s(t.$t("your-password-has-now-been-successfully-reset-please-use-this-new-password-to-log-in"))+". ")]),e("button",{staticClass:"\n              btn btn-primary btn-rounded btn-floating btn-md btn-block\n              m-t-40 m-b-20\n            ",on:{click:function(s){t.loginShow="login"}}},[t._v(" "+t._s(t.$t("return-to-login"))+" ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"text-white",staticStyle:{"text-shadow":"rgba(0, 0, 0, 0.7) 0px 2px 4px","font-size":"20px","font-weight":"500"},attrs:{"data-v-653f1d32":""}},[t._v(" Teacher ")]),null!==t.specialInfo?e("div",{staticClass:"  text-white justify-content-center special-text col-sm-12",domProps:{innerHTML:t._s(t.specialInfo)}}):t._e()])])])]):t._e(),"forgetPassword"===t.loginShow?e("div",{staticClass:"col-sm-12 d-flex justify-content-center align-items-center"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body login-bg-s"},[e("a",{staticClass:"brand text-center d-block m-b-20 m-t-20"},[e("img",{staticClass:"msu_logo",attrs:{src:t.logo,alt:"Logo"}})]),e("div",{attrs:{id:"forget-password-page"}},[e("h5",{staticClass:"sign-in-heading text-white"},[t._v(" "+t._s(t.$t("forgotten-password"))+"? ")]),e("p",{staticClass:"text-white"},[t._v(" "+t._s(t.$t("will-send-you-an-email-with-link-to-reset-your-password"))+". ")]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v(t._s(t.$t("email-address")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.email,expression:"loginForm.email"}],staticClass:"form-control form-control-lg",attrs:{type:"email",id:"inputEmail",placeholder:"Enter your Email address",required:""},domProps:{value:t.loginForm.email},on:{input:function(s){s.target.composing||t.$set(t.loginForm,"email",s.target.value)}}})]),e("button",{staticClass:"\n                btn btn-primary btn-rounded btn-floating btn-md btn-block\n                m-t-40 m-b-20\n              ",on:{click:function(s){return t.forgotPassword()}}},[t._v(" "+t._s(t.$t("send"))+" ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"text-white",staticStyle:{"text-shadow":"rgba(0, 0, 0, 0.7) 0px 2px 4px","font-size":"20px","font-weight":"500"},attrs:{"data-v-653f1d32":""}},[t._v(" Teacher ")]),null!==t.specialInfo?e("div",{staticClass:"  text-white justify-content-center special-text col-sm-12",domProps:{innerHTML:t._s(t.specialInfo)}}):t._e()])])])])]):t._e(),"resetPassword"===t.loginShow?e("div",{staticClass:"col-sm-12 d-flex justify-content-center align-items-center"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body login-bg-s"},[e("ValidationObserver",{ref:"resetForm"},[e("a",{staticClass:"brand text-center d-block m-b-20 m-t-20"},[e("img",{staticClass:"msu_logo",attrs:{src:t.logo,alt:"Logo"}})]),e("p",{staticClass:"text-white text-center"},[t._v(" "+t._s(t.$t("e-mail"))+": "+t._s(t.userEmail)+" ")]),e("h5",{staticClass:"sign-in-heading text-white"},[t._v(" "+t._s(t.$t("confirm-your-password"))+" ")]),e("ValidationProvider",{attrs:{rules:"required|min:6",name:"password",vid:"confirmation"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.failed,o=s.errors;return[e("div",{staticClass:"form-group"},[e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v(t._s(t.$t("password")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.password,expression:"loginForm.password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",id:"inputPassword",placeholder:"Password must be at least 6 characters",required:""},domProps:{value:t.loginForm.password},on:{input:function(s){s.target.composing||t.$set(t.loginForm,"password",s.target.value)}}}),a?e("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))]):t._e()])]}}],null,!1,1506498558)}),e("ValidationProvider",{attrs:{rules:"required|confirmed:confirmation",name:"confirm password"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.failed,o=s.errors;return[e("div",{staticClass:"form-group"},[e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v(t._s(t.$t("password")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.confirmpw,expression:"loginForm.confirmpw"}],staticClass:"form-control form-control-lg",attrs:{type:"password",id:"inputPassword",placeholder:"Enter your password again",required:""},domProps:{value:t.loginForm.confirmpw},on:{input:function(s){s.target.composing||t.$set(t.loginForm,"confirmpw",s.target.value)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:a,expression:"failed"}],staticClass:"text-danger"},[t._v(t._s(o[0]))])])]}}],null,!1,1169887964)}),e("button",{staticClass:"\n                btn btn-primary btn-rounded btn-floating btn-md btn-block\n                m-t-40 m-b-20\n              ",on:{click:function(s){return t.resetPassword()}}},[t._v(" "+t._s(t.$t("confirm-password"))+" ")])],1),e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"text-white",staticStyle:{"text-shadow":"rgba(0, 0, 0, 0.7) 0px 2px 4px","font-size":"20px","font-weight":"500"},attrs:{"data-v-653f1d32":""}},[t._v(" Teacher ")]),null!==t.specialInfo?e("div",{staticClass:"  text-white justify-content-center special-text col-sm-12",domProps:{innerHTML:t._s(t.specialInfo)}}):t._e()])],1)])]):t._e(),"sendEmail"===t.loginShow?e("div",{staticClass:"col-sm-12 d-flex justify-content-center align-items-center"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body login-bg-s"},[e("a",{staticClass:"brand text-center d-block m-b-20 m-t-20"},[e("img",{staticClass:"msu_logo",attrs:{src:t.logo,alt:"Logo"}})]),t._m(1),e("h5",{staticClass:"sign-in-heading text-center text-success"},[t._v(" "+t._s(t.$t("password-reset-email-sent"))+" ")]),e("p",{staticClass:"text-center text-white"},[t._v(" "+t._s(t.$t("an-email-has-been-sent-to-your-email-please-follow-the-directions-in-the-email-to-reset-your-password"))+". ")]),e("button",{staticClass:"\n              btn btn-primary btn-rounded btn-floating btn-md btn-block\n              m-t-40 m-b-20\n            ",on:{click:function(s){t.loginShow="login"}}},[t._v(" "+t._s(t.$t("ok"))+" ")]),e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"text-white",staticStyle:{"text-shadow":"rgba(0, 0, 0, 0.7) 0px 2px 4px","font-size":"20px","font-weight":"500"},attrs:{"data-v-653f1d32":""}},[t._v(" Teacher ")]),null!==t.specialInfo?e("div",{staticClass:"  text-white justify-content-center special-text col-sm-12",domProps:{innerHTML:t._s(t.specialInfo)}}):t._e()])])])]):t._e(),e("div",{staticClass:"d-flex col-sm-12 justify-content-end",staticStyle:{height:"20px"}},[e("a",{staticClass:"iubenda-nostyle no-brand iubenda-embed mr-4",attrs:{href:"https://www.iubenda.com/privacy-policy/32601846",title:"Privacy Policy "}},[e("small",[t._v(t._s(t.$t("privacy-policy")))])]),e("a",{staticClass:"iubenda-nostyle no-brand iubenda-embed mr-4",attrs:{href:"https://www.iubenda.com/privacy-policy/32601846/cookie-policy",title:"Cookie Policy "}},[e("small",[t._v(t._s(t.$t("cookie-policy")))])]),e("a",{staticClass:"iubenda-nostyle no-brand iubenda-embed",attrs:{href:"https://www.iubenda.com/terms-and-conditions/32601846",title:"Terms and Conditions "}},[e("small",[t._v(t._s(t.$t("terms-and-conditions")))])])])])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"display-4 text-center"},[s("i",{staticClass:"zmdi zmdi-check-circle zmdi-hc-fw text-success"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"display-4 text-center"},[s("i",{staticClass:"zmdi zmdi-mail-send zmdi-hc-fw text-success"})])}],!1,null,"77b8b6ba",null);s.default=c.exports},e912:function(t,s,e){"use strict";var a=e("3b19");e.n(a).a}}]);
//# sourceMappingURL=chunk-727e5825.b8bc732b.js.map