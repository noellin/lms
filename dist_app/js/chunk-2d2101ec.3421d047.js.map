{"version":3,"sources":["webpack:///./src/components/SearchGroup.vue?a76f","webpack:///./src/components/SearchGroup.vue?c773","webpack:///src/components/SearchGroup.vue","webpack:///./src/components/SearchGroup.vue"],"names":["name","typeList","text","id","selectType","searchRname","selectSortType","searchStatus","tempSearchName","textbookList","courseid","this","$route","params","colSortList","setAlllevel","selectLevelList","levelLists","haveLevel","courseInfo","collectionInfo","props","methods","level","vm","index","indexOf","splice","sType","searchObj","type","keyword","post","then","response","csrInfo","cntLevel","record","forEach","element","undefined","includes","push","unit","link","information","sort","status","catch","err","$emit","sortMList","get","userid","cid","moreInfo","lastplay","last_access_all","item","last_access","slist","$store","dispatch","cntUnit","event","currentTarget","checked","i","openedTextbookList","openedTextbookLists","page","searchCourseResource","searchCollectionResource","courseInfos","computed","state","auth","sortMaterial","openb","filter","openflag","note","openv","mfilter","$_sortMaterial","openedMList","common","sortTypeList","watch","component","_vm","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","expression","directives","rawName","domProps","on","$event","_k","keyCode","key","target","composing","_m","_e","length","_v","_s","$t","_l","removeLevel","clearLevelFilter","Array","isArray","_i","$$a","$$el","$$c","$$i","concat","slice"],"mappings":"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","file":"js/chunk-2d2101ec.3421d047.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-1 mb-3\"},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group form-rounded mb-0 mr-1\"},[_c('select2',{attrs:{\"id\":\"s2_demo2\",\"options\":_vm.typeList},model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}})],1),_c('div',{staticClass:\"form-group form-rounded mb-0 mr-1\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchRname),expression:\"searchRname\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search materials\"},domProps:{\"value\":(_vm.searchRname)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchCourseResource()},\"input\":function($event){if($event.target.composing){ return; }_vm.searchRname=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('div',{staticClass:\"btn btn-secondary btn-outline btn-icon btn-rounded\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.searchCourseResource()}}},[_c('i',{staticClass:\"zmdi zmdi-search text-secondary\"})])])])]),_c('div',{staticClass:\"form-group form-rounded mb-0 mr-1\"},[_c('select2',{attrs:{\"id\":\"s2_demo3\",\"options\":_vm.sortTypeList},model:{value:(_vm.selectSortType),callback:function ($$v) {_vm.selectSortType=$$v},expression:\"selectSortType\"}})],1),(_vm.haveLevel)?_c('div',{staticClass:\"form-group form-rounded mb-0 text-secondary\",attrs:{\"data-dismiss\":\"modal\",\"data-toggle\":\"modal\",\"data-target\":\"#filterModal\"},on:{\"click\":function($event){_vm.setAlllevel = ''}}},[_vm._m(0)]):_vm._e()]),(_vm.searchStatus || _vm.selectLevelList.length !== 0)?_c('div',{staticClass:\"mb-0 mr-3 text-secondary mt-2\"},[_c('div',{staticClass:\"row col-sm-12\"},[_c('strong',{staticClass:\"col-sm-12\"},[_c('span',{staticClass:\"mr-1\"},[_vm._v(_vm._s(_vm.sortMList.length))]),_vm._v(\" \"+_vm._s(_vm.$t(\"listings-for\"))),(_vm.tempSearchName !== '')?_c('span',[_vm._v(\" “ \"+_vm._s(_vm.searchRname)+\" ” \")]):_vm._e()]),(_vm.selectLevelList.length !== 0)?_c('div',{staticClass:\"col-sm-12\"},[_vm._l((_vm.selectLevelList),function(level){return _c('span',{key:level},[_c('span',{staticClass:\"badge badge-pill badge-secondary mr-2 mb-2 pointer\",on:{\"click\":function($event){return _vm.removeLevel(level)}}},[_vm._v(_vm._s(_vm.$t(\"level\"))+\" \"+_vm._s(level)+\" \"),_vm._m(1,true)])])}),_c('span',{staticClass:\"text-primary pointer\",on:{\"click\":function($event){return _vm.clearLevelFilter()}}},[_vm._v(_vm._s(_vm.$t(\"clear-all\")))])],2):_vm._e()])]):_vm._e(),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"filterModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"ModalTitle1\"}},[_vm._v(_vm._s(_vm.$t(\"filter\")))]),_vm._m(2)]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(\"Filter by level\")]),_c('div',{staticClass:\"col-sm-12 row\"},_vm._l((_vm.levelLists),function(level,index){return _c('div',{key:level + index,staticClass:\"col-4\"},[_c('div',{staticClass:\"custom-control custom-checkbox mr-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectLevelList),expression:\"selectLevelList\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":level},domProps:{\"value\":level,\"checked\":Array.isArray(_vm.selectLevelList)?_vm._i(_vm.selectLevelList,level)>-1:(_vm.selectLevelList)},on:{\"change\":function($event){var $$a=_vm.selectLevelList,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=level,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectLevelList=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectLevelList=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectLevelList=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":level}},[_vm._v(\"Level \"+_vm._s(level))])])])}),0)])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn btn-secondary btn-outline btn-icon btn-rounded d-flex justify-content-center align-items-center\"},[_c('i',{staticClass:\"zmdi zmdi-filter-list mx-0\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"ml-1\"},[_c('i',{staticClass:\"zmdi zmdi-close\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchGroup.vue?vue&type=script&lang=js&\"","<template >\r\n  <div class=\"px-1 mb-3\">\r\n    <div class=\"form-row\">\r\n      <div class=\"form-group form-rounded mb-0 mr-1\">\r\n        <select2 id=\"s2_demo2\" :options=\"typeList\" v-model=\"selectType\">\r\n        </select2>\r\n      </div>\r\n      <div class=\"form-group form-rounded mb-0 mr-1\">\r\n        <div class=\"input-group\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"Search materials\"\r\n            v-model=\"searchRname\"\r\n            @keyup.enter=\"searchCourseResource()\"\r\n          />\r\n          <!-- @keyup.enter=\"searchCourseResource()\" -->\r\n          <div class=\"input-group-append\">\r\n            <div\r\n              class=\"btn btn-secondary btn-outline btn-icon btn-rounded\"\r\n              type=\"button\"\r\n              @click=\"searchCourseResource()\"\r\n            >\r\n              <i class=\"zmdi zmdi-search text-secondary\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group form-rounded mb-0 mr-1\">\r\n        <select2 id=\"s2_demo3\" :options=\"sortTypeList\" v-model=\"selectSortType\">\r\n        </select2>\r\n      </div>\r\n      <div\r\n        v-if=\"haveLevel\"\r\n        class=\"form-group form-rounded mb-0 text-secondary\"\r\n        data-dismiss=\"modal\"\r\n        data-toggle=\"modal\"\r\n        data-target=\"#filterModal\"\r\n        @click=\"setAlllevel = ''\"\r\n      >\r\n        <div\r\n          class=\"btn btn-secondary btn-outline btn-icon btn-rounded d-flex justify-content-center align-items-center\"\r\n        >\r\n          <i class=\"zmdi zmdi-filter-list mx-0\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-if=\"searchStatus || selectLevelList.length !== 0\"\r\n      class=\"mb-0 mr-3 text-secondary mt-2\"\r\n    >\r\n      <div class=\"row col-sm-12\">\r\n        <strong class=\"col-sm-12\"\r\n          ><span class=\"mr-1\">{{ sortMList.length }}</span>\r\n          {{ $t(\"listings-for\")\r\n          }}<span v-if=\"tempSearchName !== ''\">\r\n            “ {{ searchRname }} ”\r\n          </span></strong\r\n        >\r\n        <div class=\"col-sm-12\" v-if=\"selectLevelList.length !== 0\">\r\n          <span v-for=\"level in selectLevelList\" :key=\"level\">\r\n            <span\r\n              class=\"badge badge-pill badge-secondary mr-2 mb-2 pointer\"\r\n              @click=\"removeLevel(level)\"\r\n              >{{ $t(\"level\") }} {{ level }}\r\n              <span class=\"ml-1\"><i class=\"zmdi zmdi-close\"></i></span\r\n            ></span>\r\n          </span>\r\n          <span class=\"text-primary pointer\" @click=\"clearLevelFilter()\">{{\r\n            $t(\"clear-all\")\r\n          }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- modal -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"filterModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"ModalTitle1\">{{ $t(\"filter\") }}</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <p>Filter by level</p>\r\n            <div class=\"col-sm-12 row\">\r\n              <!-- <div class=\"custom-control custom-checkbox col-sm-12 ml-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"custom-control-input\"\r\n                  id=\"std\"\r\n                  @click=\"selectAllLevel\"\r\n                  v-model=\"setAlllevel\"\r\n                  name=\"std\"\r\n                />\r\n                <label class=\"custom-control-label\" for=\"std\">\r\n                  <strong>{{ $t(\"all-level\") }}</strong>\r\n                </label>\r\n              </div> -->\r\n              <div\r\n                v-for=\"(level, index) in levelLists\"\r\n                :key=\"level + index\"\r\n                class=\"col-4\"\r\n              >\r\n                <div class=\"custom-control custom-checkbox mr-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    class=\"custom-control-input\"\r\n                    :id=\"level\"\r\n                    :value=\"level\"\r\n                    v-model=\"selectLevelList\"\r\n                  />\r\n                  <label class=\"custom-control-label\" :for=\"level\"\r\n                    >Level {{ level }}</label\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ApiSearchCourseResource } from \"../http/apis/CourseDetail\";\r\nimport { ApiSearchCollectionResource } from \"../http/apis/Collection\";\r\nexport default {\r\n  name: \"SearchGroup\",\r\n  data() {\r\n    return {\r\n      typeList: [\r\n        { text: \"All type\", id: \"all\" },\r\n        { text: \"Picture Book\", id: \"book\" },\r\n        { text: \"Video\", id: \"video\" },\r\n      ],\r\n      selectType: \"all\",\r\n      searchRname: \"\",\r\n      selectSortType: \"\",\r\n      searchStatus: false,\r\n      tempSearchName: \"\",\r\n      textbookList: [],\r\n      courseid: this.$route.params.courseid,\r\n      colSortList: [],\r\n      setAlllevel: \"\",\r\n      selectLevelList: [],\r\n      levelLists: [],\r\n      haveLevel: false,\r\n      courseInfo: {},\r\n      collectionInfo: {},\r\n    };\r\n  },\r\n  props: [\"mfilter\", \"page\"],\r\n  methods: {\r\n    clearLevelFilter() {\r\n      this.selectLevelList = [];\r\n    },\r\n    removeLevel(level) {\r\n      let vm = this;\r\n      let index = this.selectLevelList.indexOf(level);\r\n\r\n      if (index !== -1) {\r\n        vm.selectLevelList.splice(index, 1);\r\n      }\r\n    },\r\n    async searchCourseResource() {\r\n      //判斷是否有搜尋值\r\n      let vm = this;\r\n      if (this.searchRname !== \"\") {\r\n        this.searchStatus = true;\r\n        this.tempSearchName = this.searchRname;\r\n      } else {\r\n        this.searchStatus = false;\r\n      }\r\n      let sType = this.selectType;\r\n      if (this.selectType === \"all\") {\r\n        sType = \"*\";\r\n      }\r\n      let searchObj = {\r\n        type: sType,\r\n        keyword: this.searchRname,\r\n      };\r\n      let result = await ApiSearchCourseResource.post(this.courseid, searchObj)\r\n        .then((response) => {\r\n          if (vm.selectSortType === \"\") {\r\n            if (response.csrInfo.cntLevel !== 0) {\r\n              vm.haveLevel = true;\r\n              vm.selectSortType = \"level_asc\";\r\n            } else {\r\n              vm.haveLevel = false;\r\n              vm.selectSortType = \"unit_asc\";\r\n            }\r\n          }\r\n          response.record.forEach((element) => {\r\n            if (\r\n              element.level !== undefined &&\r\n              element.level !== \"\" &&\r\n              !vm.levelLists.includes(element.level)\r\n            ) {\r\n              vm.levelLists.push(element.level);\r\n            }\r\n            if (element.unit === undefined) {\r\n              element.unit = \"\";\r\n            }\r\n            element.link = element.information.includes(\"http\");\r\n          });\r\n          this.levelLists.sort();\r\n          this.textbookList = response.record;\r\n\r\n          if (response.status === \"success\") {\r\n            return true;\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n      if (result) {\r\n        this.$emit(\"getMList\", this.sortMList);\r\n        this.$emit(\"getFilterInfo\", this.selectLevelList, this.selectSortType);\r\n      }\r\n    },\r\n    async searchCollectionResource() {\r\n      let vm = this;\r\n      let type = this.selectType;\r\n      let keyword = this.searchRname;\r\n      if (this.selectType === \"all\") {\r\n        type = \"*\";\r\n      }\r\n      if (this.searchRname === \"\") {\r\n        keyword = \"*\";\r\n      }\r\n      if (this.searchRname !== \"\") {\r\n        this.searchStatus = true;\r\n        this.tempSearchName = this.searchRname;\r\n      } else {\r\n        this.searchStatus = false;\r\n      }\r\n\r\n      let result = await ApiSearchCollectionResource.get(\r\n        this.userid,\r\n        this.$route.params.cid,\r\n        keyword,\r\n        type\r\n      )\r\n        .then((response) => {\r\n          if (vm.selectSortType === \"\") {\r\n            if (response.moreInfo.cntLevel !== 0) {\r\n              vm.haveLevel = true;\r\n              vm.selectSortType = \"level_asc\";\r\n            } else {\r\n              vm.haveLevel = false;\r\n              vm.selectSortType = \"unit_asc\";\r\n            }\r\n          }\r\n          response.record.forEach((element) => {\r\n            //重建\r\n            if (\r\n              element.level !== undefined &&\r\n              element.level !== \"\" &&\r\n              !vm.levelLists.includes(element.level)\r\n            ) {\r\n              vm.levelLists.push(element.level);\r\n            }\r\n            element.lastplay = [];\r\n            element.last_access_all.forEach((item) => {\r\n              if (item.last_access !== \"0\") {\r\n                element.lastplay.push(item);\r\n              }\r\n            });\r\n          });\r\n          this.textbookList = response.record;\r\n          // this.collectionInfo = response.moreInfo;\r\n          if (response.moreInfo.cntLevel === 0) {\r\n            let slist = [\r\n              { text: \"Sort by title A to Z\", id: \"title_asc\" },\r\n              { text: \"Sort by title Z to A\", id: \"title_desc\" },\r\n              { text: \"Sort by unit Smallest to Largest\", id: \"unit_asc\" },\r\n              { text: \"Sort by unit Largest to Smallest\", id: \"unit_desc\" },\r\n            ];\r\n            vm.$store.dispatch(\"common/setSortTypeList\", slist);\r\n          } else if (response.moreInfo.cntUnit === 0) {\r\n            let slist = [\r\n              { text: \"Sort by title A to Z\", id: \"title_asc\" },\r\n              { text: \"Sort by title Z to A\", id: \"title_desc\" },\r\n              { text: \"Sort by level A to Z\", id: \"level_asc\" },\r\n              { text: \"Sort by level Z to A\", id: \"level_desc\" },\r\n            ];\r\n            vm.$store.dispatch(\"common/setSortTypeList\", slist);\r\n          }\r\n          if (response.status === \"success\") {\r\n            return true;\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n      if (result) {\r\n        this.$emit(\"getMColList\", this.sortMList);\r\n      }\r\n    },\r\n    selectAllLevel(event) {\r\n      const vm = this;\r\n\r\n      if (!event.currentTarget.checked) {\r\n        vm.selectLevelList = [];\r\n      } else {\r\n        //實現全選\r\n        vm.selectLevelList = [];\r\n        vm.levelLists.forEach(function (level, i) {\r\n          vm.selectLevelList.push(level);\r\n        });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.openedTextbookList = this.openedTextbookLists;\r\n    if (this.page !== \"collection\") {\r\n      this.searchCourseResource();\r\n    } else {\r\n      this.searchCollectionResource();\r\n    }\r\n    this.courseInfo = this.courseInfos;\r\n  },\r\n  computed: {\r\n    courseInfos() {\r\n      return this.$store.state.courseInfo.courseInfo;\r\n    },\r\n    userid() {\r\n      return this.$store.state.auth.userid;\r\n    },\r\n    sortMList() {\r\n      let sortMaterial = [];\r\n      let openb = this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"book\";\r\n      });\r\n      let openv = this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"video\";\r\n      });\r\n      if (this.mfilter === \"openm\") {\r\n        // return this.$_sortMaterial(this.openedMList, this.selectSortType);\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.openedMList,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n      } else if (this.mfilter === \"openb\") {\r\n        sortMaterial = this.$_sortMaterial(\r\n          openb,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n        // return this.$_sortMaterial(this.openedBookList, this.selectSortType);\r\n      } else if (this.mfilter === \"openv\") {\r\n        sortMaterial = this.$_sortMaterial(\r\n          openv,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n        // return this.$_sortMaterial(this.openedVideoList, this.selectSortType);\r\n      } else {\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.textbookList,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n      }\r\n      // return this.$_sortMaterial(this.textbookList, this.selectSortType);\r\n      return sortMaterial;\r\n      //   this.$emit(\"getMList\", sortMaterial);\r\n    },\r\n    sortTypeList() {\r\n      return this.$store.state.common.sortTypeList;\r\n    },\r\n    openedMList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\";\r\n      });\r\n    },\r\n    openedBookList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"book\";\r\n      });\r\n    },\r\n    openedVideoList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"video\";\r\n      });\r\n    },\r\n    // levelLists() {\r\n    //   let levelList = [];\r\n    //   this.textbookList.forEach((element) => {\r\n    //     if (element.level !== undefined && !levelList.includes(element.level)) {\r\n    //       levelList.push(element.level);\r\n    //     }\r\n    //   });\r\n    //   return levelList;\r\n    // },\r\n    openedTextbookLists() {\r\n      return this.$store.state.courseInfo.openedTextbookList;\r\n    },\r\n  },\r\n  watch: {\r\n    // textbookList() {\r\n    //   // console.log('change');\r\n    //   this.$emit(\"getMList\", this.sortMList);\r\n    // },\r\n    courseInfo() {\r\n      if (this.$route.name !== \"CollectionDetail\") {\r\n        if (this.courseInfo.cntLevel === 0) {\r\n          let slist = [\r\n            { text: \"Sort by title A to Z\", id: \"title_asc\" },\r\n            { text: \"Sort by title Z to A\", id: \"title_desc\" },\r\n            { text: \"Sort by unit Smallest to Largest\", id: \"unit_asc\" },\r\n            { text: \"Sort by unit Largest to Smallest\", id: \"unit_desc\" },\r\n          ];\r\n          this.$store.dispatch(\"common/setSortTypeList\", slist);\r\n        } else if (this.courseInfo.cntUnit === 0) {\r\n          let slist = [\r\n            { text: \"Sort by title A to Z\", id: \"title_asc\" },\r\n            { text: \"Sort by title Z to A\", id: \"title_desc\" },\r\n            { text: \"Sort by level A to Z\", id: \"level_asc\" },\r\n            { text: \"Sort by level Z to A\", id: \"level_desc\" },\r\n          ];\r\n          this.$store.dispatch(\"common/setSortTypeList\", slist);\r\n        } else {\r\n          let slist = [\r\n            { text: \"Sort by title A to Z\", id: \"title_asc\" },\r\n            { text: \"Sort by title Z to A\", id: \"title_desc\" },\r\n            { text: \"Sort by level A to Z\", id: \"level_asc\" },\r\n            { text: \"Sort by level Z to A\", id: \"level_desc\" },\r\n            { text: \"Sort by unit Smallest to Largest\", id: \"unit_asc\" },\r\n            { text: \"Sort by unit Largest to Smallest\", id: \"unit_desc\" },\r\n          ];\r\n          this.$store.dispatch(\"common/setSortTypeList\", slist);\r\n        }\r\n      }\r\n    },\r\n    courseInfos() {\r\n      this.courseInfo = this.courseInfos;\r\n    },\r\n    selectLevelList() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    mfilter() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    selectSortType() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    openedTextbookLists() {\r\n      this.openedTextbookList = this.openedTextbookLists;\r\n    },\r\n    searchRname() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    selectType() {\r\n      // console.log(this.page);\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\">\r\n</style>","import { render, staticRenderFns } from \"./SearchGroup.vue?vue&type=template&id=fcd75f9e&\"\nimport script from \"./SearchGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}