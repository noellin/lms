{"version":3,"sources":["webpack:///./src/views/CollectionDetail.vue?f3c7","webpack:///./src/views/CollectionDetail.vue?2855","webpack:///src/views/CollectionDetail.vue","webpack:///./src/views/CollectionDetail.vue","webpack:///./src/http/apis/Collection.js","webpack:///./src/components/SearchGroup.vue?32b0","webpack:///./src/components/SearchGroup.vue?c773","webpack:///src/components/SearchGroup.vue","webpack:///./src/components/SearchGroup.vue","webpack:///./src/views/CollectionDetail.vue?40c6"],"names":["name","components","CustomHeader","SearchGroup","data","cname","cResourceList","typeList","text","id","selectType","courseList","searchRname","lastPlayList","tempNote","watch","this","$route","params","getCollectionContent","computed","$store","state","auth","userid","temp","forEach","item","undefined","unit","methods","textbookList","console","log","lp","modal","type","keyword","get","cid","then","response","record","element","lastplay","last_access_all","last_access","push","catch","err","$router","path","pid","course","window","open","pkgid","colid","resourceid","token","courseid","rid","component","_vm","_h","$createElement","_c","_self","attrs","staticClass","on","$back","_v","_s","$t","getMColList","$event","gotoCollectionEdit","_l","cr","index","key","note","directives","rawName","value","expression","level","_e","resource_name","length","showLastPlay","getAvailableCourse","_m","course_name","_f","gotoCourse","ApiGetCollection","ApiSearchCollection","ApiSearchCollectionResource","ApiGetCollectionContent","ApiGetPkgList","ApiSetCollection","post","paramObj","ApiGetPkgMaterial","ApiDeleteCollection","ApiGetCollectionInfo","ApiGetAvailableCourse","uid","ApiGetCollectionList","ApiAddResource","ApiUpdateCollection","put","selectSortType","searchStatus","tempSearchName","colSortList","setAlllevel","selectLevelList","levelLists","haveLevel","props","vm","indexOf","splice","sType","searchObj","csrInfo","cntLevel","includes","link","information","sort","status","$emit","sortMList","moreInfo","event","currentTarget","checked","i","openedTextbookList","openedTextbookLists","page","searchCourseResource","searchCollectionResource","sortMaterial","mfilter","$_sortMaterial","openedMList","openedBookList","openedVideoList","common","sortTypeList","filter","openflag","courseInfo","model","callback","$$v","domProps","_k","keyCode","target","composing","removeLevel","clearLevelFilter","Array","isArray","_i","$$a","$$el","$$c","$$i","concat","slice"],"mappings":"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","file":"js/chunk-3abda8b4.bed9e8b6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app3\"}},[_c('div',{staticClass:\"content-wrapper\"},[_c('custom-header'),_c('div',{staticClass:\"content\"},[_c('header',{staticClass:\"page-header\"},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('div',{staticClass:\"mt-2 mr-3\"},[_c('a',{staticClass:\"btn-rounded-icon btn-primary ml-2 pointer\",on:{\"click\":_vm.$back}},[_c('i',{staticClass:\"zmdi zmdi-arrow-left zmdi-hc-fw text-white\"})])]),_c('div',{staticClass:\"mr-auto\"},[_c('h1',[_vm._v(_vm._s(_vm.$t(\"collection\")))]),_c('p',{staticClass:\"second-title\"},[_vm._v(_vm._s(_vm.cname))])])])]),_c('section',{staticClass:\"page-content container-fluid\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('search-group',{attrs:{\"mfilter\":'',\"page\":'collection'},on:{\"getMColList\":_vm.getMColList}}),_c('div',{staticClass:\"text-right\"},[_c('a',{staticClass:\"btn btn-primary btn-rounded btn-outline\",on:{\"click\":function($event){return _vm.gotoCollectionEdit()}}},[_c('i',{staticClass:\"la la-edit\"}),_vm._v(_vm._s(_vm.$t(\"edit\")))])])],1),_c('div',{staticClass:\"row\"},_vm._l((_vm.cResourceList),function(cr,index){return _c('div',{key:cr.resourceid+index,staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"align-self-center overlay-wrap mr-4 w-150 h-150 border\"},[_c('span',{staticClass:\"overlay-icon\"},[(cr.note === 'video')?_c('i',{staticClass:\"fas fa-video\"}):_c('i',{staticClass:\"fas fa-book-open\"})]),_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(\n                        'https://lms.mangosteems.com/cms/resdl/cover/' +\n                        cr.resourceid\n                      ),expression:\"\\n                        'https://lms.mangosteems.com/cms/resdl/cover/' +\\n                        cr.resourceid\\n                      \"}],staticClass:\"overlay-img cus-img\",attrs:{\"alt\":\"course image\"}})]),_c('div',{staticClass:\"media-body\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('div',[(\n                            cr.level !== '' &&\n                            cr.level !== undefined &&\n                            cr.level !== null\n                          )?_c('span',{staticClass:\"badge badge-pill badge-secondary\"},[_vm._v(_vm._s(_vm.$t(\"level\"))+\" \"+_vm._s(cr.level))]):_vm._e(),(cr.unit !== '' && cr.unit !== undefined)?_c('span',{staticClass:\"badge badge-pill badge-secondary ml-2\"},[_vm._v(_vm._s(_vm.$t(\"unit\"))+\" \"+_vm._s(cr.unit))]):_vm._e(),_c('h4',{staticClass:\"mb-0 mt-3 d-flex align-self-center text-primary\"},[_c('div',{attrs:{\"title\":\"\"}},[_vm._v(\" \"+_vm._s(cr.resource_name)+\" \")])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(cr.lastplay.length !== 0),expression:\"cr.lastplay.length !== 0\"}],staticClass:\"text-muted mt-1\"},[_c('i',{staticClass:\"zmdi zmdi-notifications mr-1\"}),_c('small',{staticClass:\"fw300 pointer\",on:{\"click\":function($event){return _vm.showLastPlay(cr.lastplay)}}},[_vm._v(_vm._s(_vm.$t(\"last-played\"))+\" \")])])]),_c('div',{staticClass:\"text-primary pointer\",attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#StartModal\"},on:{\"click\":function($event){_vm.getAvailableCourse(cr.resourceid);\n                          _vm.tempNote = cr.note;}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"start\"))),_vm._m(0,true)])])])])])])])}),0)])])],1),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"lastPlayModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[(_vm.lastPlayList.length !== 0)?_c('h5',{staticClass:\"modal-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"last-play-record-course-date\"))+\" \")]):_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"no-record\")))]),_vm._m(1)]),(_vm.lastPlayList.length !== 0)?_c('div',{staticClass:\"modal-body pb-4\"},_vm._l((_vm.lastPlayList),function(lp){return _c('div',{key:lp.courseid+'lastplay'},[_c('span',[_vm._v(_vm._s(lp.course_name)+\" ： \"+_vm._s(_vm._f(\"dateConversion\")(lp.last_access)))])])}),0):_c('div',{staticClass:\"modal-body pb-4\"},[_c('p',[_vm._v(_vm._s(_vm.$t(\"no-open-or-play-record\"))+\".\")])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"StartModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[(_vm.courseList.length !== 0)?_c('h5',{staticClass:\"modal-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"start\"))+\" \")]):_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"no-course\")))]),_vm._m(2)]),(_vm.courseList.length !== 0)?_c('div',{staticClass:\"modal-body pb-4\"},[_c('h5',[_vm._v(_vm._s(_vm.$t(\"what-is-your-ongoing-course\"))+\"?\")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(\"this-material-can-only-be-viewed-in-the-following-course\"))+\". \")]),_vm._l((_vm.courseList),function(course){return _c('a',{key:course.resourceid,staticClass:\"btn btn-primary btn-outline btn-rounded mr-3 mb-3\",attrs:{\"title\":\"\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){return _vm.gotoCourse(course)}}},[_vm._v(_vm._s(course.course_name))])})],2):_c('div',{staticClass:\"modal-body pb-4\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t( \"the-course-you-can-use-this-collection-has-expired-if-you-wish-to-continue-using-it-you-must-renew-your-contract\" ))+\". \")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"btn-rounded-icon btn-primary rounded ml-2\"},[_c('i',{staticClass:\"zmdi zmdi-arrow-right zmdi-hc-fw text-white\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=script&lang=js&\"","<template>\r\n  <div id=\"app3\">\r\n    <!-- END MENU SIDEBAR WRAPPER -->\r\n    <div class=\"content-wrapper\">\r\n      <!-- TOP TOOLBAR WRAPPER -->\r\n      <custom-header></custom-header>\r\n      <!-- END TOP TOOLBAR WRAPPER -->\r\n      <div class=\"content\">\r\n        <header class=\"page-header\">\r\n          <div class=\"d-flex align-items-start\">\r\n            <div class=\"mt-2 mr-3\">\r\n              <a\r\n                @click=\"$back\"\r\n                class=\"btn-rounded-icon btn-primary ml-2 pointer\"\r\n                ><i class=\"zmdi zmdi-arrow-left zmdi-hc-fw text-white\"></i\r\n              ></a>\r\n            </div>\r\n            <div class=\"mr-auto\">\r\n              <h1>{{ $t(\"collection\") }}</h1>\r\n              <p class=\"second-title\">{{ cname }}</p>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        <section class=\"page-content container-fluid\">\r\n          <div class=\"d-flex justify-content-between\">\r\n            <search-group\r\n              :mfilter=\"''\"\r\n              @getMColList=\"getMColList\"\r\n              :page=\"'collection'\"\r\n            ></search-group>\r\n            <!-- 20210310 -->\r\n            <!-- <div class=\"pb-3\">\r\n              <div class=\"form-row\">\r\n                <div class=\"form-group form-rounded form-custom mb-0 mr-3\">\r\n                  <select2\r\n                    id=\"s2_demo1\"\r\n                    class=\"\"\r\n                    :options=\"typeList\"\r\n                    v-model=\"selectType\"\r\n                  >\r\n                  </select2>\r\n                </div>\r\n                <div class=\"form-group form-rounded mb-0\">\r\n                  <div class=\"input-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Search...\"\r\n                      v-model=\"searchRname\"\r\n                      @keyup.enter=\"searchCollectionResource()\"\r\n                    />\r\n                    <div class=\"input-group-append\">\r\n                      <div\r\n                        class=\"btn btn-secondary btn-outline btn-icon btn-rounded\"\r\n                        type=\"button\"\r\n                        @click=\"searchCollectionResource()\"\r\n                      >\r\n                        <i class=\"zmdi zmdi-search text-secondary\"></i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> -->\r\n            <div class=\"text-right\">\r\n              <a\r\n                @click=\"gotoCollectionEdit()\"\r\n                class=\"btn btn-primary btn-rounded btn-outline\"\r\n                ><i class=\"la la-edit\"></i>{{ $t(\"edit\") }}</a\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div\r\n              class=\"col-12\"\r\n              v-for=\"(cr,index) in cResourceList\"\r\n              :key=\"cr.resourceid+index\"\r\n            >\r\n              <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                  <div class=\"media\">\r\n                    <div\r\n                      class=\"align-self-center overlay-wrap mr-4 w-150 h-150 border\"\r\n                    >\r\n                      <span class=\"overlay-icon\">\r\n                        <i class=\"fas fa-video\" v-if=\"cr.note === 'video'\"></i\r\n                        ><i class=\"fas fa-book-open\" v-else></i>\r\n                      </span>\r\n\r\n                      <img\r\n                        v-lazy=\"\r\n                          'https://lms.mangosteems.com/cms/resdl/cover/' +\r\n                          cr.resourceid\r\n                        \"\r\n                        class=\"overlay-img cus-img\"\r\n                        alt=\"course image\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"media-body\">\r\n                      <div class=\"d-flex justify-content-between\">\r\n                        <div>\r\n                          <span\r\n                            class=\"badge badge-pill badge-secondary\"\r\n                            v-if=\"\r\n                              cr.level !== '' &&\r\n                              cr.level !== undefined &&\r\n                              cr.level !== null\r\n                            \"\r\n                            >{{ $t(\"level\") }} {{ cr.level }}</span\r\n                          >\r\n                          <span\r\n                            class=\"badge badge-pill badge-secondary ml-2\"\r\n                            v-if=\"cr.unit !== '' && cr.unit !== undefined\"\r\n                            >{{ $t(\"unit\") }} {{ cr.unit }}</span\r\n                          >\r\n                          <h4\r\n                            class=\"mb-0 mt-3 d-flex align-self-center text-primary\"\r\n                          >\r\n                            <div title=\"\">\r\n                              <!-- <span\r\n                                v-if=\"cr.unit !== ''\"\r\n                                style=\"font-size: 18px\"\r\n                                >{{ cr.unit }} -\r\n                              </span> -->\r\n                              {{ cr.resource_name }}\r\n                            </div>\r\n                          </h4>\r\n                          <p\r\n                            class=\"text-muted mt-1\"\r\n                            v-show=\"cr.lastplay.length !== 0\"\r\n                          >\r\n                            <i class=\"zmdi zmdi-notifications mr-1\"></i>\r\n                            <small\r\n                              class=\"fw300 pointer\"\r\n                              @click=\"showLastPlay(cr.lastplay)\"\r\n                              >{{ $t(\"last-played\") }}\r\n                              <!-- <span>{{ cr.last_access | dateConversion }}</span> -->\r\n                            </small>\r\n                          </p>\r\n                        </div>\r\n                        <div\r\n                          class=\"text-primary pointer\"\r\n                          @click=\"\r\n                            getAvailableCourse(cr.resourceid);\r\n                            tempNote = cr.note;\r\n                          \"\r\n                          data-toggle=\"modal\"\r\n                          data-target=\"#StartModal\"\r\n                        >\r\n                          {{ $t(\"start\")\r\n                          }}<a class=\"btn-rounded-icon btn-primary rounded ml-2\"\r\n                            ><i\r\n                              class=\"zmdi zmdi-arrow-right zmdi-hc-fw text-white\"\r\n                            ></i\r\n                          ></a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n    <!-- lastplay MODAL -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"lastPlayModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" v-if=\"lastPlayList.length !== 0\">\r\n              {{ $t(\"last-play-record-course-date\") }}\r\n            </h5>\r\n            <h5 class=\"modal-title\" v-else>{{ $t(\"no-record\") }}</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-if=\"lastPlayList.length !== 0\">\r\n            <div v-for=\"lp in lastPlayList\" :key=\"lp.courseid+'lastplay'\">\r\n              <span\r\n                >{{ lp.course_name }} ：\r\n                {{ lp.last_access | dateConversion }}</span\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-else>\r\n            <p>{{ $t(\"no-open-or-play-record\") }}.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- END CONTENT WRAPPER -->\r\n    <!-- old Start MODAL -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"StartModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" v-if=\"courseList.length !== 0\">\r\n              {{ $t(\"start\") }}\r\n            </h5>\r\n            <h5 class=\"modal-title\" v-else>{{ $t(\"no-course\") }}</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-if=\"courseList.length !== 0\">\r\n            <h5>{{ $t(\"what-is-your-ongoing-course\") }}?</h5>\r\n            <p>\r\n              {{\r\n                $t(\"this-material-can-only-be-viewed-in-the-following-course\")\r\n              }}.\r\n            </p>\r\n            <a\r\n              title=\"\"\r\n              class=\"btn btn-primary btn-outline btn-rounded mr-3 mb-3\"\r\n              v-for=\"course in courseList\"\r\n              :key=\"course.resourceid\"\r\n              data-dismiss=\"modal\"\r\n              @click=\"gotoCourse(course)\"\r\n              >{{ course.course_name }}</a\r\n            >\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-else>\r\n            <p>\r\n              {{\r\n                $t(\r\n                  \"the-course-you-can-use-this-collection-has-expired-if-you-wish-to-continue-using-it-you-must-renew-your-contract\"\r\n                )\r\n              }}.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import CustomHeader from \"../components/CustomHeader\";\r\nimport {\r\n  ApiGetCollectionContent,\r\n  ApiSearchCollection,\r\n  ApiGetAvailableCourse,\r\n  ApiSearchCollectionResource,\r\n} from \"../http/apis/Collection\";\r\nimport Select2 from \"v-select2-component\";\r\nimport $ from \"jquery\";\r\n// import Menu\r\nimport SearchGroup from \"../components/SearchGroup\";\r\nexport default {\r\n  name: \"CollectionDetail\",\r\n  components: {\r\n    CustomHeader: () => import(\"@/components/CustomHeader.vue\"),\r\n    SearchGroup,\r\n  },\r\n  data() {\r\n    return {\r\n      cname: \"\",\r\n      cResourceList: [],\r\n      typeList: [\r\n        { text: \"All type\", id: \"all\" },\r\n        { text: \"Picture Book\", id: \"book\" },\r\n        { text: \"Video\", id: \"video\" },\r\n      ],\r\n      selectType: \"all\",\r\n      courseList: [],\r\n      searchRname: \"\",\r\n      lastPlayList: [],\r\n      tempNote: \"book\",\r\n    };\r\n  },\r\n  created() {},\r\n  watch: {\r\n    // selectType() {\r\n    //   this.searchCollectionResource();\r\n    // },\r\n  },\r\n  mounted() {\r\n    this.cname = this.$route.params.cname;\r\n    this.getCollectionContent();\r\n  },\r\n  computed: {\r\n    userid() {\r\n      return this.$store.state.auth.userid;\r\n    },\r\n    materialSort() {\r\n      let temp = [...this.cResourceList];\r\n      temp.forEach((item) => {\r\n        if (item.unit === undefined) {\r\n          item.unit = \"\";\r\n        }\r\n      });\r\n      return temp;\r\n    },\r\n  },\r\n  methods: {\r\n    getMColList(textbookList) {\r\n      console.log(textbookList);\r\n      this.cResourceList = [...textbookList];\r\n    },\r\n    showLastPlay(lp) {\r\n      this.lastPlayList = [];\r\n      this.lastPlayList = lp;\r\n      $(\"#lastPlayModal\").modal(\"show\");\r\n    },\r\n    searchCollectionResource() {\r\n      let type = this.selectType;\r\n      let keyword = this.searchRname;\r\n      if (this.selectType === \"all\") {\r\n        type = \"*\";\r\n      }\r\n      if (this.searchRname === \"\") {\r\n        keyword = \"*\";\r\n      }\r\n      ApiSearchCollectionResource.get(\r\n        this.userid,\r\n        this.$route.params.cid,\r\n        keyword,\r\n        type\r\n      )\r\n        .then((response) => {\r\n          response.record.forEach((element) => {\r\n            //重建\r\n            element.lastplay = [];\r\n            element.last_access_all.forEach((item) => {\r\n              if (item.last_access !== \"0\") {\r\n                element.lastplay.push(item);\r\n              }\r\n            });\r\n          });\r\n          response.record.forEach((item) => {});\r\n          this.cResourceList = response.record;\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n    getCollectionContent() {\r\n      console.log(this.userid, this.$route.params.cid);\r\n\r\n      ApiGetCollectionContent.get(this.userid, this.$route.params.cid)\r\n        .then((response) => {\r\n          response.record.forEach((element) => {\r\n            //重建\r\n            element.lastplay = [];\r\n            element.last_access_all.forEach((item) => {\r\n              if (item.last_access !== \"0\") {\r\n                element.lastplay.push(item);\r\n              }\r\n            });\r\n          });\r\n          console.log(response.record);\r\n          this.cResourceList = response.record;\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n    gotoCollectionEdit() {\r\n      this.$router.push({\r\n        path: `/collection/edit/${this.$route.params.pid}/${this.$route.params.cname}/${this.$route.params.cid}`,\r\n      });\r\n    },\r\n    gotoCourse(course) {\r\n      console.log(course);\r\n      // http://localhost:8080/web/course_material/course=test%20Course/type=Material/CRSfuqFSTo8pycu7vqtpVz9Xe\r\n      // this.$router.push({\r\n      //   path: `/course_material/course=${course.resource_name}/type=Material/${course.resourceid}`,\r\n      // });\r\n      if (this.tempNote === \"book\") {\r\n        window.open(\r\n          `${process.env.VUE_APP_DOMAIN}/bktchr/?pkgid=${course.pkgid}&colid=${course.colid}&resid=${course.resourceid}&mid=&lmsd=${process.env.VUE_APP_LMSD}&auth=${this.$store.state.auth.token}&crsid=${course.courseid}&userid=${this.userid}`\r\n        );\r\n      } else {\r\n        window.open(\r\n          `${process.env.VUE_APP_DOMAIN}/vptchr/?pkgid=${course.pkgid}&colid=${course.colid}&resid=${course.resourceid}&mid=&lmsd=${process.env.VUE_APP_LMSD}&auth=${this.$store.state.auth.token}&crsid=${course.courseid}&userid=${this.userid}`\r\n        );\r\n      }\r\n    },\r\n    getAvailableCourse(rid) {\r\n      console.log(this.userid, this.$route.params.cid, rid);\r\n      ApiGetAvailableCourse.get(this.userid, this.$route.params.cid, rid)\r\n        .then((response) => {\r\n          this.courseList = response.record;\r\n          console.log(response.record);\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.cus-img {\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n  width: auto;\r\n  height: auto;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n}\r\n.overlay-icon {\r\n  z-index: 99;\r\n}\r\n// a:not([href]):not([tabindex]) {\r\n//   color: rgba(255, 255, 255, 0.9) !important;\r\n// }\r\n</style>","import { render, staticRenderFns } from \"./CollectionDetail.vue?vue&type=template&id=2aceaf91&scoped=true&\"\nimport script from \"./CollectionDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./CollectionDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CollectionDetail.vue?vue&type=style&index=0&id=2aceaf91&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2aceaf91\",\n  null\n  \n)\n\nexport default component.exports","import {\r\n    get,\r\n    post,\r\n    put,\r\n    remove\r\n} from \"../https.js\";\r\n\r\n\r\n//CourseList相關 api\r\n\r\nexport const ApiGetCollection = {\r\n    get: (userid) => {\r\n        return get(`/collection/byteacher/${userid}`);\r\n    },\r\n};\r\nexport const ApiSearchCollection = {\r\n    get: (userid, keyword) => {\r\n\r\n        return get(`/collection/search/${userid}/${keyword}`);\r\n    },\r\n};\r\nexport const ApiSearchCollectionResource = {\r\n    get: (userid, cid, keyword, type) => {\r\n        return get(`/collection/searchresource/${userid}/${cid}/${keyword}/${type}`);\r\n    },\r\n};\r\nexport const ApiGetCollectionContent = {\r\n    get: (userid, cid) => {\r\n        console.log('get col content');\r\n        console.log(userid);\r\n        console.log(cid);\r\n        return get(`/collection/content/${userid}/${cid}`);\r\n    },\r\n};\r\nexport const ApiGetPkgList = {\r\n    get: (userid) => {\r\n        return get(`/collection/listpkgbyteacher/${userid}`);\r\n    }\r\n}\r\n\r\nexport const ApiSetCollection = {\r\n    post: (paramObj) => {\r\n        console.log('save collection');\r\n        return post(`/collection/create`, paramObj);\r\n    }\r\n}\r\n\r\nexport const ApiGetPkgMaterial = {\r\n    get: (pkgid) => {\r\n        console.log(pkgid);\r\n        return get(`/collection/pkgresource/${pkgid}`);\r\n    }\r\n}\r\n\r\nexport const ApiDeleteResource = {\r\n    get: (uid, cid, rid) => {\r\n        return get(`/collection/deleteresource/${uid}/${cid}/${rid}`);\r\n    }\r\n}\r\n\r\nexport const ApiDeleteCollection = {\r\n    get: (cid) => {\r\n        return get(`/collection/delete/${cid}`);\r\n    }\r\n}\r\n\r\nexport const ApiGetCollectionInfo = {\r\n    get: (cid, pid) => {\r\n        return get(`/collection/pkgmapcurs/${cid}/${pid}`)\r\n    }\r\n}\r\n\r\nexport const ApiGetAvailableCourse = {\r\n    get: (uid, cid, rid) => {\r\n        return get(`/collection/availablecourse/${uid}/${cid}/${rid}`)\r\n    }\r\n}\r\n\r\n//course material use\r\nexport const ApiGetCollectionList = {\r\n    get: (uid, rid) => {\r\n        return get(`/collection/exist/${uid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApiGetResource = {\r\n    get: (uid, colid) => {\r\n        return get(`/collection/getresource/${uid}/${colid}`)\r\n    }\r\n};\r\n\r\nexport const ApiAddResource = {\r\n    get: (colid, rid) => {\r\n        console.log(`/collection/addresource/${colid}/${rid}`);\r\n        return get(`/collection/addresource/${colid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApideleteResource = {\r\n    get: (uid, colid, rid) => {\r\n        return get(`/collection/deleteresource/${uid}/${colid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApiUpdateCollection = {\r\n    put: (colid, paramObj) => {\r\n        return put(`/collection/update/${colid}`, paramObj)\r\n    }\r\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pb-3\"},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group form-rounded mb-0 mr-3\"},[_c('select2',{attrs:{\"id\":\"s2_demo2\",\"options\":_vm.typeList},model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}})],1),_c('div',{staticClass:\"form-group form-rounded mb-0 mr-3\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchRname),expression:\"searchRname\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search materials\"},domProps:{\"value\":(_vm.searchRname)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchCourseResource()},\"input\":function($event){if($event.target.composing){ return; }_vm.searchRname=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('div',{staticClass:\"btn btn-secondary btn-outline btn-icon btn-rounded\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.searchCourseResource()}}},[_c('i',{staticClass:\"zmdi zmdi-search text-secondary\"})])])])]),_c('div',{staticClass:\"form-group form-rounded mb-0 mr-3\"},[_c('select2',{attrs:{\"id\":\"s2_demo3\",\"options\":_vm.sortTypeList},model:{value:(_vm.selectSortType),callback:function ($$v) {_vm.selectSortType=$$v},expression:\"selectSortType\"}})],1),(_vm.haveLevel)?_c('div',{staticClass:\"form-group form-rounded mb-0 text-secondary\",attrs:{\"data-dismiss\":\"modal\",\"data-toggle\":\"modal\",\"data-target\":\"#filterModal\"},on:{\"click\":function($event){_vm.setAlllevel = ''}}},[_vm._m(0)]):_vm._e()]),(_vm.searchStatus || _vm.selectLevelList.length !== 0)?_c('div',{staticClass:\"mb-0 mr-3 text-secondary mt-2\"},[_c('div',{staticClass:\"row col-sm-12\"},[_c('strong',{staticClass:\"col-sm-12\"},[_c('span',{staticClass:\"mr-1\"},[_vm._v(_vm._s(_vm.sortMList.length))]),_vm._v(\" \"+_vm._s(_vm.$t(\"listings-for\"))),(_vm.tempSearchName !== '')?_c('span',[_vm._v(\" “ \"+_vm._s(_vm.tempSearchName)+\" ” \")]):_vm._e()]),(_vm.selectLevelList.length !== 0)?_c('div',{staticClass:\"col-sm-12\"},[_vm._l((_vm.selectLevelList),function(level){return _c('span',{key:level},[_c('span',{staticClass:\"badge badge-pill badge-secondary mr-2 mb-2 pointer\",on:{\"click\":function($event){return _vm.removeLevel(level)}}},[_vm._v(\"Level \"+_vm._s(level)+\" \"),_vm._m(1,true)])])}),_c('span',{staticClass:\"text-primary pointer\",on:{\"click\":function($event){return _vm.clearLevelFilter()}}},[_vm._v(\"Clear all\")])],2):_vm._e()])]):_vm._e(),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"filterModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"ModalTitle1\"}},[_vm._v(_vm._s(_vm.$t(\"filter\")))]),_vm._m(2)]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(\"Filter by level\")]),_c('div',{staticClass:\"col-sm-12 row\"},_vm._l((_vm.levelLists),function(level,index){return _c('div',{key:level + index,staticClass:\"px-3\"},[_c('div',{staticClass:\"custom-control custom-checkbox mr-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectLevelList),expression:\"selectLevelList\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":level},domProps:{\"value\":level,\"checked\":Array.isArray(_vm.selectLevelList)?_vm._i(_vm.selectLevelList,level)>-1:(_vm.selectLevelList)},on:{\"change\":function($event){var $$a=_vm.selectLevelList,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=level,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectLevelList=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectLevelList=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectLevelList=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":level}},[_vm._v(\"Level \"+_vm._s(level))])])])}),0)])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn btn-secondary btn-outline btn-icon btn-rounded d-flex justify-content-center align-items-center\"},[_c('i',{staticClass:\"zmdi zmdi-filter-list mx-0\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"ml-1\"},[_c('i',{staticClass:\"zmdi zmdi-close\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchGroup.vue?vue&type=script&lang=js&\"","<template >\r\n  <div class=\"pb-3\">\r\n    <div class=\"form-row\">\r\n      <div class=\"form-group form-rounded mb-0 mr-3\">\r\n        <select2 id=\"s2_demo2\" :options=\"typeList\" v-model=\"selectType\">\r\n        </select2>\r\n      </div>\r\n      <div class=\"form-group form-rounded mb-0 mr-3\">\r\n        <div class=\"input-group\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"Search materials\"\r\n            v-model=\"searchRname\"\r\n            @keyup.enter=\"searchCourseResource()\"\r\n          />\r\n          <!-- @keyup.enter=\"searchCourseResource()\" -->\r\n          <div class=\"input-group-append\">\r\n            <div\r\n              class=\"btn btn-secondary btn-outline btn-icon btn-rounded\"\r\n              type=\"button\"\r\n              @click=\"searchCourseResource()\"\r\n            >\r\n              <i class=\"zmdi zmdi-search text-secondary\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group form-rounded mb-0 mr-3\">\r\n        <select2 id=\"s2_demo3\" :options=\"sortTypeList\" v-model=\"selectSortType\">\r\n        </select2>\r\n      </div>\r\n      <div\r\n        v-if=\"haveLevel\"\r\n        class=\"form-group form-rounded mb-0 text-secondary\"\r\n        data-dismiss=\"modal\"\r\n        data-toggle=\"modal\"\r\n        data-target=\"#filterModal\"\r\n        @click=\"setAlllevel = ''\"\r\n      >\r\n        <div\r\n          class=\"btn btn-secondary btn-outline btn-icon btn-rounded d-flex justify-content-center align-items-center\"\r\n        >\r\n          <i class=\"zmdi zmdi-filter-list mx-0\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-if=\"searchStatus || selectLevelList.length !== 0\"\r\n      class=\"mb-0 mr-3 text-secondary mt-2\"\r\n    >\r\n      <div class=\"row col-sm-12\">\r\n        <strong class=\"col-sm-12\"\r\n          ><span class=\"mr-1\">{{ sortMList.length }}</span>\r\n          {{ $t(\"listings-for\")\r\n          }}<span v-if=\"tempSearchName !== ''\">\r\n            “ {{ tempSearchName }} ”\r\n          </span></strong\r\n        >\r\n        <div class=\"col-sm-12\" v-if=\"selectLevelList.length !== 0\">\r\n          <span v-for=\"level in selectLevelList\" :key=\"level\">\r\n            <span\r\n              class=\"badge badge-pill badge-secondary mr-2 mb-2 pointer\"\r\n              @click=\"removeLevel(level)\"\r\n              >Level {{ level }}\r\n              <span class=\"ml-1\"><i class=\"zmdi zmdi-close\"></i></span\r\n            ></span>\r\n          </span>\r\n          <span class=\"text-primary pointer\" @click=\"clearLevelFilter()\"\r\n            >Clear all</span\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- modal -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"filterModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"ModalTitle1\">{{ $t(\"filter\") }}</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <p>Filter by level</p>\r\n            <div class=\"col-sm-12 row\">\r\n              <!-- <div class=\"custom-control custom-checkbox col-sm-12 ml-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"custom-control-input\"\r\n                  id=\"std\"\r\n                  @click=\"selectAllLevel\"\r\n                  v-model=\"setAlllevel\"\r\n                  name=\"std\"\r\n                />\r\n                <label class=\"custom-control-label\" for=\"std\">\r\n                  <strong>{{ $t(\"all-level\") }}</strong>\r\n                </label>\r\n              </div> -->\r\n              <div\r\n                v-for=\"(level, index) in levelLists\"\r\n                :key=\"level + index\"\r\n                class=\"px-3\"\r\n              >\r\n                <div class=\"custom-control custom-checkbox mr-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    class=\"custom-control-input\"\r\n                    :id=\"level\"\r\n                    :value=\"level\"\r\n                    v-model=\"selectLevelList\"\r\n                  />\r\n                  <label class=\"custom-control-label\" :for=\"level\"\r\n                    >Level {{ level }}</label\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary btn-outline btn-rounded\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              {{ $t(\"close\") }}\r\n            </button>\r\n            <button\r\n              @click=\"searchCourseResource()\"\r\n              v-if=\"page !== 'collection'\"\r\n              type=\"button\"\r\n              class=\"btn btn-primary btn-outline btn-rounded\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              {{ $t(\"confirm\") }}\r\n            </button>\r\n            <button\r\n              @click=\"searchCollectionResource()\"\r\n              v-else\r\n              type=\"button\"\r\n              class=\"btn btn-primary btn-outline btn-rounded\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              {{ $t(\"confirm\") }}\r\n            </button>\r\n          </div> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ApiSearchCourseResource } from \"../http/apis/CourseDetail\";\r\nimport { ApiSearchCollectionResource } from \"../http/apis/Collection\";\r\nexport default {\r\n  name: \"SearchGroup\",\r\n  data() {\r\n    return {\r\n      typeList: [\r\n        { text: \"All type\", id: \"all\" },\r\n        { text: \"Picture Book\", id: \"book\" },\r\n        { text: \"Video\", id: \"video\" },\r\n      ],\r\n      selectType: \"all\",\r\n      searchRname: \"\",\r\n      selectSortType: \"\",\r\n      searchStatus: false,\r\n      tempSearchName: \"\",\r\n      textbookList: [],\r\n      courseid: this.$route.params.courseid,\r\n      colSortList: [],\r\n      setAlllevel: \"\",\r\n      selectLevelList: [],\r\n      levelLists: [],\r\n      haveLevel: false,\r\n    };\r\n  },\r\n  props: [\"mfilter\", \"page\"],\r\n  methods: {\r\n    clearLevelFilter() {\r\n      this.selectLevelList = [];\r\n    },\r\n    removeLevel(level) {\r\n      let vm = this;\r\n      let index = this.selectLevelList.indexOf(level);\r\n\r\n      if (index !== -1) {\r\n        vm.selectLevelList.splice(index, 1);\r\n      }\r\n    },\r\n    async searchCourseResource() {\r\n      //判斷是否有搜尋值\r\n      let vm = this;\r\n      if (this.searchRname !== \"\") {\r\n        this.searchStatus = true;\r\n        this.tempSearchName = this.searchRname;\r\n      } else {\r\n        this.searchStatus = false;\r\n      }\r\n      let sType = this.selectType;\r\n      if (this.selectType === \"all\") {\r\n        sType = \"*\";\r\n      }\r\n      let searchObj = {\r\n        type: sType,\r\n        keyword: this.searchRname,\r\n      };\r\n      let result = await ApiSearchCourseResource.post(this.courseid, searchObj)\r\n        .then((response) => {\r\n          // console.log(response);\r\n          if (vm.selectSortType === \"\") {\r\n            if (response.csrInfo.cntLevel !== 0) {\r\n              vm.haveLevel = true;\r\n              vm.selectSortType = \"level_asc\";\r\n            } else {\r\n              vm.haveLevel = false;\r\n              vm.selectSortType = \"unit_asc\";\r\n            }\r\n          }\r\n          response.record.forEach((element) => {\r\n            if (\r\n              element.level !== undefined &&\r\n              element.level !== \"\" &&\r\n              !vm.levelLists.includes(element.level)\r\n            ) {\r\n              vm.levelLists.push(element.level);\r\n            }\r\n            if (element.unit === undefined) {\r\n              element.unit = \"\";\r\n            }\r\n            element.link = element.information.includes(\"http\");\r\n          });\r\n          this.levelLists.sort();\r\n          this.textbookList = response.record;\r\n\r\n          if (response.status === \"success\") {\r\n            return true;\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n      if (result) {\r\n        this.$emit(\"getMList\", this.sortMList);\r\n      }\r\n    },\r\n    async searchCollectionResource() {\r\n      let vm = this;\r\n      let type = this.selectType;\r\n      let keyword = this.searchRname;\r\n      if (this.selectType === \"all\") {\r\n        type = \"*\";\r\n      }\r\n      if (this.searchRname === \"\") {\r\n        keyword = \"*\";\r\n      }\r\n      if (this.searchRname !== \"\") {\r\n        this.searchStatus = true;\r\n        this.tempSearchName = this.searchRname;\r\n      } else {\r\n        this.searchStatus = false;\r\n      }\r\n\r\n      let result = await ApiSearchCollectionResource.get(\r\n        this.userid,\r\n        this.$route.params.cid,\r\n        keyword,\r\n        type\r\n      )\r\n        .then((response) => {\r\n          if (vm.selectSortType === \"\") {\r\n            if (response.moreInfo.cntLevel !== 0) {\r\n              vm.haveLevel = true;\r\n              vm.selectSortType = \"level_asc\";\r\n            } else {\r\n              vm.haveLevel = false;\r\n              vm.selectSortType = \"unit_asc\";\r\n            }\r\n          }\r\n          response.record.forEach((element) => {\r\n            //重建\r\n            if (\r\n              element.level !== undefined &&\r\n              element.level !== \"\" &&\r\n              !vm.levelLists.includes(element.level)\r\n            ) {\r\n              vm.levelLists.push(element.level);\r\n            }\r\n            element.lastplay = [];\r\n            element.last_access_all.forEach((item) => {\r\n              if (item.last_access !== \"0\") {\r\n                element.lastplay.push(item);\r\n              }\r\n            });\r\n          });\r\n          this.textbookList = response.record;\r\n          // console.log(\"sortmlist = \", this.sortMList);\r\n          if (response.status === \"success\") {\r\n            return true;\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n      if (result) {\r\n        this.$emit(\"getMColList\", this.sortMList);\r\n      }\r\n    },\r\n    selectAllLevel(event) {\r\n      const vm = this;\r\n\r\n      if (!event.currentTarget.checked) {\r\n        vm.selectLevelList = [];\r\n      } else {\r\n        //實現全選\r\n        vm.selectLevelList = [];\r\n        vm.levelLists.forEach(function (level, i) {\r\n          vm.selectLevelList.push(level);\r\n        });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.openedTextbookList = this.openedTextbookLists;\r\n    if (this.page !== \"collection\") {\r\n      this.searchCourseResource();\r\n    } else {\r\n      this.searchCollectionResource();\r\n    }\r\n  },\r\n  computed: {\r\n    userid() {\r\n      return this.$store.state.auth.userid;\r\n    },\r\n    sortMList() {\r\n      //dashboard filter\r\n      //utils mixins\r\n      let sortMaterial = [];\r\n      if (this.mfilter === \"openm\") {\r\n        // return this.$_sortMaterial(this.openedMList, this.selectSortType);\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.openedMList,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n      } else if (this.mfilter === \"openb\") {\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.openedBookList,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n        // return this.$_sortMaterial(this.openedBookList, this.selectSortType);\r\n      } else if (this.mfilter === \"openv\") {\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.openedVideoList,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n        // return this.$_sortMaterial(this.openedVideoList, this.selectSortType);\r\n      } else {\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.textbookList,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n      }\r\n      // return this.$_sortMaterial(this.textbookList, this.selectSortType);\r\n      return sortMaterial;\r\n      //   this.$emit(\"getMList\", sortMaterial);\r\n    },\r\n    sortTypeList() {\r\n      return this.$store.state.common.sortTypeList;\r\n    },\r\n    openedMList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\";\r\n      });\r\n    },\r\n    openedBookList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"book\";\r\n      });\r\n    },\r\n    openedVideoList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"video\";\r\n      });\r\n    },\r\n    // levelLists() {\r\n    //   let levelList = [];\r\n    //   this.textbookList.forEach((element) => {\r\n    //     if (element.level !== undefined && !levelList.includes(element.level)) {\r\n    //       levelList.push(element.level);\r\n    //     }\r\n    //   });\r\n    //   return levelList;\r\n    // },\r\n    openedTextbookLists() {\r\n      return this.$store.state.courseInfo.openedTextbookList;\r\n    },\r\n  },\r\n  watch: {\r\n    selectLevelList() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    mfilter() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    selectSortType() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    openedTextbookLists() {\r\n      this.openedTextbookList = this.openedTextbookLists;\r\n    },\r\n    searchRname() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    selectType() {\r\n      // console.log(this.page);\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\">\r\n</style>","import { render, staticRenderFns } from \"./SearchGroup.vue?vue&type=template&id=b45c8306&\"\nimport script from \"./SearchGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=style&index=0&id=2aceaf91&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=style&index=0&id=2aceaf91&scoped=true&lang=scss&\""],"sourceRoot":""}