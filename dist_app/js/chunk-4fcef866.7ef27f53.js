(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4fcef866"],{"4dc2":function(e,t,s){"use strict";s.r(t);var i=s("1157"),a=s.n(i),r={name:"AssignmentCar",data:()=>({scrollTop:0,time:0,dParams:20,scrollState:0,tempAList:[],isShow:!1}),computed:{tempALists(){return this.$store.state.courseInfo.caList}},created(){this.tempAList=this.tempALists},mounted(){window.addEventListener("scroll",this.getScrollTop)},watch:{tempALists(){this.tempAList=this.tempALists}},methods:{async gotoAgtCreate(){"Library"===this.$route.params.type?a()("#AssignmentModal").modal("show"):(await this.$store.dispatch("courseInfo/setOpenAgt",!0),await this.$router.push({path:`/course_material/course=${this.$route.params.course}/type=Library/${this.$route.params.courseid}`}).catch(e=>e))},getScrollTop(){this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}}},o=(s("d8e2"),s("2877")),c=Object(o.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:" cart-sm"},[0!==e.tempAList.length?s("div",{staticClass:"circle cart-icon justify-content-center d-flex align-items-center",on:{click:function(t){e.isShow=!e.isShow}}},[s("i",{staticClass:"zmdi zmdi-assignment gotop "}),s("i",{staticClass:"fas fa-circle text-danger"})]):e._e(),e.isShow?s("div",{staticClass:"cart-box"},[s("div",{staticClass:"row justify-content-center bg-white border rounded py-3"},[s("div",{staticClass:"col-md-12"},[e._m(0),s("div",{staticClass:"u-close",on:{click:function(t){e.isShow=!1}}},[s("span"),s("span")]),s("table",{staticClass:"table table-sm mb-2"},[s("tbody",e._l(e.tempAList,(function(t,i){return s("tr",{key:i},[s("div",{staticClass:"d-flex justify-content-start"},["book"===t.note?s("span",{staticClass:"d-flex col-sm-11 px-0 mb-1"},[s("span",{staticClass:"badge badge-pill badge-primary fix-badge-height"},[e._v(e._s(e.$t("reading")))]),s("span",{staticClass:"col-sm-10 d-flex align-items-center"},[e._v(e._s(t.resource_name))])]):"video"===t.note?s("div",{staticClass:"d-flex col-sm-11 px-0 mb-1"},[s("div",[s("span",{staticClass:"badge badge-pill badge-warning fix-badge-height"},[e._v(e._s(e.$t("watching")))])]),s("span",{staticClass:"col-sm-10 d-flex align-items-center"},[e._v(" "+e._s(t.resource_name+" - "+t.material_name)+" ")])]):s("span",{staticClass:"d-flex col-sm-11 px-0 mb-1"},[s("span",{staticClass:"badge badge-pill badge-accent fix-badge-height"},[e._v(e._s(e.$t("speaking-quiz")))]),s("span",{staticClass:"col-sm-10 d-flex align-items-center"},[e._v(e._s(t.resource_name)+" - "),"undefined"!==t.material_name?s("span",[e._v(e._s(t.material_name))]):s("span",[e._v(e._s(e.$t("book")))])])])])])})),0)]),0!==e.tempAList.length?s("div",{staticClass:"nav-item ",on:{click:function(t){return e.gotoAgtCreate()}}},[s("button",{staticClass:"btn btn-primary btn-rounded d-block  ",attrs:{type:"button"},on:{click:function(t){e.isShow=!e.isShow}}},[e._v("Create Assignment")])]):e._e()])])]):e._e()])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"h5"},[t("b",[this._v("Assignment List")])])}],!1,null,null,null);t.default=c.exports},"58ba":function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"c",(function(){return r})),s.d(t,"d",(function(){return o})),s.d(t,"e",(function(){return c})),s.d(t,"f",(function(){return n})),s.d(t,"b",(function(){return u}));var i=s("a95a");const a={get:(e,t,s)=>"admin"===e?void 0===s||""===s?Object(i.b)("/course/list/active/"+t):Object(i.b)(`/course/list/active/${t}?filter=${s}`):(console.log("/course/list/active/"+s),Object(i.b)("/course/list/active/"+s))},r={get:(e,t,s)=>"admin"===e?void 0===s||""===s?Object(i.b)("/course/list/expired/"+t):Object(i.b)(`/course/list/expired/${t}?filter=${s}`):(console.log(s),Object(i.b)("/course/list/expired/"+s))},o={get:()=>Object(i.b)("/course/teacherlist")},c={post:(e,t)=>Object(i.c)("/course/search/"+e,t)},n={put:(e,t)=>Object(i.d)("/course/setinfo/"+e,t)},u={get:()=>Object(i.b)("/course/list/all")}},"64e7":function(e,t,s){},"6ccb":function(e,t,s){"use strict";var i=s("76d1");s.n(i).a},"76d1":function(e,t,s){},d8e2:function(e,t,s){"use strict";var i=s("64e7");s.n(i).a},ff48:function(e,t,s){"use strict";s.r(t);var i=s("58ba"),a=s("5a0c"),r=s.n(a),o={name:"MenuLeft",data(){return{typeList:["Library","Assignments","Student Roster","Dashboard","Echo Valley"],coursePage:"",courseType:"",iconStatus:this.$route.params.course,courseID:this.$route.params.courseid,expired:this.$route.params.expired,notExpired:!0,course:{activeCourseList:[],expiredCourseList:[],coursePagination:{total_pages:1,current_page:1,has_pre:!1,has_next:!1}}}},created(){"admin"===this.permit?this.getExpiredCourseList("*"):"admin"!==this.permit&&this.getExpiredCourseList(),this.$store.dispatch("courseInfo/getCouseInfo",this.$route.params.courseid)},mounted(){},computed:{activeCourse(){return this.course.activeCourseList.filter(e=>""!==e.course_name)},userid(){return this.$store.state.auth.userid},permit(){return this.$store.state.auth.permit},showPage(){return this.$route.name}},watch:{"$route.params.course":{handler:function(e){this.coursePage=e},deep:!0,immediate:!0},"$route.params.courseid":{handler:function(e){this.courseID=e},deep:!0,immediate:!0},"$route.params.type":{handler:function(e){this.courseType=e},deep:!0,immediate:!0}},methods:{updateURL(){console.log("xxxxxxxxxxxChange urlxxxxxxxxxxxx"),"expired"!==this.$route.params.expired&&"/"===this.$route.path.split("").pop()?this.$router.push({path:this.$route.path+"expired"}):"expired"!==this.$route.params.expired&&"/"!==this.$route.path.split("").pop()&&this.$router.push({path:this.$route.path+"/expired"})},async getExpiredCourseList(){let e=this;await i.c.get(this.permit,this.userid,this.userid).then(t=>{this.course.activeCourseList=t.record,t.record.forEach(t=>{if(t.courseid===e.courseID)return e.updateURL(),e.notExpired=!1,!0})})||("admin"===this.permit&&e.notExpired?this.getActiveCourseList(""):"admin"!==this.permit&&e.notExpired&&this.getActiveCourseList(this.userid))},getActiveCourseList(e=""){console.log("get active list");let t="";"*"!==e&&(t=e),i.a.get(this.permit,this.userid,t).then(e=>{this.course.activeCourseList=e.record,this.course.activeCourseList.forEach(e=>{e.expiry=r.a.unix(e.expiry_date).add(1,"month").isBefore(r.a.unix(this.todayTimestamp))})})},changePageStatus(e){this.iconStatus===e?this.iconStatus="null":this.iconStatus=e},changePage(e,t,s,i=""){switch(this.$store.dispatch("common/setLoading",!0),setTimeout(()=>{this.$store.dispatch("common/setLoading",!1)},400),s!==this.courseID&&this.$store.dispatch("courseInfo/getCouseInfo",s),t){case"Library":this.$router.push({path:`/course_material/course=${e}/type=${t}/${s}/${i}`}).catch(e=>e);break;case"Assignments":this.$router.push({path:`/course_assignment/course=${e}/type=${t}/${s}/${i}`}).catch(e=>e);break;case"Student Roster":this.$router.push({path:`/course_student/course=${e}/type=${t}/${s}/${i}`}).catch(e=>e);break;case"Dashboard":this.$router.push({path:`/course_dashboard/course=${e}/type=${t}/${s}/${i}`}).catch(e=>e);break;case"Echo Valley":this.$router.push({path:`/course_weekly_quiz/course=${e}/type=${t}/${s}/${i}`}).catch(e=>e)}this.coursePage=this.$route.params.course,this.courseType=this.$route.params.type,this.iconStatus=this.$route.params.course,this.courseID=this.$route.params.courseid}}},c=(s("6ccb"),s("2877")),n=Object(c.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("aside",{staticClass:"px-0"},[s("nav",{staticClass:"main-menu"},[s("ul",{staticClass:"nav metismenu content-maxheight"},[s("li",{staticClass:"sidebar-header"},[s("span",[e._v(e._s(e.$t("active")))])]),e._l(e.activeCourse,(function(t){return s("li",{key:t.courseid,staticClass:"nav-dropdown accordion",class:e.coursePage===t.course_name&&e.courseID===t.courseid?"active":"",attrs:{id:"accordionExample"}},[s("a",{staticClass:"has-arrow",class:e.coursePage===t.course_name&&e.courseID===t.courseid?"":"collapsed",attrs:{"aria-expanded":e.coursePage===t.course_name&&e.courseID===t.courseid,href:"#course"+t.courseid,"data-target":"#course"+t.courseid,"data-toggle":"collapse","aria-controls":"course"+t.courseid},on:{click:[function(e){e.preventDefault()},function(s){return e.changePageStatus(t.course_name)}]}},[e.courseID===t.courseid?s("i",{staticClass:"ig-notice"}):e._e(),s("span",[e._v(" "+e._s(t.course_name)+" ")])]),s("ul",{staticClass:"nav-sub collapse",class:e.coursePage===t.course_name&&e.courseID===t.courseid?"show":"",attrs:{id:"course"+t.courseid,"data-parent":"#accordionExample","aria-labelledby":t.courseid}},e._l(e.typeList,(function(i){return s("li",{key:i+t.courseid},[s("a",[s("span",{staticClass:"pointer",class:e.courseType===i&&e.courseID===t.courseid?"color-lightblue":"",on:{click:function(s){return e.changePage(t.course_name,i,t.courseid,e.expired)}}},[e._v(e._s(i))])])])})),0)])}))],2)])])}),[],!1,null,"4dd1ea9e",null).exports,u=s("fd2d"),l=(s("4dc2"),{name:"CourseMaterial",components:{CustomHeader:()=>Promise.resolve().then(s.bind(null,"339c")),MenuLeft:n,Alert:()=>Promise.resolve().then(s.bind(null,"56a6")),AssignmentCar:()=>Promise.resolve().then(s.bind(null,"4dc2")),LmsFooter:u.a},data:()=>({}),created(){},computed:{isLoading(){return this.$store.state.common.isLoading}},methods:{}}),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row col-sm-12 px-0 mx-0"},[s("loading",{attrs:{active:e.isLoading,"can-cancel":!0,"is-full-page":!0,color:"#32C1DB",width:100,height:100},on:{"update:active":function(t){e.isLoading=t}}}),s("custom-header",{staticClass:"col-sm-12 px-0"}),s("div",{staticClass:"col-sm-12 mx-auto d-flex p-0"},[s("menu-left",{staticClass:"col-sm-2 bg-white sidebar"}),s("router-view",{key:e.$route.params.courseid,staticClass:"col-sm-10 cusmain px-0"}),s("assignment-car")],1),s("lms-footer",{staticClass:"col-sm-12"})],1)}),[],!1,null,"54b5892b",null);t.default=d.exports}}]);
//# sourceMappingURL=chunk-4fcef866.7ef27f53.js.map