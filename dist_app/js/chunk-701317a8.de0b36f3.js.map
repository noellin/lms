{"version":3,"sources":["webpack:///./src/views/CollectionDetail.vue?4d23","webpack:///./src/views/CollectionDetail.vue?2855","webpack:///src/views/CollectionDetail.vue","webpack:///./src/views/CollectionDetail.vue","webpack:///./src/http/apis/Collection.js","webpack:///./src/views/CollectionDetail.vue?244b","webpack:///./src/components/SearchGroup.vue?a76f","webpack:///./src/components/SearchGroup.vue?c773","webpack:///src/components/SearchGroup.vue","webpack:///./src/components/SearchGroup.vue"],"names":["name","components","CustomHeader","SearchGroup","data","cname","cResourceList","typeList","text","id","selectType","courseList","searchRname","lastPlayList","tempNote","watch","this","$route","params","getCollectionContent","computed","$store","state","auth","userid","temp","forEach","item","undefined","unit","methods","textbookList","console","log","lp","modal","type","keyword","get","cid","then","response","record","element","lastplay","last_access_all","last_access","push","catch","err","$router","path","pid","course","window","open","pkgid","colid","resourceid","token","courseid","$i18n","locale","rid","component","_vm","_h","$createElement","_c","_self","attrs","staticClass","on","$back","_v","_s","$t","length","getMColList","$event","gotoCollectionEdit","_l","cr","index","key","note","directives","rawName","value","expression","level","_e","resource_name","showLastPlay","getAvailableCourse","_m","course_name","_f","gotoCourse","ApiGetCollection","ApiSearchCollection","ApiSearchCollectionResource","ApiGetCollectionContent","ApiGetPkgList","ApiSetCollection","post","paramObj","ApiGetPkgMaterial","ApiDeleteCollection","ApiGetCollectionInfo","ApiGetAvailableCourse","uid","ApiGetCollectionList","ApiAddResource","ApiUpdateCollection","put","selectSortType","searchStatus","tempSearchName","colSortList","setAlllevel","selectLevelList","levelLists","haveLevel","courseInfo","collectionInfo","props","vm","indexOf","splice","sType","searchObj","csrInfo","cntLevel","includes","link","information","sort","status","$emit","sortMList","moreInfo","slist","dispatch","cntUnit","event","currentTarget","checked","i","openedTextbookList","openedTextbookLists","page","searchCourseResource","searchCollectionResource","courseInfos","sortMaterial","openb","filter","openflag","openv","mfilter","$_sortMaterial","openedMList","common","sortTypeList","model","callback","$$v","domProps","_k","keyCode","target","composing","removeLevel","clearLevelFilter","Array","isArray","_i","$$a","$$el","$$c","$$i","concat","slice"],"mappings":"oIAAA,I,6CCAyM,ECoP1L,CACbA,KAAM,mBACNC,WAAY,CACVC,aAAc,IAAM,4CACpBC,Y,UAAA,SAEFC,KAAI,KACK,CACLC,MAAO,GACPC,cAAe,GACfC,SAAU,CACR,CAAEC,KAAM,WAAYC,GAAI,OACxB,CAAED,KAAM,eAAgBC,GAAI,QAC5B,CAAED,KAAM,QAASC,GAAI,UAEvBC,WAAY,MACZC,WAAY,GACZC,YAAa,GACbC,aAAc,GACdC,SAAU,SAGd,YACAC,MAAO,GAKP,UACEC,KAAKX,MAAQW,KAAKC,OAAOC,OAAOb,MAChCW,KAAKG,wBAEPC,SAAU,CACR,SACE,OAAOJ,KAAKK,OAAOC,MAAMC,KAAKC,QAEhC,eACE,IAAIC,EAAO,IAAIT,KAAKV,eAMpB,OALAmB,EAAKC,QAASC,SACMC,IAAdD,EAAKE,OACPF,EAAKE,KAAO,MAGTJ,IAGXK,QAAS,CACP,YAAYC,GACVC,QAAQC,IAAIF,GACZf,KAAKV,cAAgB,IAAIyB,IAE3B,aAAaG,GACXlB,KAAKH,aAAe,GACpBG,KAAKH,aAAeqB,EACpB,IAAE,kBAAkBC,MAAM,SAE5B,2BACE,IAAIC,EAAOpB,KAAKN,WACZ2B,EAAUrB,KAAKJ,YACK,QAApBI,KAAKN,aACP0B,EAAO,KAEgB,KAArBpB,KAAKJ,cACPyB,EAAU,KAEZ,IAA4BC,IAC1BtB,KAAKQ,OACLR,KAAKC,OAAOC,OAAOqB,IACnBF,EACAD,GAECI,KAAMC,IACLA,EAASC,OAAOhB,QAASiB,IAEvBA,EAAQC,SAAW,GACnBD,EAAQE,gBAAgBnB,QAASC,IACN,MAArBA,EAAKmB,aACPH,EAAQC,SAASG,KAAKpB,OAI5Bc,EAASC,OAAOhB,QAASC,OACzBX,KAAKV,cAAgBmC,EAASC,SAE/BM,MAAOC,QAEZ,uBACEjB,QAAQC,IAAIjB,KAAKQ,OAAQR,KAAKC,OAAOC,OAAOqB,KAE5C,IAAwBD,IAAItB,KAAKQ,OAAQR,KAAKC,OAAOC,OAAOqB,KACzDC,KAAMC,IACLA,EAASC,OAAOhB,QAASiB,IAEvBA,EAAQC,SAAW,GACnBD,EAAQE,gBAAgBnB,QAASC,IACN,MAArBA,EAAKmB,aACPH,EAAQC,SAASG,KAAKpB,OAI5BK,QAAQC,IAAIQ,EAASC,QACrB1B,KAAKV,cAAgBmC,EAASC,SAE/BM,MAAOC,QAEZ,qBACEjC,KAAKkC,QAAQH,KAAK,CAChBI,KAAM,oBAAoBnC,KAAKC,OAAOC,OAAOkC,OAAOpC,KAAKC,OAAOC,OAAOb,SAASW,KAAKC,OAAOC,OAAOqB,SAGvG,WAAWc,GACTrB,QAAQC,IAAIoB,GAKU,SAAlBrC,KAAKF,SACPwC,OAAOC,KACL,kBAA+CF,EAAOG,eAAeH,EAAOI,eAAeJ,EAAOK,iCAAyD1C,KAAKK,OAAOC,MAAMC,KAAKoC,eAAeN,EAAOO,mBAAmB5C,KAAKQ,eAAeR,KAAK6C,MAAMC,UAG5PR,OAAOC,KACL,kBAA+CF,EAAOG,eAAeH,EAAOI,eAAeJ,EAAOK,iCAAyD1C,KAAKK,OAAOC,MAAMC,KAAKoC,eAAeN,EAAOO,mBAAmB5C,KAAKQ,eAAeR,KAAK6C,MAAMC,WAIhQ,mBAAmBC,GACjB/B,QAAQC,IAAIjB,KAAKQ,OAAQR,KAAKC,OAAOC,OAAOqB,IAAKwB,GACjD,IAAsBzB,IAAItB,KAAKQ,OAAQR,KAAKC,OAAOC,OAAOqB,IAAKwB,GAC5DvB,KAAMC,IACLzB,KAAKL,WAAa8B,EAASC,OAC3BV,QAAQC,IAAIQ,EAASC,UAEtBM,MAAOC,U,wBCjXZe,EAAY,YACd,GHTW,WAAa,IAAIC,EAAIjD,KAASkD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,SAAS,CAACF,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,iBAAiBA,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,SAAS,CAACG,YAAY,eAAe,CAACH,EAAG,MAAM,CAACG,YAAY,4BAA4B,CAACH,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,IAAI,CAACG,YAAY,4CAA4CC,GAAG,CAAC,MAAQP,EAAIQ,QAAQ,CAACL,EAAG,IAAI,CAACG,YAAY,mDAAmDH,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,KAAK,CAACH,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,kBAAkBR,EAAG,IAAI,CAACG,YAAY,gBAAgB,CAACN,EAAIS,GAAGT,EAAIU,GAAGV,EAAI5D,gBAA8C,IAA7B4D,EAAI3D,cAAcuE,OAAcT,EAAG,UAAU,CAACG,YAAY,gCAAgC,CAACH,EAAG,MAAM,CAACG,YAAY,kCAAkC,CAACH,EAAG,eAAe,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,cAAcE,GAAG,CAAC,YAAcP,EAAIa,eAAeV,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,IAAI,CAACG,YAAY,0CAA0CC,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOd,EAAIe,wBAAwB,CAACZ,EAAG,IAAI,CAACG,YAAY,eAAeN,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,eAAe,GAAGR,EAAG,MAAM,CAACG,YAAY,OAAON,EAAIgB,GAAIhB,EAAiB,eAAE,SAASiB,EAAGC,GAAO,OAAOf,EAAG,MAAM,CAACgB,IAAIF,EAAGxB,WAAayB,EAAMZ,YAAY,UAAU,CAACH,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,MAAM,CAACG,YAAY,SAAS,CAACH,EAAG,MAAM,CAACG,YAAY,0DAA0D,CAACH,EAAG,OAAO,CAACG,YAAY,gBAAgB,CAAc,UAAZW,EAAGG,KAAkBjB,EAAG,IAAI,CAACG,YAAY,iBAAiBH,EAAG,IAAI,CAACG,YAAY,uBAAuBH,EAAG,MAAM,CAACkB,WAAW,CAAC,CAACtF,KAAK,OAAOuF,QAAQ,SAASC,MACxmD,+CACAN,EAAGxB,WACH+B,WAAW,8IAA8IlB,YAAY,sBAAsBD,MAAM,CAAC,IAAM,oBAAoBF,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,MAAM,CAACG,YAAY,kCAAkC,CAACH,EAAG,MAAM,CAClT,KAAbc,EAAGQ,YACU9D,IAAbsD,EAAGQ,OACU,OAAbR,EAAGQ,MACHtB,EAAG,OAAO,CAACG,YAAY,oCAAoC,CAACN,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,UAAU,IAAIX,EAAIU,GAAGO,EAAGQ,UAAUzB,EAAI0B,KAAkB,KAAZT,EAAGrD,WAA2BD,IAAZsD,EAAGrD,KAAoBuC,EAAG,OAAO,CAACG,YAAY,yCAAyC,CAACN,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,SAAS,IAAIX,EAAIU,GAAGO,EAAGrD,SAASoC,EAAI0B,KAAKvB,EAAG,KAAK,CAACG,YAAY,mDAAmD,CAACH,EAAG,MAAM,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACL,EAAIS,GAAG,IAAIT,EAAIU,GAAGO,EAAGU,eAAe,SAASxB,EAAG,IAAI,CAACkB,WAAW,CAAC,CAACtF,KAAK,OAAOuF,QAAQ,SAASC,MAA8B,IAAvBN,EAAGtC,SAASiC,OAAcY,WAAW,6BAA6BlB,YAAY,mBAAmB,CAACH,EAAG,IAAI,CAACG,YAAY,iCAAiCH,EAAG,QAAQ,CAACG,YAAY,gBAAgBC,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOd,EAAI4B,aAAaX,EAAGtC,aAAa,CAACqB,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,gBAAgB,WAAWR,EAAG,MAAM,CAACG,YAAY,uBAAuBD,MAAM,CAAC,cAAc,QAAQ,cAAc,eAAeE,GAAG,CAAC,MAAQ,SAASO,GAAQd,EAAI6B,mBAAmBZ,EAAGxB,YACx8BO,EAAInD,SAAWoE,EAAGG,QAAS,CAACpB,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,WAAWX,EAAI8B,GAAG,GAAE,oBAAsB,KAAK3B,EAAG,UAAU,CAACG,YAAY,gCAAgC,CAACH,EAAG,MAAM,CAACG,YAAY,uBAAuB,CAACH,EAAG,MAAM,CAACG,YAAY,iCAAiC,CAACH,EAAG,KAAK,CAACH,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,uCAAuC,GAAGR,EAAG,MAAM,CAACG,YAAY,aAAaD,MAAM,CAAC,GAAK,gBAAgB,SAAW,KAAK,KAAO,SAAS,cAAc,SAAS,CAACF,EAAG,MAAM,CAACG,YAAY,qCAAqCD,MAAM,CAAC,KAAO,aAAa,CAACF,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAA8B,IAA5BN,EAAIpD,aAAagE,OAAcT,EAAG,KAAK,CAACG,YAAY,eAAe,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,iCAAiC,OAAOR,EAAG,KAAK,CAACG,YAAY,eAAe,CAACN,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,iBAAiBX,EAAI8B,GAAG,KAAkC,IAA5B9B,EAAIpD,aAAagE,OAAcT,EAAG,MAAM,CAACG,YAAY,mBAAmBN,EAAIgB,GAAIhB,EAAgB,cAAE,SAAS/B,GAAI,OAAOkC,EAAG,MAAM,CAACgB,IAAIlD,EAAG0B,SAAW,YAAY,CAACQ,EAAG,OAAO,CAACH,EAAIS,GAAGT,EAAIU,GAAGzC,EAAG8D,aAAa,MAAM/B,EAAIU,GAAGV,EAAIgC,GAAG,iBAAPhC,CAAyB/B,EAAGY,sBAAqB,GAAGsB,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,IAAI,CAACH,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,2BAA2B,eAAeR,EAAG,MAAM,CAACG,YAAY,aAAaD,MAAM,CAAC,GAAK,aAAa,SAAW,KAAK,KAAO,SAAS,cAAc,SAAS,CAACF,EAAG,MAAM,CAACG,YAAY,qCAAqCD,MAAM,CAAC,KAAO,aAAa,CAACF,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAA4B,IAA1BN,EAAItD,WAAWkE,OAAcT,EAAG,KAAK,CAACG,YAAY,eAAe,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,UAAU,OAAOX,EAAI0B,KAAK1B,EAAI8B,GAAG,KAAgC,IAA1B9B,EAAItD,WAAWkE,OAAcT,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,IAAI,CAACH,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,6BAA6B,OAAOX,EAAIgB,GAAIhB,EAAc,YAAE,SAASZ,GAAQ,OAAOe,EAAG,IAAI,CAACgB,IAAI/B,EAAOK,WAAWa,YAAY,oDAAoDD,MAAM,CAAC,MAAQ,GAAG,eAAe,SAASE,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOd,EAAIiC,WAAW7C,MAAW,CAACY,EAAIS,GAAGT,EAAIU,GAAGtB,EAAO2C,oBAAmB,GAAG5B,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,IAAI,CAACH,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAI,qHAAsH,oBAC/sE,CAAC,WAAa,IAAiBV,EAATlD,KAAgBmD,eAAmBC,EAAnCpD,KAA0CqD,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACG,YAAY,6CAA6C,CAACH,EAAG,IAAI,CAACG,YAAY,mDAAmD,WAAa,IAAiBL,EAATlD,KAAgBmD,eAAmBC,EAAnCpD,KAA0CqD,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACG,YAAY,QAAQD,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACF,EAAG,OAAO,CAACG,YAAY,kBAAkBD,MAAM,CAAC,cAAc,aAAa,WAAa,IAAiBJ,EAATlD,KAAgBmD,eAAmBC,EAAnCpD,KAA0CqD,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACG,YAAY,QAAQD,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACF,EAAG,OAAO,CAACG,YAAY,kBAAkBD,MAAM,CAAC,cAAc,eGG9uB,EACA,KACA,WACA,MAIa,UAAAN,E,2CCnBf,0cAUO,MAAMmC,EAAmB,CAC5B7D,IAAMd,GACK,YAAI,yBAAyBA,IAG/B4E,EAAsB,CAC/B9D,IAAK,CAACd,EAAQa,IAEH,YAAI,sBAAsBb,KAAUa,MAGtCgE,EAA8B,CACvC/D,IAAK,CAACd,EAAQe,EAAKF,EAASD,KACxBJ,QAAQC,IAAI,8BAA8BT,KAAUe,KAAOF,KAAWD,KAC/D,YAAI,8BAA8BZ,KAAUe,KAAOF,KAAWD,OAGhEkE,EAA0B,CACnChE,IAAK,CAACd,EAAQe,KACVP,QAAQC,IAAI,mBACZD,QAAQC,IAAIT,GACZQ,QAAQC,IAAIM,GACL,YAAI,uBAAuBf,KAAUe,OAGvCgE,EAAgB,CACzBjE,IAAMd,GACK,YAAI,gCAAgCA,IAItCgF,EAAmB,CAC5BC,KAAOC,IACH1E,QAAQC,IAAI,mBACL,YAAK,qBAAsByE,KAI7BC,EAAoB,CAC7BrE,IAAMkB,IACFxB,QAAQC,IAAIuB,GACL,YAAI,2BAA2BA,KAUjCoD,EAAsB,CAC/BtE,IAAMC,GACK,YAAI,sBAAsBA,IAI5BsE,EAAuB,CAChCvE,IAAK,CAACC,EAAKa,IACA,YAAI,0BAA0Bb,KAAOa,MAIvC0D,EAAwB,CACjCxE,IAAK,CAACyE,EAAKxE,EAAKwB,IACL,YAAI,+BAA+BgD,KAAOxE,KAAOwB,MAKnDiD,EAAuB,CAChC1E,IAAK,CAACyE,EAAKhD,IACA,YAAI,qBAAqBgD,KAAOhD,MAUlCkD,EAAiB,CAC1B3E,IAAK,CAACmB,EAAOM,KACT/B,QAAQC,IAAI,2BAA2BwB,KAASM,KACzC,YAAI,2BAA2BN,KAASM,OAU1CmD,EAAsB,CAC/BC,IAAK,CAAC1D,EAAOiD,IACF,YAAI,sBAAsBjD,EAASiD,K,oCC3GlD,uBAAgjB,G,kECAhjB,I,wBCAoM,EC2IrL,CACb1G,KAAM,cACN,OACE,MAAO,CACLO,SAAU,CACR,CAAEC,KAAM,WAAYC,GAAI,OACxB,CAAED,KAAM,eAAgBC,GAAI,QAC5B,CAAED,KAAM,QAASC,GAAI,UAEvBC,WAAY,MACZE,YAAa,GACbwG,eAAgB,GAChBC,cAAc,EACdC,eAAgB,GAChBvF,aAAc,GACd6B,SAAU5C,KAAKC,OAAOC,OAAO0C,SAC7B2D,YAAa,GACbC,YAAa,GACbC,gBAAiB,GACjBC,WAAY,GACZC,WAAW,EACXC,WAAY,GACZC,eAAgB,KAGpBC,MAAO,CAAC,UAAW,QACnBhG,QAAS,CACP,mBACEd,KAAKyG,gBAAkB,IAEzB,YAAY/B,GACV,IAAIqC,EAAK/G,KACLmE,EAAQnE,KAAKyG,gBAAgBO,QAAQtC,IAE1B,IAAXP,GACF4C,EAAGN,gBAAgBQ,OAAO9C,EAAO,IAGrC,6BAEE,IAAI4C,EAAK/G,KACgB,KAArBA,KAAKJ,aACPI,KAAKqG,cAAe,EACpBrG,KAAKsG,eAAiBtG,KAAKJ,aAE3BI,KAAKqG,cAAe,EAEtB,IAAIa,EAAQlH,KAAKN,WACO,QAApBM,KAAKN,aACPwH,EAAQ,KAEV,IAAIC,EAAY,CACd/F,KAAM8F,EACN7F,QAASrB,KAAKJ,mBAEG,IAAwB6F,KAAKzF,KAAK4C,SAAUuE,GAC5D3F,KAAMC,IA0BL,GAzB0B,KAAtBsF,EAAGX,iBAC6B,IAA9B3E,EAAS2F,QAAQC,UACnBN,EAAGJ,WAAY,EACfI,EAAGX,eAAiB,cAEpBW,EAAGJ,WAAY,EACfI,EAAGX,eAAiB,aAGxB3E,EAASC,OAAOhB,QAASiB,SAEHf,IAAlBe,EAAQ+C,OACU,KAAlB/C,EAAQ+C,OACPqC,EAAGL,WAAWY,SAAS3F,EAAQ+C,QAEhCqC,EAAGL,WAAW3E,KAAKJ,EAAQ+C,YAER9D,IAAjBe,EAAQd,OACVc,EAAQd,KAAO,IAEjBc,EAAQ4F,KAAO5F,EAAQ6F,YAAYF,SAAS,UAE9CtH,KAAK0G,WAAWe,OAChBzH,KAAKe,aAAeU,EAASC,OAEL,YAApBD,EAASiG,OACX,OAAO,IAGV1F,MAAOC,SAERjC,KAAK2H,MAAM,WAAY3H,KAAK4H,WAC5B5H,KAAK2H,MAAM,gBAAiB3H,KAAKyG,gBAAiBzG,KAAKoG,kBAG3D,iCACE,IAAIW,EAAK/G,KACLoB,EAAOpB,KAAKN,WACZ2B,EAAUrB,KAAKJ,YACK,QAApBI,KAAKN,aACP0B,EAAO,KAEgB,KAArBpB,KAAKJ,cACPyB,EAAU,KAEa,KAArBrB,KAAKJ,aACPI,KAAKqG,cAAe,EACpBrG,KAAKsG,eAAiBtG,KAAKJ,aAE3BI,KAAKqG,cAAe,QAGH,IAA4B/E,IAC7CtB,KAAKQ,OACLR,KAAKC,OAAOC,OAAOqB,IACnBF,EACAD,GAECI,KAAMC,IA4BL,GA3B0B,KAAtBsF,EAAGX,iBAC8B,IAA/B3E,EAASoG,SAASR,UACpBN,EAAGJ,WAAY,EACfI,EAAGX,eAAiB,cAEpBW,EAAGJ,WAAY,EACfI,EAAGX,eAAiB,aAGxB3E,EAASC,OAAOhB,QAASiB,SAGHf,IAAlBe,EAAQ+C,OACU,KAAlB/C,EAAQ+C,OACPqC,EAAGL,WAAWY,SAAS3F,EAAQ+C,QAEhCqC,EAAGL,WAAW3E,KAAKJ,EAAQ+C,OAE7B/C,EAAQC,SAAW,GACnBD,EAAQE,gBAAgBnB,QAASC,IACN,MAArBA,EAAKmB,aACPH,EAAQC,SAASG,KAAKpB,OAI5BX,KAAKe,aAAeU,EAASC,OAEM,IAA/BD,EAASoG,SAASR,SAAgB,CACpC,IAAIS,EAAQ,CACV,CAAEtI,KAAM,uBAAwBC,GAAI,aACpC,CAAED,KAAM,uBAAwBC,GAAI,cACpC,CAAED,KAAM,mCAAoCC,GAAI,YAChD,CAAED,KAAM,mCAAoCC,GAAI,cAElDsH,EAAG1G,OAAO0H,SAAS,yBAA0BD,QACxC,GAAkC,IAA9BrG,EAASoG,SAASG,QAAe,CAC1C,IAAIF,EAAQ,CACV,CAAEtI,KAAM,uBAAwBC,GAAI,aACpC,CAAED,KAAM,uBAAwBC,GAAI,cACpC,CAAED,KAAM,uBAAwBC,GAAI,aACpC,CAAED,KAAM,uBAAwBC,GAAI,eAEtCsH,EAAG1G,OAAO0H,SAAS,yBAA0BD,GAE/C,GAAwB,YAApBrG,EAASiG,OACX,OAAO,IAGV1F,MAAOC,QAERjC,KAAK2H,MAAM,cAAe3H,KAAK4H,YAGnC,eAAeK,GACb,MAAMlB,EAAK/G,KAENiI,EAAMC,cAAcC,SAIvBpB,EAAGN,gBAAkB,GACrBM,EAAGL,WAAWhG,SAAQ,SAAUgE,EAAO0D,GACrCrB,EAAGN,gBAAgB1E,KAAK2C,OAL1BqC,EAAGN,gBAAkB,KAU3B,UACEzG,KAAKqI,mBAAqBrI,KAAKsI,oBACb,eAAdtI,KAAKuI,KACPvI,KAAKwI,uBAELxI,KAAKyI,2BAEPzI,KAAK4G,WAAa5G,KAAK0I,aAEzBtI,SAAU,CACR,cACE,OAAOJ,KAAKK,OAAOC,MAAMsG,WAAWA,YAEtC,SACE,OAAO5G,KAAKK,OAAOC,MAAMC,KAAKC,QAEhC,YACE,IAAImI,EAAe,GACfC,EAAQ5I,KAAKe,aAAa8H,OAAQlI,GACX,SAAlBA,EAAKmI,UAAqC,SAAdnI,EAAK0D,MAEtC0E,EAAQ/I,KAAKe,aAAa8H,OAAQlI,GACX,SAAlBA,EAAKmI,UAAqC,UAAdnI,EAAK0D,MA+B1C,OA3BEsE,EAFmB,UAAjB3I,KAAKgJ,QAEQhJ,KAAKiJ,eAClBjJ,KAAKkJ,YACLlJ,KAAKoG,eACLpG,KAAKyG,iBAEmB,UAAjBzG,KAAKgJ,QACChJ,KAAKiJ,eAClBL,EACA5I,KAAKoG,eACLpG,KAAKyG,iBAGmB,UAAjBzG,KAAKgJ,QACChJ,KAAKiJ,eAClBF,EACA/I,KAAKoG,eACLpG,KAAKyG,iBAIQzG,KAAKiJ,eAClBjJ,KAAKe,aACLf,KAAKoG,eACLpG,KAAKyG,iBAIFkC,GAGT,eACE,OAAO3I,KAAKK,OAAOC,MAAM6I,OAAOC,cAElC,cACE,OAAOpJ,KAAKe,aAAa8H,OAAQlI,GACN,SAAlBA,EAAKmI,WAGhB,iBACE,OAAO9I,KAAKe,aAAa8H,OAAQlI,GACN,SAAlBA,EAAKmI,UAAqC,SAAdnI,EAAK0D,OAG5C,kBACE,OAAOrE,KAAKe,aAAa8H,OAAQlI,GACN,SAAlBA,EAAKmI,UAAqC,UAAdnI,EAAK0D,OAY5C,sBACE,OAAOrE,KAAKK,OAAOC,MAAMsG,WAAWyB,qBAGxCtI,MAAO,CAKL,aACE,GAAyB,qBAArBC,KAAKC,OAAOjB,KACd,GAAiC,IAA7BgB,KAAK4G,WAAWS,SAAgB,CAClC,IAAIS,EAAQ,CACV,CAAEtI,KAAM,uBAAwBC,GAAI,aACpC,CAAED,KAAM,uBAAwBC,GAAI,cACpC,CAAED,KAAM,mCAAoCC,GAAI,YAChD,CAAED,KAAM,mCAAoCC,GAAI,cAElDO,KAAKK,OAAO0H,SAAS,yBAA0BD,QAC1C,GAAgC,IAA5B9H,KAAK4G,WAAWoB,QAAe,CACxC,IAAIF,EAAQ,CACV,CAAEtI,KAAM,uBAAwBC,GAAI,aACpC,CAAED,KAAM,uBAAwBC,GAAI,cACpC,CAAED,KAAM,uBAAwBC,GAAI,aACpC,CAAED,KAAM,uBAAwBC,GAAI,eAEtCO,KAAKK,OAAO0H,SAAS,yBAA0BD,OAC1C,CACL,IAAIA,EAAQ,CACV,CAAEtI,KAAM,uBAAwBC,GAAI,aACpC,CAAED,KAAM,uBAAwBC,GAAI,cACpC,CAAED,KAAM,uBAAwBC,GAAI,aACpC,CAAED,KAAM,uBAAwBC,GAAI,cACpC,CAAED,KAAM,mCAAoCC,GAAI,YAChD,CAAED,KAAM,mCAAoCC,GAAI,cAElDO,KAAKK,OAAO0H,SAAS,yBAA0BD,KAIrD,cACE9H,KAAK4G,WAAa5G,KAAK0I,aAEzB,kBACoB,eAAd1I,KAAKuI,KACPvI,KAAKwI,uBAELxI,KAAKyI,4BAGT,UACoB,eAAdzI,KAAKuI,KACPvI,KAAKwI,uBAELxI,KAAKyI,4BAGT,iBACoB,eAAdzI,KAAKuI,KACPvI,KAAKwI,uBAELxI,KAAKyI,4BAGT,sBACEzI,KAAKqI,mBAAqBrI,KAAKsI,qBAEjC,cACoB,eAAdtI,KAAKuI,KACPvI,KAAKwI,uBAELxI,KAAKyI,4BAGT,aAEoB,eAAdzI,KAAKuI,KACPvI,KAAKwI,uBAELxI,KAAKyI,8B,YC7dTzF,EAAY,YACd,GHRW,WAAa,IAAIC,EAAIjD,KAASkD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,MAAM,CAACG,YAAY,qCAAqC,CAACH,EAAG,UAAU,CAACE,MAAM,CAAC,GAAK,WAAW,QAAUL,EAAI1D,UAAU8J,MAAM,CAAC7E,MAAOvB,EAAc,WAAEqG,SAAS,SAAUC,GAAMtG,EAAIvD,WAAW6J,GAAK9E,WAAW,iBAAiB,GAAGrB,EAAG,MAAM,CAACG,YAAY,qCAAqC,CAACH,EAAG,MAAM,CAACG,YAAY,eAAe,CAACH,EAAG,QAAQ,CAACkB,WAAW,CAAC,CAACtF,KAAK,QAAQuF,QAAQ,UAAUC,MAAOvB,EAAe,YAAEwB,WAAW,gBAAgBlB,YAAY,eAAeD,MAAM,CAAC,KAAO,OAAO,YAAc,oBAAoBkG,SAAS,CAAC,MAASvG,EAAe,aAAGO,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAIA,EAAO3C,KAAK4F,QAAQ,QAAQ/D,EAAIwG,GAAG1F,EAAO2F,QAAQ,QAAQ,GAAG3F,EAAOK,IAAI,SAAkB,KAAcnB,EAAIuF,wBAAwB,MAAQ,SAASzE,GAAWA,EAAO4F,OAAOC,YAAqB3G,EAAIrD,YAAYmE,EAAO4F,OAAOnF,WAAUpB,EAAG,MAAM,CAACG,YAAY,sBAAsB,CAACH,EAAG,MAAM,CAACG,YAAY,qDAAqDD,MAAM,CAAC,KAAO,UAAUE,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOd,EAAIuF,0BAA0B,CAACpF,EAAG,IAAI,CAACG,YAAY,4CAA4CH,EAAG,MAAM,CAACG,YAAY,qCAAqC,CAACH,EAAG,UAAU,CAACE,MAAM,CAAC,GAAK,WAAW,QAAUL,EAAImG,cAAcC,MAAM,CAAC7E,MAAOvB,EAAkB,eAAEqG,SAAS,SAAUC,GAAMtG,EAAImD,eAAemD,GAAK9E,WAAW,qBAAqB,GAAIxB,EAAa,UAAEG,EAAG,MAAM,CAACG,YAAY,8CAA8CD,MAAM,CAAC,eAAe,QAAQ,cAAc,QAAQ,cAAc,gBAAgBE,GAAG,CAAC,MAAQ,SAASO,GAAQd,EAAIuD,YAAc,MAAM,CAACvD,EAAI8B,GAAG,KAAK9B,EAAI0B,OAAQ1B,EAAIoD,cAA+C,IAA/BpD,EAAIwD,gBAAgB5C,OAAcT,EAAG,MAAM,CAACG,YAAY,iCAAiC,CAACH,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,SAAS,CAACG,YAAY,aAAa,CAACH,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACN,EAAIS,GAAGT,EAAIU,GAAGV,EAAI2E,UAAU/D,WAAWZ,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,kBAA0C,KAAvBX,EAAIqD,eAAuBlD,EAAG,OAAO,CAACH,EAAIS,GAAG,MAAMT,EAAIU,GAAGV,EAAIrD,aAAa,SAASqD,EAAI0B,OAAuC,IAA/B1B,EAAIwD,gBAAgB5C,OAAcT,EAAG,MAAM,CAACG,YAAY,aAAa,CAACN,EAAIgB,GAAIhB,EAAmB,iBAAE,SAASyB,GAAO,OAAOtB,EAAG,OAAO,CAACgB,IAAIM,GAAO,CAACtB,EAAG,OAAO,CAACG,YAAY,qDAAqDC,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOd,EAAI4G,YAAYnF,MAAU,CAACzB,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,UAAU,IAAIX,EAAIU,GAAGe,GAAO,KAAKzB,EAAI8B,GAAG,GAAE,UAAY3B,EAAG,OAAO,CAACG,YAAY,uBAAuBC,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOd,EAAI6G,sBAAsB,CAAC7G,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,kBAAkB,GAAGX,EAAI0B,SAAS1B,EAAI0B,KAAKvB,EAAG,MAAM,CAACG,YAAY,aAAaD,MAAM,CAAC,GAAK,cAAc,SAAW,KAAK,KAAO,SAAS,cAAc,SAAS,CAACF,EAAG,MAAM,CAACG,YAAY,qCAAqCD,MAAM,CAAC,KAAO,aAAa,CAACF,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,KAAK,CAACG,YAAY,cAAcD,MAAM,CAAC,GAAK,gBAAgB,CAACL,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,cAAcX,EAAI8B,GAAG,KAAK3B,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,IAAI,CAACH,EAAIS,GAAG,qBAAqBN,EAAG,MAAM,CAACG,YAAY,iBAAiBN,EAAIgB,GAAIhB,EAAc,YAAE,SAASyB,EAAMP,GAAO,OAAOf,EAAG,MAAM,CAACgB,IAAIM,EAAQP,EAAMZ,YAAY,SAAS,CAACH,EAAG,MAAM,CAACG,YAAY,uCAAuC,CAACH,EAAG,QAAQ,CAACkB,WAAW,CAAC,CAACtF,KAAK,QAAQuF,QAAQ,UAAUC,MAAOvB,EAAmB,gBAAEwB,WAAW,oBAAoBlB,YAAY,uBAAuBD,MAAM,CAAC,KAAO,WAAW,GAAKoB,GAAO8E,SAAS,CAAC,MAAQ9E,EAAM,QAAUqF,MAAMC,QAAQ/G,EAAIwD,iBAAiBxD,EAAIgH,GAAGhH,EAAIwD,gBAAgB/B,IAAQ,EAAGzB,EAAmB,iBAAGO,GAAG,CAAC,OAAS,SAASO,GAAQ,IAAImG,EAAIjH,EAAIwD,gBAAgB0D,EAAKpG,EAAO4F,OAAOS,IAAID,EAAKhC,QAAuB,GAAG4B,MAAMC,QAAQE,GAAK,CAAC,IAAIX,EAAI7E,EAAM2F,EAAIpH,EAAIgH,GAAGC,EAAIX,GAAQY,EAAKhC,QAASkC,EAAI,IAAIpH,EAAIwD,gBAAgByD,EAAII,OAAO,CAACf,KAAYc,GAAK,IAAIpH,EAAIwD,gBAAgByD,EAAIK,MAAM,EAAEF,GAAKC,OAAOJ,EAAIK,MAAMF,EAAI,UAAWpH,EAAIwD,gBAAgB2D,MAAShH,EAAG,QAAQ,CAACG,YAAY,uBAAuBD,MAAM,CAAC,IAAMoB,IAAQ,CAACzB,EAAIS,GAAG,SAAST,EAAIU,GAAGe,aAAgB,eAC//H,CAAC,WAAa,IAAiBxB,EAATlD,KAAgBmD,eAAmBC,EAAnCpD,KAA0CqD,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,uGAAuG,CAACH,EAAG,IAAI,CAACG,YAAY,kCAAkC,WAAa,IAAiBL,EAATlD,KAAgBmD,eAAmBC,EAAnCpD,KAA0CqD,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACH,EAAG,IAAI,CAACG,YAAY,uBAAuB,WAAa,IAAiBL,EAATlD,KAAgBmD,eAAmBC,EAAnCpD,KAA0CqD,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACG,YAAY,QAAQD,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACF,EAAG,OAAO,CAACG,YAAY,kBAAkBD,MAAM,CAAC,cAAc,eGUlrB,EACA,KACA,KACA,MAIa,UAAAN,E","file":"js/chunk-701317a8.de0b36f3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app3\"}},[_c('div',{staticClass:\"content-wrapper\"},[_c('custom-header'),_c('div',{staticClass:\"content\"},[_c('header',{staticClass:\"page-header\"},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('div',{staticClass:\"mt-2 mr-3\"},[_c('a',{staticClass:\"btn-rounded-icon btn-primary ml-2 pointer\",on:{\"click\":_vm.$back}},[_c('i',{staticClass:\"zmdi zmdi-arrow-left zmdi-hc-fw text-white\"})])]),_c('div',{staticClass:\"mr-auto\"},[_c('h1',[_vm._v(_vm._s(_vm.$t(\"my-library\")))]),_c('p',{staticClass:\"second-title\"},[_vm._v(_vm._s(_vm.cname))])])])]),(_vm.cResourceList.length !== 0)?_c('section',{staticClass:\"page-content container-fluid\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('search-group',{attrs:{\"mfilter\":'',\"page\":'collection'},on:{\"getMColList\":_vm.getMColList}}),_c('div',{staticClass:\"text-right\"},[_c('a',{staticClass:\"btn btn-primary btn-rounded btn-outline\",on:{\"click\":function($event){return _vm.gotoCollectionEdit()}}},[_c('i',{staticClass:\"la la-edit\"}),_vm._v(_vm._s(_vm.$t(\"edit\")))])])],1),_c('div',{staticClass:\"row\"},_vm._l((_vm.cResourceList),function(cr,index){return _c('div',{key:cr.resourceid + index,staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"align-self-center overlay-wrap mr-4 w-150 h-150 border\"},[_c('span',{staticClass:\"overlay-icon\"},[(cr.note === 'video')?_c('i',{staticClass:\"fas fa-video\"}):_c('i',{staticClass:\"fas fa-book-open\"})]),_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(\n                        'https://lms.mangosteems.com/cms/resdl/cover/' +\n                        cr.resourceid\n                      ),expression:\"\\n                        'https://lms.mangosteems.com/cms/resdl/cover/' +\\n                        cr.resourceid\\n                      \"}],staticClass:\"overlay-img cus-img\",attrs:{\"alt\":\"course image\"}})]),_c('div',{staticClass:\"media-body\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('div',[(\n                            cr.level !== '' &&\n                            cr.level !== undefined &&\n                            cr.level !== null\n                          )?_c('span',{staticClass:\"badge badge-pill badge-secondary\"},[_vm._v(_vm._s(_vm.$t(\"level\"))+\" \"+_vm._s(cr.level))]):_vm._e(),(cr.unit !== '' && cr.unit !== undefined)?_c('span',{staticClass:\"badge badge-pill badge-secondary ml-2\"},[_vm._v(_vm._s(_vm.$t(\"unit\"))+\" \"+_vm._s(cr.unit))]):_vm._e(),_c('h4',{staticClass:\"mb-0 mt-3 d-flex align-self-center text-primary\"},[_c('div',{attrs:{\"title\":\"\"}},[_vm._v(\" \"+_vm._s(cr.resource_name)+\" \")])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(cr.lastplay.length !== 0),expression:\"cr.lastplay.length !== 0\"}],staticClass:\"text-muted mt-1\"},[_c('i',{staticClass:\"zmdi zmdi-notifications mr-1\"}),_c('small',{staticClass:\"fw300 pointer\",on:{\"click\":function($event){return _vm.showLastPlay(cr.lastplay)}}},[_vm._v(_vm._s(_vm.$t(\"last-played\"))+\" \")])])]),_c('div',{staticClass:\"text-primary pointer\",attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#StartModal\"},on:{\"click\":function($event){_vm.getAvailableCourse(cr.resourceid);\n                          _vm.tempNote = cr.note;}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"start\"))),_vm._m(0,true)])])])])])])])}),0)]):_c('section',{staticClass:\"page-content container-fluid\"},[_c('div',{staticClass:\"col-sm-12 card py-5\"},[_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('h4',[_vm._v(_vm._s(_vm.$t(\"no-materials-added-yet\")))])])])])])],1),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"lastPlayModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[(_vm.lastPlayList.length !== 0)?_c('h5',{staticClass:\"modal-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"last-play-record-course-date\"))+\" \")]):_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"no-record\")))]),_vm._m(1)]),(_vm.lastPlayList.length !== 0)?_c('div',{staticClass:\"modal-body pb-4\"},_vm._l((_vm.lastPlayList),function(lp){return _c('div',{key:lp.courseid + 'lastplay'},[_c('span',[_vm._v(_vm._s(lp.course_name)+\" ： \"+_vm._s(_vm._f(\"dateConversion\")(lp.last_access)))])])}),0):_c('div',{staticClass:\"modal-body pb-4\"},[_c('p',[_vm._v(_vm._s(_vm.$t(\"no-open-or-play-record\"))+\".\")])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"StartModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[(_vm.courseList.length !== 0)?_c('h5',{staticClass:\"modal-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"start\"))+\" \")]):_vm._e(),_vm._m(2)]),(_vm.courseList.length !== 0)?_c('div',{staticClass:\"modal-body pb-4\"},[_c('p',[_vm._v(_vm._s(_vm.$t(\"select-the-class-to-open\"))+\".\")]),_vm._l((_vm.courseList),function(course){return _c('a',{key:course.resourceid,staticClass:\"btn btn-primary btn-outline btn-rounded mr-3 mb-3\",attrs:{\"title\":\"\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){return _vm.gotoCourse(course)}}},[_vm._v(_vm._s(course.course_name))])})],2):_c('div',{staticClass:\"modal-body pb-4\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t( \"the-course-you-can-use-this-collection-has-expired-if-you-wish-to-continue-using-it-you-must-renew-your-contract\" ))+\". \")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"btn-rounded-icon btn-primary rounded ml-2\"},[_c('i',{staticClass:\"zmdi zmdi-arrow-right zmdi-hc-fw text-white\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=script&lang=js&\"","<template>\r\n  <div id=\"app3\">\r\n    <!-- END MENU SIDEBAR WRAPPER -->\r\n    <div class=\"content-wrapper\">\r\n      <!-- TOP TOOLBAR WRAPPER -->\r\n      <custom-header></custom-header>\r\n      <!-- END TOP TOOLBAR WRAPPER -->\r\n      <div class=\"content\">\r\n        <header class=\"page-header\">\r\n          <div class=\"d-flex align-items-start\">\r\n            <div class=\"mt-2 mr-3\">\r\n              <a\r\n                @click=\"$back\"\r\n                class=\"btn-rounded-icon btn-primary ml-2 pointer\"\r\n                ><i class=\"zmdi zmdi-arrow-left zmdi-hc-fw text-white\"></i\r\n              ></a>\r\n            </div>\r\n            <div class=\"mr-auto\">\r\n              <h1>{{ $t(\"my-library\") }}</h1>\r\n              <p class=\"second-title\">{{ cname }}</p>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        <section\r\n          class=\"page-content container-fluid\"\r\n          v-if=\"cResourceList.length !== 0\"\r\n        >\r\n          <div class=\"d-flex justify-content-between\">\r\n            <search-group\r\n              :mfilter=\"''\"\r\n              @getMColList=\"getMColList\"\r\n              :page=\"'collection'\"\r\n            ></search-group>\r\n\r\n            <div class=\"text-right\">\r\n              <a\r\n                @click=\"gotoCollectionEdit()\"\r\n                class=\"btn btn-primary btn-rounded btn-outline\"\r\n                ><i class=\"la la-edit\"></i>{{ $t(\"edit\") }}</a\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div\r\n              class=\"col-12\"\r\n              v-for=\"(cr, index) in cResourceList\"\r\n              :key=\"cr.resourceid + index\"\r\n            >\r\n              <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                  <div class=\"media\">\r\n                    <div\r\n                      class=\"align-self-center overlay-wrap mr-4 w-150 h-150 border\"\r\n                    >\r\n                      <span class=\"overlay-icon\">\r\n                        <i class=\"fas fa-video\" v-if=\"cr.note === 'video'\"></i\r\n                        ><i class=\"fas fa-book-open\" v-else></i>\r\n                      </span>\r\n\r\n                      <img\r\n                        v-lazy=\"\r\n                          'https://lms.mangosteems.com/cms/resdl/cover/' +\r\n                          cr.resourceid\r\n                        \"\r\n                        class=\"overlay-img cus-img\"\r\n                        alt=\"course image\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"media-body\">\r\n                      <div class=\"d-flex justify-content-between\">\r\n                        <div>\r\n                          <span\r\n                            class=\"badge badge-pill badge-secondary\"\r\n                            v-if=\"\r\n                              cr.level !== '' &&\r\n                              cr.level !== undefined &&\r\n                              cr.level !== null\r\n                            \"\r\n                            >{{ $t(\"level\") }} {{ cr.level }}</span\r\n                          >\r\n                          <span\r\n                            class=\"badge badge-pill badge-secondary ml-2\"\r\n                            v-if=\"cr.unit !== '' && cr.unit !== undefined\"\r\n                            >{{ $t(\"unit\") }} {{ cr.unit }}</span\r\n                          >\r\n                          <h4\r\n                            class=\"mb-0 mt-3 d-flex align-self-center text-primary\"\r\n                          >\r\n                            <div title=\"\">\r\n                              <!-- <span\r\n                                v-if=\"cr.unit !== ''\"\r\n                                style=\"font-size: 18px\"\r\n                                >{{ cr.unit }} -\r\n                              </span> -->\r\n                              {{ cr.resource_name }}\r\n                            </div>\r\n                          </h4>\r\n                          <p\r\n                            class=\"text-muted mt-1\"\r\n                            v-show=\"cr.lastplay.length !== 0\"\r\n                          >\r\n                            <i class=\"zmdi zmdi-notifications mr-1\"></i>\r\n                            <small\r\n                              class=\"fw300 pointer\"\r\n                              @click=\"showLastPlay(cr.lastplay)\"\r\n                              >{{ $t(\"last-played\") }}\r\n                              <!-- <span>{{ cr.last_access | dateConversion }}</span> -->\r\n                            </small>\r\n                          </p>\r\n                        </div>\r\n                        <div\r\n                          class=\"text-primary pointer\"\r\n                          @click=\"\r\n                            getAvailableCourse(cr.resourceid);\r\n                            tempNote = cr.note;\r\n                          \"\r\n                          data-toggle=\"modal\"\r\n                          data-target=\"#StartModal\"\r\n                        >\r\n                          {{ $t(\"start\")\r\n                          }}<a class=\"btn-rounded-icon btn-primary rounded ml-2\"\r\n                            ><i\r\n                              class=\"zmdi zmdi-arrow-right zmdi-hc-fw text-white\"\r\n                            ></i\r\n                          ></a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <section class=\"page-content container-fluid\" v-else>\r\n          <div class=\"col-sm-12 card py-5\">\r\n            <div class=\"d-flex justify-content-center\">\r\n              <h4>{{ $t(\"no-materials-added-yet\") }}</h4>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n    <!-- lastplay MODAL -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"lastPlayModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" v-if=\"lastPlayList.length !== 0\">\r\n              {{ $t(\"last-play-record-course-date\") }}\r\n            </h5>\r\n            <h5 class=\"modal-title\" v-else>{{ $t(\"no-record\") }}</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-if=\"lastPlayList.length !== 0\">\r\n            <div v-for=\"lp in lastPlayList\" :key=\"lp.courseid + 'lastplay'\">\r\n              <span\r\n                >{{ lp.course_name }} ：\r\n                {{ lp.last_access | dateConversion }}</span\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-else>\r\n            <p>{{ $t(\"no-open-or-play-record\") }}.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- END CONTENT WRAPPER -->\r\n    <!-- old Start MODAL -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"StartModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" v-if=\"courseList.length !== 0\">\r\n              {{ $t(\"start\") }}\r\n            </h5>\r\n            <!-- <h5 class=\"modal-title\" v-else{{$t('greater-than-no-classes')}}</h5> -->\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-if=\"courseList.length !== 0\">\r\n            <p>{{ $t(\"select-the-class-to-open\") }}.</p>\r\n            <a\r\n              title=\"\"\r\n              class=\"btn btn-primary btn-outline btn-rounded mr-3 mb-3\"\r\n              v-for=\"course in courseList\"\r\n              :key=\"course.resourceid\"\r\n              data-dismiss=\"modal\"\r\n              @click=\"gotoCourse(course)\"\r\n              >{{ course.course_name }}</a\r\n            >\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-else>\r\n            <p>\r\n              {{\r\n                $t(\r\n                  \"the-course-you-can-use-this-collection-has-expired-if-you-wish-to-continue-using-it-you-must-renew-your-contract\"\r\n                )\r\n              }}.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import CustomHeader from \"../components/CustomHeader\";\r\nimport {\r\n  ApiGetCollectionContent,\r\n  ApiSearchCollection,\r\n  ApiGetAvailableCourse,\r\n  ApiSearchCollectionResource,\r\n} from \"../http/apis/Collection\";\r\nimport Select2 from \"v-select2-component\";\r\nimport $ from \"jquery\";\r\n// import Menu\r\nimport SearchGroup from \"../components/SearchGroup\";\r\nexport default {\r\n  name: \"CollectionDetail\",\r\n  components: {\r\n    CustomHeader: () => import(\"@/components/CustomHeader.vue\"),\r\n    SearchGroup,\r\n  },\r\n  data() {\r\n    return {\r\n      cname: \"\",\r\n      cResourceList: [],\r\n      typeList: [\r\n        { text: \"All type\", id: \"all\" },\r\n        { text: \"Picture Book\", id: \"book\" },\r\n        { text: \"Video\", id: \"video\" },\r\n      ],\r\n      selectType: \"all\",\r\n      courseList: [],\r\n      searchRname: \"\",\r\n      lastPlayList: [],\r\n      tempNote: \"book\",\r\n    };\r\n  },\r\n  created() {},\r\n  watch: {\r\n    // selectType() {\r\n    //   this.searchCollectionResource();\r\n    // },\r\n  },\r\n  mounted() {\r\n    this.cname = this.$route.params.cname;\r\n    this.getCollectionContent();\r\n  },\r\n  computed: {\r\n    userid() {\r\n      return this.$store.state.auth.userid;\r\n    },\r\n    materialSort() {\r\n      let temp = [...this.cResourceList];\r\n      temp.forEach((item) => {\r\n        if (item.unit === undefined) {\r\n          item.unit = \"\";\r\n        }\r\n      });\r\n      return temp;\r\n    },\r\n  },\r\n  methods: {\r\n    getMColList(textbookList) {\r\n      console.log(textbookList);\r\n      this.cResourceList = [...textbookList];\r\n    },\r\n    showLastPlay(lp) {\r\n      this.lastPlayList = [];\r\n      this.lastPlayList = lp;\r\n      $(\"#lastPlayModal\").modal(\"show\");\r\n    },\r\n    searchCollectionResource() {\r\n      let type = this.selectType;\r\n      let keyword = this.searchRname;\r\n      if (this.selectType === \"all\") {\r\n        type = \"*\";\r\n      }\r\n      if (this.searchRname === \"\") {\r\n        keyword = \"*\";\r\n      }\r\n      ApiSearchCollectionResource.get(\r\n        this.userid,\r\n        this.$route.params.cid,\r\n        keyword,\r\n        type\r\n      )\r\n        .then((response) => {\r\n          response.record.forEach((element) => {\r\n            //重建\r\n            element.lastplay = [];\r\n            element.last_access_all.forEach((item) => {\r\n              if (item.last_access !== \"0\") {\r\n                element.lastplay.push(item);\r\n              }\r\n            });\r\n          });\r\n          response.record.forEach((item) => {});\r\n          this.cResourceList = response.record;\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n    getCollectionContent() {\r\n      console.log(this.userid, this.$route.params.cid);\r\n\r\n      ApiGetCollectionContent.get(this.userid, this.$route.params.cid)\r\n        .then((response) => {\r\n          response.record.forEach((element) => {\r\n            //重建\r\n            element.lastplay = [];\r\n            element.last_access_all.forEach((item) => {\r\n              if (item.last_access !== \"0\") {\r\n                element.lastplay.push(item);\r\n              }\r\n            });\r\n          });\r\n          console.log(response.record);\r\n          this.cResourceList = response.record;\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n    gotoCollectionEdit() {\r\n      this.$router.push({\r\n        path: `/collection/edit/${this.$route.params.pid}/${this.$route.params.cname}/${this.$route.params.cid}`,\r\n      });\r\n    },\r\n    gotoCourse(course) {\r\n      console.log(course);\r\n      // http://localhost:8080/web/course_material/course=test%20Course/type=Material/CRSfuqFSTo8pycu7vqtpVz9Xe\r\n      // this.$router.push({\r\n      //   path: `/course_material/course=${course.resource_name}/type=Material/${course.resourceid}`,\r\n      // });\r\n      if (this.tempNote === \"book\") {\r\n        window.open(\r\n          `${process.env.VUE_APP_DOMAIN}/bktchr/?pkgid=${course.pkgid}&colid=${course.colid}&resid=${course.resourceid}&mid=&lmsd=${process.env.VUE_APP_LMSD}&auth=${this.$store.state.auth.token}&crsid=${course.courseid}&userid=${this.userid}&LANG=${this.$i18n.locale}`\r\n        );\r\n      } else {\r\n        window.open(\r\n          `${process.env.VUE_APP_DOMAIN}/vptchr/?pkgid=${course.pkgid}&colid=${course.colid}&resid=${course.resourceid}&mid=&lmsd=${process.env.VUE_APP_LMSD}&auth=${this.$store.state.auth.token}&crsid=${course.courseid}&userid=${this.userid}&LANG=${this.$i18n.locale}`\r\n        );\r\n      }\r\n    },\r\n    getAvailableCourse(rid) {\r\n      console.log(this.userid, this.$route.params.cid, rid);\r\n      ApiGetAvailableCourse.get(this.userid, this.$route.params.cid, rid)\r\n        .then((response) => {\r\n          this.courseList = response.record;\r\n          console.log(response.record);\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.cus-img {\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n  width: auto;\r\n  height: auto;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n}\r\n.overlay-icon {\r\n  z-index: 99;\r\n}\r\n// a:not([href]):not([tabindex]) {\r\n//   color: rgba(255, 255, 255, 0.9) !important;\r\n// }\r\n</style>","import { render, staticRenderFns } from \"./CollectionDetail.vue?vue&type=template&id=8a94b7aa&scoped=true&\"\nimport script from \"./CollectionDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./CollectionDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CollectionDetail.vue?vue&type=style&index=0&id=8a94b7aa&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8a94b7aa\",\n  null\n  \n)\n\nexport default component.exports","import {\r\n    get,\r\n    post,\r\n    put,\r\n    remove\r\n} from \"../https.js\";\r\n\r\n\r\n//CourseList相關 api\r\n\r\nexport const ApiGetCollection = {\r\n    get: (userid) => {\r\n        return get(`/collection/byteacher/${userid}`);\r\n    },\r\n};\r\nexport const ApiSearchCollection = {\r\n    get: (userid, keyword) => {\r\n\r\n        return get(`/collection/search/${userid}/${keyword}`);\r\n    },\r\n};\r\nexport const ApiSearchCollectionResource = {\r\n    get: (userid, cid, keyword, type) => {\r\n        console.log(`/collection/searchresource/${userid}/${cid}/${keyword}/${type}`);\r\n        return get(`/collection/searchresource/${userid}/${cid}/${keyword}/${type}`);\r\n    },\r\n};\r\nexport const ApiGetCollectionContent = {\r\n    get: (userid, cid) => {\r\n        console.log('get col content');\r\n        console.log(userid);\r\n        console.log(cid);\r\n        return get(`/collection/content/${userid}/${cid}`);\r\n    },\r\n};\r\nexport const ApiGetPkgList = {\r\n    get: (userid) => {\r\n        return get(`/collection/listpkgbyteacher/${userid}`);\r\n    }\r\n}\r\n\r\nexport const ApiSetCollection = {\r\n    post: (paramObj) => {\r\n        console.log('save collection');\r\n        return post(`/collection/create`, paramObj);\r\n    }\r\n}\r\n\r\nexport const ApiGetPkgMaterial = {\r\n    get: (pkgid) => {\r\n        console.log(pkgid);\r\n        return get(`/collection/pkgresource/${pkgid}`);\r\n    }\r\n}\r\n\r\nexport const ApiDeleteResource = {\r\n    get: (uid, cid, rid) => {\r\n        return get(`/collection/deleteresource/${uid}/${cid}/${rid}`);\r\n    }\r\n}\r\n\r\nexport const ApiDeleteCollection = {\r\n    get: (cid) => {\r\n        return get(`/collection/delete/${cid}`);\r\n    }\r\n}\r\n\r\nexport const ApiGetCollectionInfo = {\r\n    get: (cid, pid) => {\r\n        return get(`/collection/pkgmapcurs/${cid}/${pid}`)\r\n    }\r\n}\r\n\r\nexport const ApiGetAvailableCourse = {\r\n    get: (uid, cid, rid) => {\r\n        return get(`/collection/availablecourse/${uid}/${cid}/${rid}`)\r\n    }\r\n}\r\n\r\n//course material use\r\nexport const ApiGetCollectionList = {\r\n    get: (uid, rid) => {\r\n        return get(`/collection/exist/${uid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApiGetResource = {\r\n    get: (uid, colid) => {\r\n        return get(`/collection/getresource/${uid}/${colid}`)\r\n    }\r\n};\r\n\r\nexport const ApiAddResource = {\r\n    get: (colid, rid) => {\r\n        console.log(`/collection/addresource/${colid}/${rid}`);\r\n        return get(`/collection/addresource/${colid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApideleteResource = {\r\n    get: (uid, colid, rid) => {\r\n        return get(`/collection/deleteresource/${uid}/${colid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApiUpdateCollection = {\r\n    put: (colid, paramObj) => {\r\n        return put(`/collection/update/${colid}`, paramObj)\r\n    }\r\n};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=style&index=0&id=8a94b7aa&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=style&index=0&id=8a94b7aa&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-1 mb-3\"},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group form-rounded mb-0 mr-1\"},[_c('select2',{attrs:{\"id\":\"s2_demo2\",\"options\":_vm.typeList},model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}})],1),_c('div',{staticClass:\"form-group form-rounded mb-0 mr-1\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchRname),expression:\"searchRname\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search materials\"},domProps:{\"value\":(_vm.searchRname)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchCourseResource()},\"input\":function($event){if($event.target.composing){ return; }_vm.searchRname=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('div',{staticClass:\"btn btn-secondary btn-outline btn-icon btn-rounded\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.searchCourseResource()}}},[_c('i',{staticClass:\"zmdi zmdi-search text-secondary\"})])])])]),_c('div',{staticClass:\"form-group form-rounded mb-0 mr-1\"},[_c('select2',{attrs:{\"id\":\"s2_demo3\",\"options\":_vm.sortTypeList},model:{value:(_vm.selectSortType),callback:function ($$v) {_vm.selectSortType=$$v},expression:\"selectSortType\"}})],1),(_vm.haveLevel)?_c('div',{staticClass:\"form-group form-rounded mb-0 text-secondary\",attrs:{\"data-dismiss\":\"modal\",\"data-toggle\":\"modal\",\"data-target\":\"#filterModal\"},on:{\"click\":function($event){_vm.setAlllevel = ''}}},[_vm._m(0)]):_vm._e()]),(_vm.searchStatus || _vm.selectLevelList.length !== 0)?_c('div',{staticClass:\"mb-0 mr-3 text-secondary mt-2\"},[_c('div',{staticClass:\"row col-sm-12\"},[_c('strong',{staticClass:\"col-sm-12\"},[_c('span',{staticClass:\"mr-1\"},[_vm._v(_vm._s(_vm.sortMList.length))]),_vm._v(\" \"+_vm._s(_vm.$t(\"listings-for\"))),(_vm.tempSearchName !== '')?_c('span',[_vm._v(\" “ \"+_vm._s(_vm.searchRname)+\" ” \")]):_vm._e()]),(_vm.selectLevelList.length !== 0)?_c('div',{staticClass:\"col-sm-12\"},[_vm._l((_vm.selectLevelList),function(level){return _c('span',{key:level},[_c('span',{staticClass:\"badge badge-pill badge-secondary mr-2 mb-2 pointer\",on:{\"click\":function($event){return _vm.removeLevel(level)}}},[_vm._v(_vm._s(_vm.$t(\"level\"))+\" \"+_vm._s(level)+\" \"),_vm._m(1,true)])])}),_c('span',{staticClass:\"text-primary pointer\",on:{\"click\":function($event){return _vm.clearLevelFilter()}}},[_vm._v(_vm._s(_vm.$t(\"clear-all\")))])],2):_vm._e()])]):_vm._e(),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"filterModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"ModalTitle1\"}},[_vm._v(_vm._s(_vm.$t(\"filter\")))]),_vm._m(2)]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(\"Filter by level\")]),_c('div',{staticClass:\"col-sm-12 row\"},_vm._l((_vm.levelLists),function(level,index){return _c('div',{key:level + index,staticClass:\"col-4\"},[_c('div',{staticClass:\"custom-control custom-checkbox mr-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectLevelList),expression:\"selectLevelList\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":level},domProps:{\"value\":level,\"checked\":Array.isArray(_vm.selectLevelList)?_vm._i(_vm.selectLevelList,level)>-1:(_vm.selectLevelList)},on:{\"change\":function($event){var $$a=_vm.selectLevelList,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=level,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectLevelList=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectLevelList=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectLevelList=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":level}},[_vm._v(\"Level \"+_vm._s(level))])])])}),0)])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn btn-secondary btn-outline btn-icon btn-rounded d-flex justify-content-center align-items-center\"},[_c('i',{staticClass:\"zmdi zmdi-filter-list mx-0\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"ml-1\"},[_c('i',{staticClass:\"zmdi zmdi-close\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchGroup.vue?vue&type=script&lang=js&\"","<template >\r\n  <div class=\"px-1 mb-3\">\r\n    <div class=\"form-row\">\r\n      <div class=\"form-group form-rounded mb-0 mr-1\">\r\n        <select2 id=\"s2_demo2\" :options=\"typeList\" v-model=\"selectType\">\r\n        </select2>\r\n      </div>\r\n      <div class=\"form-group form-rounded mb-0 mr-1\">\r\n        <div class=\"input-group\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"Search materials\"\r\n            v-model=\"searchRname\"\r\n            @keyup.enter=\"searchCourseResource()\"\r\n          />\r\n          <!-- @keyup.enter=\"searchCourseResource()\" -->\r\n          <div class=\"input-group-append\">\r\n            <div\r\n              class=\"btn btn-secondary btn-outline btn-icon btn-rounded\"\r\n              type=\"button\"\r\n              @click=\"searchCourseResource()\"\r\n            >\r\n              <i class=\"zmdi zmdi-search text-secondary\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group form-rounded mb-0 mr-1\">\r\n        <select2 id=\"s2_demo3\" :options=\"sortTypeList\" v-model=\"selectSortType\">\r\n        </select2>\r\n      </div>\r\n      <div\r\n        v-if=\"haveLevel\"\r\n        class=\"form-group form-rounded mb-0 text-secondary\"\r\n        data-dismiss=\"modal\"\r\n        data-toggle=\"modal\"\r\n        data-target=\"#filterModal\"\r\n        @click=\"setAlllevel = ''\"\r\n      >\r\n        <div\r\n          class=\"btn btn-secondary btn-outline btn-icon btn-rounded d-flex justify-content-center align-items-center\"\r\n        >\r\n          <i class=\"zmdi zmdi-filter-list mx-0\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-if=\"searchStatus || selectLevelList.length !== 0\"\r\n      class=\"mb-0 mr-3 text-secondary mt-2\"\r\n    >\r\n      <div class=\"row col-sm-12\">\r\n        <strong class=\"col-sm-12\"\r\n          ><span class=\"mr-1\">{{ sortMList.length }}</span>\r\n          {{ $t(\"listings-for\")\r\n          }}<span v-if=\"tempSearchName !== ''\">\r\n            “ {{ searchRname }} ”\r\n          </span></strong\r\n        >\r\n        <div class=\"col-sm-12\" v-if=\"selectLevelList.length !== 0\">\r\n          <span v-for=\"level in selectLevelList\" :key=\"level\">\r\n            <span\r\n              class=\"badge badge-pill badge-secondary mr-2 mb-2 pointer\"\r\n              @click=\"removeLevel(level)\"\r\n              >{{ $t(\"level\") }} {{ level }}\r\n              <span class=\"ml-1\"><i class=\"zmdi zmdi-close\"></i></span\r\n            ></span>\r\n          </span>\r\n          <span class=\"text-primary pointer\" @click=\"clearLevelFilter()\">{{\r\n            $t(\"clear-all\")\r\n          }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- modal -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"filterModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"ModalTitle1\">{{ $t(\"filter\") }}</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <p>Filter by level</p>\r\n            <div class=\"col-sm-12 row\">\r\n              <!-- <div class=\"custom-control custom-checkbox col-sm-12 ml-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"custom-control-input\"\r\n                  id=\"std\"\r\n                  @click=\"selectAllLevel\"\r\n                  v-model=\"setAlllevel\"\r\n                  name=\"std\"\r\n                />\r\n                <label class=\"custom-control-label\" for=\"std\">\r\n                  <strong>{{ $t(\"all-level\") }}</strong>\r\n                </label>\r\n              </div> -->\r\n              <div\r\n                v-for=\"(level, index) in levelLists\"\r\n                :key=\"level + index\"\r\n                class=\"col-4\"\r\n              >\r\n                <div class=\"custom-control custom-checkbox mr-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    class=\"custom-control-input\"\r\n                    :id=\"level\"\r\n                    :value=\"level\"\r\n                    v-model=\"selectLevelList\"\r\n                  />\r\n                  <label class=\"custom-control-label\" :for=\"level\"\r\n                    >Level {{ level }}</label\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ApiSearchCourseResource } from \"../http/apis/CourseDetail\";\r\nimport { ApiSearchCollectionResource } from \"../http/apis/Collection\";\r\nexport default {\r\n  name: \"SearchGroup\",\r\n  data() {\r\n    return {\r\n      typeList: [\r\n        { text: \"All type\", id: \"all\" },\r\n        { text: \"Picture Book\", id: \"book\" },\r\n        { text: \"Video\", id: \"video\" },\r\n      ],\r\n      selectType: \"all\",\r\n      searchRname: \"\",\r\n      selectSortType: \"\",\r\n      searchStatus: false,\r\n      tempSearchName: \"\",\r\n      textbookList: [],\r\n      courseid: this.$route.params.courseid,\r\n      colSortList: [],\r\n      setAlllevel: \"\",\r\n      selectLevelList: [],\r\n      levelLists: [],\r\n      haveLevel: false,\r\n      courseInfo: {},\r\n      collectionInfo: {},\r\n    };\r\n  },\r\n  props: [\"mfilter\", \"page\"],\r\n  methods: {\r\n    clearLevelFilter() {\r\n      this.selectLevelList = [];\r\n    },\r\n    removeLevel(level) {\r\n      let vm = this;\r\n      let index = this.selectLevelList.indexOf(level);\r\n\r\n      if (index !== -1) {\r\n        vm.selectLevelList.splice(index, 1);\r\n      }\r\n    },\r\n    async searchCourseResource() {\r\n      //判斷是否有搜尋值\r\n      let vm = this;\r\n      if (this.searchRname !== \"\") {\r\n        this.searchStatus = true;\r\n        this.tempSearchName = this.searchRname;\r\n      } else {\r\n        this.searchStatus = false;\r\n      }\r\n      let sType = this.selectType;\r\n      if (this.selectType === \"all\") {\r\n        sType = \"*\";\r\n      }\r\n      let searchObj = {\r\n        type: sType,\r\n        keyword: this.searchRname,\r\n      };\r\n      let result = await ApiSearchCourseResource.post(this.courseid, searchObj)\r\n        .then((response) => {\r\n          if (vm.selectSortType === \"\") {\r\n            if (response.csrInfo.cntLevel !== 0) {\r\n              vm.haveLevel = true;\r\n              vm.selectSortType = \"level_asc\";\r\n            } else {\r\n              vm.haveLevel = false;\r\n              vm.selectSortType = \"unit_asc\";\r\n            }\r\n          }\r\n          response.record.forEach((element) => {\r\n            if (\r\n              element.level !== undefined &&\r\n              element.level !== \"\" &&\r\n              !vm.levelLists.includes(element.level)\r\n            ) {\r\n              vm.levelLists.push(element.level);\r\n            }\r\n            if (element.unit === undefined) {\r\n              element.unit = \"\";\r\n            }\r\n            element.link = element.information.includes(\"http\");\r\n          });\r\n          this.levelLists.sort();\r\n          this.textbookList = response.record;\r\n\r\n          if (response.status === \"success\") {\r\n            return true;\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n      if (result) {\r\n        this.$emit(\"getMList\", this.sortMList);\r\n        this.$emit(\"getFilterInfo\", this.selectLevelList, this.selectSortType);\r\n      }\r\n    },\r\n    async searchCollectionResource() {\r\n      let vm = this;\r\n      let type = this.selectType;\r\n      let keyword = this.searchRname;\r\n      if (this.selectType === \"all\") {\r\n        type = \"*\";\r\n      }\r\n      if (this.searchRname === \"\") {\r\n        keyword = \"*\";\r\n      }\r\n      if (this.searchRname !== \"\") {\r\n        this.searchStatus = true;\r\n        this.tempSearchName = this.searchRname;\r\n      } else {\r\n        this.searchStatus = false;\r\n      }\r\n\r\n      let result = await ApiSearchCollectionResource.get(\r\n        this.userid,\r\n        this.$route.params.cid,\r\n        keyword,\r\n        type\r\n      )\r\n        .then((response) => {\r\n          if (vm.selectSortType === \"\") {\r\n            if (response.moreInfo.cntLevel !== 0) {\r\n              vm.haveLevel = true;\r\n              vm.selectSortType = \"level_asc\";\r\n            } else {\r\n              vm.haveLevel = false;\r\n              vm.selectSortType = \"unit_asc\";\r\n            }\r\n          }\r\n          response.record.forEach((element) => {\r\n            //重建\r\n            if (\r\n              element.level !== undefined &&\r\n              element.level !== \"\" &&\r\n              !vm.levelLists.includes(element.level)\r\n            ) {\r\n              vm.levelLists.push(element.level);\r\n            }\r\n            element.lastplay = [];\r\n            element.last_access_all.forEach((item) => {\r\n              if (item.last_access !== \"0\") {\r\n                element.lastplay.push(item);\r\n              }\r\n            });\r\n          });\r\n          this.textbookList = response.record;\r\n          // this.collectionInfo = response.moreInfo;\r\n          if (response.moreInfo.cntLevel === 0) {\r\n            let slist = [\r\n              { text: \"Sort by title A to Z\", id: \"title_asc\" },\r\n              { text: \"Sort by title Z to A\", id: \"title_desc\" },\r\n              { text: \"Sort by unit Smallest to Largest\", id: \"unit_asc\" },\r\n              { text: \"Sort by unit Largest to Smallest\", id: \"unit_desc\" },\r\n            ];\r\n            vm.$store.dispatch(\"common/setSortTypeList\", slist);\r\n          } else if (response.moreInfo.cntUnit === 0) {\r\n            let slist = [\r\n              { text: \"Sort by title A to Z\", id: \"title_asc\" },\r\n              { text: \"Sort by title Z to A\", id: \"title_desc\" },\r\n              { text: \"Sort by level A to Z\", id: \"level_asc\" },\r\n              { text: \"Sort by level Z to A\", id: \"level_desc\" },\r\n            ];\r\n            vm.$store.dispatch(\"common/setSortTypeList\", slist);\r\n          }\r\n          if (response.status === \"success\") {\r\n            return true;\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n      if (result) {\r\n        this.$emit(\"getMColList\", this.sortMList);\r\n      }\r\n    },\r\n    selectAllLevel(event) {\r\n      const vm = this;\r\n\r\n      if (!event.currentTarget.checked) {\r\n        vm.selectLevelList = [];\r\n      } else {\r\n        //實現全選\r\n        vm.selectLevelList = [];\r\n        vm.levelLists.forEach(function (level, i) {\r\n          vm.selectLevelList.push(level);\r\n        });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.openedTextbookList = this.openedTextbookLists;\r\n    if (this.page !== \"collection\") {\r\n      this.searchCourseResource();\r\n    } else {\r\n      this.searchCollectionResource();\r\n    }\r\n    this.courseInfo = this.courseInfos;\r\n  },\r\n  computed: {\r\n    courseInfos() {\r\n      return this.$store.state.courseInfo.courseInfo;\r\n    },\r\n    userid() {\r\n      return this.$store.state.auth.userid;\r\n    },\r\n    sortMList() {\r\n      let sortMaterial = [];\r\n      let openb = this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"book\";\r\n      });\r\n      let openv = this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"video\";\r\n      });\r\n      if (this.mfilter === \"openm\") {\r\n        // return this.$_sortMaterial(this.openedMList, this.selectSortType);\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.openedMList,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n      } else if (this.mfilter === \"openb\") {\r\n        sortMaterial = this.$_sortMaterial(\r\n          openb,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n        // return this.$_sortMaterial(this.openedBookList, this.selectSortType);\r\n      } else if (this.mfilter === \"openv\") {\r\n        sortMaterial = this.$_sortMaterial(\r\n          openv,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n        // return this.$_sortMaterial(this.openedVideoList, this.selectSortType);\r\n      } else {\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.textbookList,\r\n          this.selectSortType,\r\n          this.selectLevelList\r\n        );\r\n      }\r\n      // return this.$_sortMaterial(this.textbookList, this.selectSortType);\r\n      return sortMaterial;\r\n      //   this.$emit(\"getMList\", sortMaterial);\r\n    },\r\n    sortTypeList() {\r\n      return this.$store.state.common.sortTypeList;\r\n    },\r\n    openedMList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\";\r\n      });\r\n    },\r\n    openedBookList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"book\";\r\n      });\r\n    },\r\n    openedVideoList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"video\";\r\n      });\r\n    },\r\n    // levelLists() {\r\n    //   let levelList = [];\r\n    //   this.textbookList.forEach((element) => {\r\n    //     if (element.level !== undefined && !levelList.includes(element.level)) {\r\n    //       levelList.push(element.level);\r\n    //     }\r\n    //   });\r\n    //   return levelList;\r\n    // },\r\n    openedTextbookLists() {\r\n      return this.$store.state.courseInfo.openedTextbookList;\r\n    },\r\n  },\r\n  watch: {\r\n    // textbookList() {\r\n    //   // console.log('change');\r\n    //   this.$emit(\"getMList\", this.sortMList);\r\n    // },\r\n    courseInfo() {\r\n      if (this.$route.name !== \"CollectionDetail\") {\r\n        if (this.courseInfo.cntLevel === 0) {\r\n          let slist = [\r\n            { text: \"Sort by title A to Z\", id: \"title_asc\" },\r\n            { text: \"Sort by title Z to A\", id: \"title_desc\" },\r\n            { text: \"Sort by unit Smallest to Largest\", id: \"unit_asc\" },\r\n            { text: \"Sort by unit Largest to Smallest\", id: \"unit_desc\" },\r\n          ];\r\n          this.$store.dispatch(\"common/setSortTypeList\", slist);\r\n        } else if (this.courseInfo.cntUnit === 0) {\r\n          let slist = [\r\n            { text: \"Sort by title A to Z\", id: \"title_asc\" },\r\n            { text: \"Sort by title Z to A\", id: \"title_desc\" },\r\n            { text: \"Sort by level A to Z\", id: \"level_asc\" },\r\n            { text: \"Sort by level Z to A\", id: \"level_desc\" },\r\n          ];\r\n          this.$store.dispatch(\"common/setSortTypeList\", slist);\r\n        } else {\r\n          let slist = [\r\n            { text: \"Sort by title A to Z\", id: \"title_asc\" },\r\n            { text: \"Sort by title Z to A\", id: \"title_desc\" },\r\n            { text: \"Sort by level A to Z\", id: \"level_asc\" },\r\n            { text: \"Sort by level Z to A\", id: \"level_desc\" },\r\n            { text: \"Sort by unit Smallest to Largest\", id: \"unit_asc\" },\r\n            { text: \"Sort by unit Largest to Smallest\", id: \"unit_desc\" },\r\n          ];\r\n          this.$store.dispatch(\"common/setSortTypeList\", slist);\r\n        }\r\n      }\r\n    },\r\n    courseInfos() {\r\n      this.courseInfo = this.courseInfos;\r\n    },\r\n    selectLevelList() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    mfilter() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    selectSortType() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    openedTextbookLists() {\r\n      this.openedTextbookList = this.openedTextbookLists;\r\n    },\r\n    searchRname() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    selectType() {\r\n      // console.log(this.page);\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\">\r\n</style>","import { render, staticRenderFns } from \"./SearchGroup.vue?vue&type=template&id=fcd75f9e&\"\nimport script from \"./SearchGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}