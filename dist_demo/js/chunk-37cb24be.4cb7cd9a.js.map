{"version":3,"sources":["webpack:///./src/http/apis/Collection.js","webpack:///./src/views/CollectionEdit.vue?8afa","webpack:///./src/views/CollectionEdit.vue?9a11","webpack:///./src/views/CollectionEdit.vue?3b43","webpack:///src/views/CollectionEdit.vue","webpack:///./src/views/CollectionEdit.vue"],"names":["ApiGetCollection","get","userid","ApiSearchCollection","keyword","ApiSearchCollectionResource","cid","type","ApiGetCollectionContent","console","log","ApiGetPkgList","ApiSetCollection","post","paramObj","ApiGetPkgMaterial","pkgid","ApiDeleteCollection","ApiGetCollectionInfo","pid","ApiGetAvailableCourse","uid","rid","ApiGetCollectionList","ApiAddResource","colid","ApiUpdateCollection","put","name","components","CustomHeader","draggable","cname","pName","tempRname","tempRid","tempIndex","pkgMaterialList","selectAllPM","typeList","text","id","seleceType","tempSearch","searchRName","materialSequence","tempMidList","tempMaterialList","courseList","this","$route","params","drag","selectSortType","computed","result","filter","item","resource_name","toLowerCase","indexOf","$_sortMaterial","resourceFilter","$store","state","common","sortTypeList","dragOptions","animation","group","disabled","ghostClass","auth","init","methods","event","vm","currentTarget","checked","tempMaterial","sortMList","forEach","i","push","axios","all","getCollectionContent","getCollectionInfo","getPkgMaterial","then","spread","func1","func2","catch","err","response","record","undefined","unit","msi","resourceid","element","course_name","pkg_name","index","splice","ml","pkg","obj","collection_name","list","resource","join","status","$bus","$emit","$","modal","component","_vm","_h","$createElement","_c","_self","attrs","staticClass","on","$back","_v","_s","$t","directives","rawName","value","expression","domProps","$event","target","composing","_l","course","key","length","_e","resetSelect","staticStyle","_b","model","callback","$$v","m","note","level","_m","updateCollection","_k","keyCode","Array","isArray","_i","selectAll","$$a","$$el","$$c","$$i","concat","slice","pkgm","addtoSequence","removeFromSequence"],"mappings":"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","file":"js/chunk-37cb24be.4cb7cd9a.js","sourcesContent":["import {\r\n    get,\r\n    post,\r\n    put,\r\n    remove\r\n} from \"../https.js\";\r\n\r\n\r\n//CourseList相關 api\r\n\r\nexport const ApiGetCollection = {\r\n    get: (userid) => {\r\n        return get(`/collection/byteacher/${userid}`);\r\n    },\r\n};\r\nexport const ApiSearchCollection = {\r\n    get: (userid, keyword) => {\r\n\r\n        return get(`/collection/search/${userid}/${keyword}`);\r\n    },\r\n};\r\nexport const ApiSearchCollectionResource = {\r\n    get: (userid, cid, keyword, type) => {\r\n        return get(`/collection/searchresource/${userid}/${cid}/${keyword}/${type}`);\r\n    },\r\n};\r\nexport const ApiGetCollectionContent = {\r\n    get: (userid, cid) => {\r\n        console.log('get col content');\r\n        console.log(userid);\r\n        console.log(cid);\r\n        return get(`/collection/content/${userid}/${cid}`);\r\n    },\r\n};\r\nexport const ApiGetPkgList = {\r\n    get: (userid) => {\r\n        return get(`/collection/listpkgbyteacher/${userid}`);\r\n    }\r\n}\r\n\r\nexport const ApiSetCollection = {\r\n    post: (paramObj) => {\r\n        console.log('save collection');\r\n        return post(`/collection/create`, paramObj);\r\n    }\r\n}\r\n\r\nexport const ApiGetPkgMaterial = {\r\n    get: (pkgid) => {\r\n        console.log(pkgid);\r\n        return get(`/collection/pkgresource/${pkgid}`);\r\n    }\r\n}\r\n\r\nexport const ApiDeleteResource = {\r\n    get: (uid, cid, rid) => {\r\n        return get(`/collection/deleteresource/${uid}/${cid}/${rid}`);\r\n    }\r\n}\r\n\r\nexport const ApiDeleteCollection = {\r\n    get: (cid) => {\r\n        return get(`/collection/delete/${cid}`);\r\n    }\r\n}\r\n\r\nexport const ApiGetCollectionInfo = {\r\n    get: (cid, pid) => {\r\n        return get(`/collection/pkgmapcurs/${cid}/${pid}`)\r\n    }\r\n}\r\n\r\nexport const ApiGetAvailableCourse = {\r\n    get: (uid, cid, rid) => {\r\n        return get(`/collection/availablecourse/${uid}/${cid}/${rid}`)\r\n    }\r\n}\r\n\r\n//course material use\r\nexport const ApiGetCollectionList = {\r\n    get: (uid, rid) => {\r\n        return get(`/collection/exist/${uid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApiGetResource = {\r\n    get: (uid, colid) => {\r\n        return get(`/collection/getresource/${uid}/${colid}`)\r\n    }\r\n};\r\n\r\nexport const ApiAddResource = {\r\n    get: (colid, rid) => {\r\n        console.log(`/collection/addresource/${colid}/${rid}`);\r\n        return get(`/collection/addresource/${colid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApideleteResource = {\r\n    get: (uid, colid, rid) => {\r\n        return get(`/collection/deleteresource/${uid}/${colid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApiUpdateCollection = {\r\n    put: (colid, paramObj) => {\r\n        return put(`/collection/update/${colid}`, paramObj)\r\n    }\r\n};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionEdit.vue?vue&type=style&index=0&id=917983cc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionEdit.vue?vue&type=style&index=0&id=917983cc&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app3\"}},[_c('custom-header'),_c('div',{staticClass:\"content py-0\"},[_c('header',{staticClass:\"page-header\"},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('div',{staticClass:\"mt-2 mr-3\"},[_c('a',{staticClass:\"btn-rounded-icon btn-primary ml-2 pointer\",on:{\"click\":_vm.$back}},[_c('i',{staticClass:\"zmdi zmdi-arrow-left zmdi-hc-fw text-white\"})])]),_c('div',{staticClass:\"mr-auto\"},[_c('h1',{staticClass:\"separator\"},[_vm._v(_vm._s(_vm.$t(\"collection\")))]),_c('span',[_vm._v(_vm._s(_vm.$t(\"edit\")))]),_c('p',{staticClass:\"second-title\"},[_vm._v(_vm._s(_vm.cname))])])])]),_c('section',{staticClass:\"page-content container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row cardsContainer\",attrs:{\"id\":\"cards-container\"}},[_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"collection-name\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cname),expression:\"cname\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter collection name\"},domProps:{\"value\":(_vm.cname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.cname=$event.target.value}}})])]),_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"available-packages\")))]),_c('select',{staticClass:\"form-control\",attrs:{\"id\":\"s2_demo2\",\"disabled\":\"\"}},[_c('optgroup',{attrs:{\"label\":\"select package\"}},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(_vm._s(_vm.pName))]),_c('option',[_vm._v(_vm._s(_vm.$t(\"second-grade\")))]),_c('option',[_vm._v(_vm._s(_vm.$t(\"third-grade\")))]),_c('option',[_vm._v(_vm._s(_vm.$t(\"fourth-grade\")))]),_c('option',[_vm._v(_vm._s(_vm.$t(\"summer-class-special\")))]),_c('option',[_vm._v(_vm._s(_vm.$t(\"winter-class-special\")))])])])])]),_c('div',{staticClass:\"col-12\"},[_c('h6',[_vm._v(_vm._s(_vm.$t(\"applicable-course\")))]),_c('span',_vm._l((_vm.courseList),function(course,index){return _c('span',{key:index + course},[_vm._v(_vm._s(course)+\" \"),(index + 1 < _vm.courseList.length)?_c('span',[_vm._v(\"、\")]):_vm._e()])}),0)])])])])]),_c('div',{staticClass:\"col-sm-12\"},[_c('div',{staticClass:\"d-flex justify-content-end pb-3\"},[_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-primary btn-rounded btn-outline\",attrs:{\"type\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#addMaterial\",\"disabled\":_vm.cname === '' || _vm.pName === '' || _vm.pName === undefined},on:{\"click\":function($event){return _vm.resetSelect()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"selection-and-management\"))+\" \")])])]),_c('div',{staticClass:\"card\"},[_c('h5',{staticClass:\"card-header\"},[_vm._v(_vm._s(_vm.$t(\"sequence\")))]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"collection-scroll\",staticStyle:{\"max-height\":\"320px\"},attrs:{\"data-scroll\":\"dark\"}},[_c('ul',{staticClass:\"sequence\"},[_c('draggable',_vm._b({staticClass:\"list-group\",attrs:{\"tag\":\"ul\"},on:{\"start\":function($event){_vm.drag = true},\"end\":function($event){_vm.drag = false}},model:{value:(_vm.materialSequence),callback:function ($$v) {_vm.materialSequence=$$v},expression:\"materialSequence\"}},'draggable',_vm.dragOptions,false),_vm._l((_vm.materialSequence),function(m,index){return _c('li',{key:m.resourceid,staticClass:\"d-flex justify-content-between\"},[_c('div',{staticClass:\"d-flex justify-content-start align-items-center\"},[_c('div',{staticClass:\"btn btn-nostyle btn-move mr-3\"},[_c('i',{staticClass:\"la la-ellipsis-v\"}),_c('i',{staticClass:\"la la-ellipsis-v\"})]),_c('div',{staticClass:\"align-self-center overlay-wrap mr-4 w-150 h-150 border\"},[_c('span',{staticClass:\"overlay-icon\"},[(m.note === 'video')?_c('i',{staticClass:\"fas fa-video\"}):_c('i',{staticClass:\"fas fa-book-open\"})]),_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(\n                              'https://lms.mangosteems.com/cms/resdl/cover/' +\n                              m.resourceid\n                            ),expression:\"\\n                              'https://lms.mangosteems.com/cms/resdl/cover/' +\\n                              m.resourceid\\n                            \"}],staticClass:\"overlay-img cus-img\",attrs:{\"alt\":\"course image\"}})]),_c('div',[(\n                              m.level !== '' &&\n                              m.level !== null &&\n                              m.level !== undefined\n                            )?_c('span',{staticClass:\"badge badge-pill badge-secondary mt-2\"},[_vm._v(_vm._s(_vm.$t(\"level\"))+\" \"+_vm._s(m.level))]):_vm._e(),(m.unit !== '' && m.unit !== undefined)?_c('span',{staticClass:\"badge badge-pill badge-secondary ml-2\"},[_vm._v(_vm._s(_vm.$t(\"unit\"))+\" \"+_vm._s(m.unit))]):_vm._e(),_c('h4',{staticClass:\"d-flex align-self-center mt-2\"},[_vm._v(\" \"+_vm._s(m.resource_name)+\" \")])])]),_c('button',{staticClass:\"btn btn-nostyle btn-remove\",attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#deleteModal\"},on:{\"click\":function($event){_vm.tempRname = m.resource_name;\n                          _vm.tempRid = m.resourceid;\n                          _vm.tempIndex = index;}}},[_c('i',{staticClass:\"zmdi zmdi-minus-circle zmdi-hc-fw text-secondary\"})])])}),0)],1)])])])]),_c('div',{staticClass:\"col-12 text-right\"},[_c('button',{staticClass:\"btn btn-secondary btn-rounded btn-outline mr-2\",attrs:{\"type\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#SaveChangeModal\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"cancel\"))+\" \")]),_c('button',{staticClass:\"btn btn-primary btn-rounded\",attrs:{\"type\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#SaveChangeModal\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"save\"))+\" \")])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"SaveChangeModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"save-change\")))]),_vm._m(0)]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(_vm._s(_vm.$t(\"would-you-like-to-save-your-changes\"))+\"?\")])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary btn-rounded btn-outline\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"cancel\"))+\" \")]),_c('button',{staticClass:\"btn btn-primary btn-rounded\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){return _vm.updateCollection()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"save\"))+\" \")])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"NoCourseModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"no-course\")))]),_vm._m(1)]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t( \"courses-that-can-use-this-collection-have-expired-less-than-br-greater-than-if-you-want-to-continue-using-you-must-renew-the-contract\" ))+\". \")])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary btn-rounded btn-outline mr-2\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"cancel\"))+\" \")]),_c('button',{staticClass:\"btn btn-primary btn-rounded\",attrs:{\"type\":\"button\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"save\"))+\" \")])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"addMaterial\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\",\"data-modal\":\"scroll\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"ModalTitle1\"}},[_c('i',{staticClass:\"zmdi zmdi-plus zmdi-hc-fw\"}),_vm._v(_vm._s(_vm.$t(\"material\"))+\" \")]),_vm._m(2)]),_c('div',{staticClass:\"modal-body\"},[_c('h6',{staticClass:\"pb-2\"},[_c('span',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.$t(\"package\")))]),_c('strong',{staticClass:\"ml-1\"},[_vm._v(_vm._s(_vm.pName))])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('div',{staticClass:\"form-group form-rounded\"},[_c('select2',{attrs:{\"id\":\"s2_demo1\",\"options\":_vm.typeList},model:{value:(_vm.seleceType),callback:function ($$v) {_vm.seleceType=$$v},expression:\"seleceType\"}})],1)]),_c('div',{staticClass:\"col-4\"},[_c('div',{staticClass:\"form-group form-rounded\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempSearch),expression:\"tempSearch\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search...\"},domProps:{\"value\":(_vm.tempSearch)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.searchRName = _vm.tempSearch},\"input\":function($event){if($event.target.composing){ return; }_vm.tempSearch=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('div',{staticClass:\"btn btn-secondary btn-outline btn-icon btn-rounded\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.searchRName = _vm.tempSearch}}},[_c('i',{staticClass:\"zmdi zmdi-search text-secondary\"})])])])])]),_c('div',{staticClass:\"col-4\"},[_c('div',{staticClass:\"form-group form-rounded\"},[_c('select2',{attrs:{\"id\":\"s2_demo3\",\"options\":_vm.sortTypeList},model:{value:(_vm.selectSortType),callback:function ($$v) {_vm.selectSortType=$$v},expression:\"selectSortType\"}})],1)])])]),_c('div',{staticClass:\"modal-body\",attrs:{\"data-scroll\":\"dark\"}},[_c('div',{staticClass:\"custom-control custom-checkbox form-check pb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectAllPM),expression:\"selectAllPM\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"selectPM\"},domProps:{\"checked\":Array.isArray(_vm.selectAllPM)?_vm._i(_vm.selectAllPM,null)>-1:(_vm.selectAllPM)},on:{\"click\":_vm.selectAll,\"change\":function($event){var $$a=_vm.selectAllPM,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectAllPM=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectAllPM=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectAllPM=$$c}}}}),_c('label',{staticClass:\"custom-control-label text-primary\",attrs:{\"for\":\"selectPM\"}},[_vm._v(_vm._s(_vm.$t(\"select-all\")))])]),_vm._l((_vm.sortMList),function(pkgm){return _c('div',{key:pkgm.resourceid,staticClass:\"custom-control custom-checkbox form-check pb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempMidList),expression:\"tempMidList\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":pkgm.resourceid},domProps:{\"value\":pkgm.resourceid,\"checked\":Array.isArray(_vm.tempMidList)?_vm._i(_vm.tempMidList,pkgm.resourceid)>-1:(_vm.tempMidList)},on:{\"change\":function($event){var $$a=_vm.tempMidList,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=pkgm.resourceid,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.tempMidList=$$a.concat([$$v]))}else{$$i>-1&&(_vm.tempMidList=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.tempMidList=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":pkgm.resourceid}},[(pkgm.level !== '')?_c('span',{staticClass:\"badge badge-pill badge-secondary\"},[_vm._v(_vm._s(_vm.$t(\"level\"))+\" \"+_vm._s(pkgm.level))]):_vm._e(),(pkgm.unit !== '')?_c('span',{staticClass:\"badge badge-pill badge-secondary ml-2\"},[_vm._v(_vm._s(_vm.$t(\"unit\"))+\" \"+_vm._s(pkgm.unit))]):_vm._e(),_vm._v(\" \"+_vm._s(pkgm.resource_name))])])})],2),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary btn-outline btn-rounded\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"close\"))+\" \")]),_c('button',{staticClass:\"btn btn-primary btn-rounded\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){return _vm.addtoSequence()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"confirm\"))+\" \")])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"deleteModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"delete\")))]),_vm._m(3)]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(\"confirm-to-delete-resource\"))+\"：\"),_c('strong',[_vm._v(_vm._s(_vm.tempRname))]),_vm._v(\"? \")])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary btn-rounded btn-outline\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"cancel\"))+\" \")]),_c('button',{staticClass:\"btn btn-primary btn-rounded\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){return _vm.removeFromSequence(_vm.tempIndex)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"confirm\"))+\" \")])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionEdit.vue?vue&type=script&lang=js&\"","<template>\r\n  <div id=\"app3\">\r\n    <!-- END MENU SIDEBAR WRAPPER -->\r\n    <!-- TOP TOOLBAR WRAPPER -->\r\n    <custom-header></custom-header>\r\n    <!-- END TOP TOOLBAR WRAPPER -->\r\n    <div class=\"content py-0\">\r\n      <header class=\"page-header\">\r\n        <div class=\"d-flex align-items-start\">\r\n          <div class=\"mt-2 mr-3\">\r\n            <a @click=\"$back\" class=\"btn-rounded-icon btn-primary ml-2 pointer\"\r\n              ><i class=\"zmdi zmdi-arrow-left zmdi-hc-fw text-white\"></i\r\n            ></a>\r\n          </div>\r\n          <div class=\"mr-auto\">\r\n            <h1 class=\"separator\">{{ $t(\"collection\") }}</h1>\r\n            <span>{{ $t(\"edit\") }}</span>\r\n            <p class=\"second-title\">{{ cname }}</p>\r\n          </div>\r\n        </div>\r\n      </header>\r\n      <section class=\"page-content container-fluid\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                <div class=\"row cardsContainer\" id=\"cards-container\">\r\n                  <div class=\"col-6\">\r\n                    <div class=\"form-group\">\r\n                      <label>{{ $t(\"collection-name\") }}</label>\r\n                      <input\r\n                        class=\"form-control\"\r\n                        type=\"text\"\r\n                        placeholder=\"Enter collection name\"\r\n                        v-model=\"cname\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-6\">\r\n                    <div class=\"form-group\">\r\n                      <label>{{ $t(\"available-packages\") }}</label>\r\n                      <select class=\"form-control\" id=\"s2_demo2\" disabled>\r\n                        <optgroup label=\"select package\">\r\n                          <option selected>{{ pName }}</option>\r\n                          <option>{{ $t(\"second-grade\") }}</option>\r\n                          <option>{{ $t(\"third-grade\") }}</option>\r\n                          <option>{{ $t(\"fourth-grade\") }}</option>\r\n                          <option>{{ $t(\"summer-class-special\") }}</option>\r\n                          <option>{{ $t(\"winter-class-special\") }}</option>\r\n                        </optgroup>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <h6>{{ $t(\"applicable-course\") }}</h6>\r\n                    <span>\r\n                      <span\r\n                        v-for=\"(course, index) in courseList\"\r\n                        :key=\"index + course\"\r\n                        >{{ course }}\r\n                        <span v-if=\"index + 1 < courseList.length\">、</span>\r\n                      </span>\r\n                      <!-- 101 English、102 English、103 English、104 English、105\r\n                        English、106 English、107 English、108 English、109\r\n                        English、110 English、111 English、112 English -->\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-sm-12\">\r\n            <div class=\"d-flex justify-content-end pb-3\">\r\n              <div class=\"text-right\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-primary btn-rounded btn-outline\"\r\n                  data-toggle=\"modal\"\r\n                  data-target=\"#addMaterial\"\r\n                  @click=\"resetSelect()\"\r\n                  :disabled=\"\r\n                    cname === '' || pName === '' || pName === undefined\r\n                  \"\r\n                >\r\n                  <!-- <i class=\"la la-plus\"></i> -->\r\n                  {{ $t(\"selection-and-management\") }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class=\"card\">\r\n              <h5 class=\"card-header\">{{ $t(\"sequence\") }}</h5>\r\n              <div class=\"card-body\">\r\n                <div\r\n                  style=\"max-height: 320px\"\r\n                  data-scroll=\"dark\"\r\n                  class=\"collection-scroll\"\r\n                >\r\n                  <ul class=\"sequence\">\r\n                    <draggable\r\n                      class=\"list-group\"\r\n                      tag=\"ul\"\r\n                      v-model=\"materialSequence\"\r\n                      v-bind=\"dragOptions\"\r\n                      @start=\"drag = true\"\r\n                      @end=\"drag = false\"\r\n                    >\r\n                      <li\r\n                        class=\"d-flex justify-content-between\"\r\n                        v-for=\"(m, index) in materialSequence\"\r\n                        :key=\"m.resourceid\"\r\n                      >\r\n                        <div\r\n                          class=\"d-flex justify-content-start align-items-center\"\r\n                        >\r\n                          <div class=\"btn btn-nostyle btn-move mr-3\">\r\n                            <i class=\"la la-ellipsis-v\"></i\r\n                            ><i class=\"la la-ellipsis-v\"></i>\r\n                          </div>\r\n                          <div\r\n                            class=\"align-self-center overlay-wrap mr-4 w-150 h-150 border\"\r\n                          >\r\n                            <span class=\"overlay-icon\">\r\n                              <i\r\n                                class=\"fas fa-video\"\r\n                                v-if=\"m.note === 'video'\"\r\n                              ></i\r\n                              ><i class=\"fas fa-book-open\" v-else></i>\r\n                            </span>\r\n                            <img\r\n                              v-lazy=\"\r\n                                'https://lms.mangosteems.com/cms/resdl/cover/' +\r\n                                m.resourceid\r\n                              \"\r\n                              class=\"overlay-img cus-img\"\r\n                              alt=\"course image\"\r\n                            />\r\n                          </div>\r\n                          <div>\r\n                            <span\r\n                              class=\"badge badge-pill badge-secondary mt-2\"\r\n                              v-if=\"\r\n                                m.level !== '' &&\r\n                                m.level !== null &&\r\n                                m.level !== undefined\r\n                              \"\r\n                              >{{ $t(\"level\") }} {{ m.level }}</span\r\n                            >\r\n                            <span\r\n                              class=\"badge badge-pill badge-secondary ml-2\"\r\n                              v-if=\"m.unit !== '' && m.unit !== undefined\"\r\n                              >{{ $t(\"unit\") }} {{ m.unit }}</span\r\n                            >\r\n                            <h4 class=\"d-flex align-self-center mt-2\">\r\n                              <!-- <span v-if=\"m.unit !== ''\">{{ m.unit }} - </span> -->\r\n                              {{ m.resource_name }}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                        <button\r\n                          class=\"btn btn-nostyle btn-remove\"\r\n                          data-toggle=\"modal\"\r\n                          data-target=\"#deleteModal\"\r\n                          @click=\"\r\n                            tempRname = m.resource_name;\r\n                            tempRid = m.resourceid;\r\n                            tempIndex = index;\r\n                          \"\r\n                        >\r\n                          <i\r\n                            class=\"zmdi zmdi-minus-circle zmdi-hc-fw text-secondary\"\r\n                          ></i>\r\n                        </button>\r\n                      </li>\r\n                    </draggable>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 text-right\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary btn-rounded btn-outline mr-2\"\r\n              data-toggle=\"modal\"\r\n              data-target=\"#SaveChangeModal\"\r\n            >\r\n              {{ $t(\"cancel\") }}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary btn-rounded\"\r\n              data-toggle=\"modal\"\r\n              data-target=\"#SaveChangeModal\"\r\n            >\r\n              {{ $t(\"save\") }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n\r\n    <!-- END CONTENT WRAPPER -->\r\n    <!-- SaveChange MODAL -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"SaveChangeModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">{{ $t(\"save-change\") }}</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <p>{{ $t(\"would-you-like-to-save-your-changes\") }}?</p>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary btn-rounded btn-outline\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              {{ $t(\"cancel\") }}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary btn-rounded\"\r\n              data-dismiss=\"modal\"\r\n              @click=\"updateCollection()\"\r\n            >\r\n              {{ $t(\"save\") }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- NoCourse MODAL -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"NoCourseModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">{{ $t(\"no-course\") }}</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <p>\r\n              {{\r\n                $t(\r\n                  \"courses-that-can-use-this-collection-have-expired-less-than-br-greater-than-if-you-want-to-continue-using-you-must-renew-the-contract\"\r\n                )\r\n              }}.\r\n            </p>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary btn-rounded btn-outline mr-2\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              {{ $t(\"cancel\") }}\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-primary btn-rounded\">\r\n              {{ $t(\"save\") }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- addMaterial modal-->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"addMaterial\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n      data-modal=\"scroll\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"ModalTitle1\">\r\n              <i class=\"zmdi zmdi-plus zmdi-hc-fw\"></i>{{ $t(\"material\") }}\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <h6 class=\"pb-2\">\r\n              <span class=\"text-muted\">{{ $t(\"package\") }}</span>\r\n              <strong class=\"ml-1\">{{ pName }}</strong>\r\n            </h6>\r\n            <div class=\"row\">\r\n              <div class=\"col-4\">\r\n                <div class=\"form-group form-rounded\">\r\n                  <select2\r\n                    id=\"s2_demo1\"\r\n                    :options=\"typeList\"\r\n                    v-model=\"seleceType\"\r\n                  >\r\n                  </select2>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <div class=\"form-group form-rounded\">\r\n                  <div class=\"input-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Search...\"\r\n                      v-model=\"tempSearch\"\r\n                      @keyup.enter=\"searchRName = tempSearch\"\r\n                    />\r\n                    <div class=\"input-group-append\">\r\n                      <div\r\n                        class=\"btn btn-secondary btn-outline btn-icon btn-rounded\"\r\n                        type=\"button\"\r\n                        @click=\"searchRName = tempSearch\"\r\n                      >\r\n                        <i class=\"zmdi zmdi-search text-secondary\"></i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <div class=\"form-group form-rounded\">\r\n                  <select2\r\n                    id=\"s2_demo3\"\r\n                    :options=\"sortTypeList\"\r\n                    v-model=\"selectSortType\"\r\n                  >\r\n                  </select2>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-body\" data-scroll=\"dark\">\r\n            <div class=\"custom-control custom-checkbox form-check pb-3\">\r\n              <input\r\n                type=\"checkbox\"\r\n                class=\"custom-control-input\"\r\n                id=\"selectPM\"\r\n                @click=\"selectAll\"\r\n                v-model=\"selectAllPM\"\r\n              />\r\n              <label class=\"custom-control-label text-primary\" for=\"selectPM\">{{\r\n                $t(\"select-all\")\r\n              }}</label>\r\n            </div>\r\n            <div\r\n              class=\"custom-control custom-checkbox form-check pb-3\"\r\n              v-for=\"pkgm in sortMList\"\r\n              :key=\"pkgm.resourceid\"\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                class=\"custom-control-input\"\r\n                :value=\"pkgm.resourceid\"\r\n                :id=\"pkgm.resourceid\"\r\n                v-model=\"tempMidList\"\r\n              />\r\n              <!-- @click=\"mySelectEvent(pkgm)\" -->\r\n              <label class=\"custom-control-label\" :for=\"pkgm.resourceid\">\r\n                <span\r\n                  class=\"badge badge-pill badge-secondary\"\r\n                  v-if=\"pkgm.level !== ''\"\r\n                  >{{ $t(\"level\") }} {{ pkgm.level }}</span\r\n                >\r\n                <span\r\n                  class=\"badge badge-pill badge-secondary ml-2\"\r\n                  v-if=\"pkgm.unit !== ''\"\r\n                  >{{ $t(\"unit\") }} {{ pkgm.unit }}</span\r\n                >\r\n                <!-- <span v-if=\"pkgm.unit !== ''\">{{ pkgm.unit }} - </span> -->\r\n                {{ pkgm.resource_name }}</label\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary btn-outline btn-rounded\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              {{ $t(\"close\") }}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary btn-rounded\"\r\n              data-dismiss=\"modal\"\r\n              @click=\"addtoSequence()\"\r\n            >\r\n              <!-- <i class=\"la la-plus\"></i> -->\r\n              {{ $t(\"confirm\") }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- DELETE MODAL -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"deleteModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">{{ $t(\"delete\") }}</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <p>\r\n              {{ $t(\"confirm-to-delete-resource\") }}：<strong>{{\r\n                tempRname\r\n              }}</strong\r\n              >?\r\n            </p>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary btn-rounded btn-outline\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              {{ $t(\"cancel\") }}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary btn-rounded\"\r\n              data-dismiss=\"modal\"\r\n              @click=\"removeFromSequence(tempIndex)\"\r\n            >\r\n              {{ $t(\"confirm\") }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport draggable from \"vuedraggable\";\r\n// import CustomHeader from \"../components/CustomHeader\";\r\nimport {\r\n  ApiGetCollectionContent,\r\n  ApiDeleteResource,\r\n  ApiGetCollectionInfo,\r\n  ApiGetPkgMaterial,\r\n  ApiUpdateCollection,\r\n} from \"../http/apis/Collection\";\r\nimport _ from \"lodash\";\r\n// import Menu\r\nexport default {\r\n  name: \"CollectionDetail\",\r\n  components: {\r\n    CustomHeader: () => import(\"@/components/CustomHeader.vue\"),\r\n    draggable,\r\n  },\r\n  data() {\r\n    return {\r\n      cname: \"\",\r\n      pName: \"\",\r\n      tempRname: \"\",\r\n      tempRid: \"\",\r\n      tempIndex: 0,\r\n      pkgMaterialList: [],\r\n      selectAllPM: \"\",\r\n      typeList: [\r\n        { text: \"All type\", id: \"all\" },\r\n        { text: \"Picture Book\", id: \"book\" },\r\n        { text: \"Video\", id: \"video\" },\r\n      ],\r\n      seleceType: \"all\",\r\n      tempSearch: \"\",\r\n      searchRName: \"\",\r\n      materialSequence: [],\r\n      tempMidList: [],\r\n      tempMaterialList: [],\r\n      courseList: [],\r\n      pkgid: this.$route.params.pid,\r\n      colid: this.$route.params.cid,\r\n      //\r\n      drag: false,\r\n      selectSortType: \"title_asc\",\r\n    };\r\n  },\r\n  computed: {\r\n    resourceFilter() {\r\n      let result = [];\r\n      if (this.seleceType !== \"all\") {\r\n        result = this.pkgMaterialList.filter((item) => {\r\n          return (\r\n            item.type === this.seleceType &&\r\n            item.resource_name\r\n              .toLowerCase()\r\n              .indexOf(this.searchRName.toLowerCase()) !== -1\r\n          );\r\n        });\r\n      } else {\r\n        result = this.pkgMaterialList.filter((item) => {\r\n          return (\r\n            item.resource_name\r\n              .toLowerCase()\r\n              .indexOf(this.searchRName.toLowerCase()) !== -1\r\n          );\r\n        });\r\n      }\r\n      return result;\r\n    },\r\n    sortMList() {\r\n      //utils mixins\r\n      return this.$_sortMaterial(this.resourceFilter, this.selectSortType, []);\r\n      // let temp = [...this.textbookList];\r\n      // if (this.selectSortType === \"title_asc\") {\r\n      //   temp = _.sortBy(temp, [(obj) => obj.resource_name], [\"asc\"]);\r\n      //   temp = _.sortBy(temp, [(obj) => parseInt(obj.unit, 10)], [\"asc\"]);\r\n      //   return temp;\r\n      // } else if (this.selectSortType === \"title_desc\") {\r\n      //   temp = _.sortBy(temp, [(obj) => obj.resource_name], [\"asc\"]);\r\n      //   temp = _.sortBy(temp, [(obj) => parseInt(obj.unit, 10)], [\"asc\"]);\r\n      //   return temp.reverse();\r\n      // } else if (this.selectSortType === \"level_asc\") {\r\n      //   temp = _.sortBy(temp, [(obj) => obj.level], [\"asc\"]);\r\n      //   return temp;\r\n      // } else if (this.selectSortType === \"level_desc\") {\r\n      //   temp = _.sortBy(temp, [(obj) => obj.level], [\"asc\"]);\r\n      //   return temp.reverse();\r\n      // }\r\n    },\r\n    //\r\n    sortTypeList() {\r\n      return this.$store.state.common.sortTypeList;\r\n    },\r\n    dragOptions() {\r\n      return {\r\n        animation: 200,\r\n        group: \"description\",\r\n        disabled: false,\r\n        ghostClass: \"ghost\",\r\n      };\r\n    },\r\n    userid() {\r\n      return this.$store.state.auth.userid;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    selectAll(event) {\r\n      const vm = this;\r\n      if (!event.currentTarget.checked) {\r\n        vm.tempMaterial = [];\r\n      } else {\r\n        //實現全選\r\n        vm.tempMaterial = [];\r\n        vm.sortMList.forEach(function (item, i) {\r\n          vm.tempMaterial.push(item);\r\n        });\r\n      }\r\n    },\r\n    init() {\r\n      this.axios\r\n        .all([\r\n          this.getCollectionContent(),\r\n          this.getCollectionInfo(),\r\n          this.getPkgMaterial(),\r\n        ])\r\n        .then(this.axios.spread((func1, func2) => {}))\r\n        .catch((err) => {});\r\n      this.cname = this.$route.params.cname;\r\n    },\r\n    getCollectionContent() {\r\n      return ApiGetCollectionContent.get(this.userid, this.$route.params.cid)\r\n        .then((response) => {\r\n          response.record.forEach((item) => {\r\n            if (item.unit === undefined) {\r\n              item.unit = \"\";\r\n            }\r\n          });\r\n          this.materialSequence = response.record;\r\n          response.record.forEach((msi) => {\r\n            this.tempMidList.push(msi.resourceid);\r\n          });\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n    getCollectionInfo() {\r\n      this.courseList = [];\r\n      ApiGetCollectionInfo.get(this.userid, this.$route.params.pid)\r\n        .then((response) => {\r\n          response.forEach((element) => {\r\n            this.courseList.push(element.course_name);\r\n            this.pName = element.pkg_name;\r\n          });\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n    // deleteResource(pid) {\r\n    //   ApiDeleteResource.get(this.userid, this.$route.params.cid, pid)\r\n    //     .then((response) => {})\r\n    //     .catch((err) => {});\r\n    // },\r\n    getPkgMaterial() {\r\n      ApiGetPkgMaterial.get(this.$route.params.pid)\r\n        .then((response) => {\r\n          response.record.forEach((item) => {\r\n            if (item.unit === undefined) {\r\n              item.unit = \"\";\r\n            }\r\n          });\r\n          this.pkgMaterialList = response.record;\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n    removeFromSequence(index) {\r\n      this.materialSequence.splice(index, 1);\r\n    },\r\n    resetSelect() {},\r\n    addtoSequence() {\r\n      // this.materialSequence = [];\r\n      let ml = [];\r\n      this.tempMidList.forEach((id) => {\r\n        this.pkgMaterialList.forEach((pkg) => {\r\n          if (pkg.resourceid === id) {\r\n            ml.push(pkg);\r\n          }\r\n        });\r\n      });\r\n      this.materialSequence = ml;\r\n      // ml.forEach((currentItem) => {\r\n      //   this.materialSequence.forEach((item) => {\r\n      //     console.log(currentItem);\r\n      //     console.log(item);\r\n      //   });\r\n      // });\r\n    },\r\n    async updateCollection() {\r\n      let obj = {};\r\n      let resourceList = [];\r\n      obj.collection_name = this.cname;\r\n      obj.pkgid = this.pkgid;\r\n      obj.list = [];\r\n      this.materialSequence.forEach((item) => {\r\n        obj.list.push(item.resourceid);\r\n      });\r\n      obj.resource = obj.list.join(\";\");\r\n      obj.userid = this.userid;\r\n      console.log(obj);\r\n      let result = await ApiUpdateCollection.put(this.colid, obj)\r\n        .then((response) => {\r\n          console.log(response);\r\n          if (response.status === \"success\") {\r\n            return true;\r\n          } else {\r\n            this.$bus.$emit(\"messsage:push\", response.record, \"danger\");\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n      if (result) {\r\n        this.$bus.$emit(\r\n          \"messsage:push\",\r\n          \"Update Collection Success.\",\r\n          \"success\"\r\n        );\r\n        $(\"#SaveChangeModal\").modal(\"hide\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n// a:not([href]):not([tabindex]) {\r\n//   color: rgba(255, 255, 255, 0.9) !important;\r\n// }\r\n\r\n.content-wrapper {\r\n  padding-bottom: 40px;\r\n}\r\n\r\n.cus-img {\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n  width: auto;\r\n  height: auto;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n}\r\n\r\n.overlay-icon {\r\n  z-index: 99;\r\n}\r\n</style>","import { render, staticRenderFns } from \"./CollectionEdit.vue?vue&type=template&id=917983cc&scoped=true&\"\nimport script from \"./CollectionEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./CollectionEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CollectionEdit.vue?vue&type=style&index=0&id=917983cc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"917983cc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}