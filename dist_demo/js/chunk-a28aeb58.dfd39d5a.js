(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a28aeb58"],{"204b":function(t,s,a){"use strict";var e=a("3c8c");a.n(e).a},"3c8c":function(t,s,a){},"6fb6":function(t,s,a){"use strict";a.r(s);var e=a("a95a");const i=t=>Object(e.b)("/dash/crsstatus/"+t);var r=a("1157"),d=a.n(r),c=a("5a0c"),o=a.n(c),l=a("2ef0"),n=a.n(l);d()((function(){d()('[data-toggle="popover"]').popover()}));var h={name:"CourseDashboard",components:{CourseHeader:()=>a.e("chunk-2d0c5756").then(a.bind(null,"3ed2"))},data(){return this.acRateSetting={},{courseid:this.$route.params.courseid,dbData:{assignmentNumber:{record:[void 0]},treasureMaterial:{record:void 0},goldenMaterial:{record:void 0},status:"success",record:""},acRate:0,chartSettings:{legendName:{completionrate:"Completion rate",Student_Login:"Student Login",Parent_Login:"Parent Login",Complete_materials:"Watch/Read times"}},acRateChartData:{columns:["Date","Students","Completed",""],rows:[]},stdLoginchartData:{columns:["Date","Student_Login"],rows:[]},pLoginchartData:{columns:["Date","Parent_Login"],rows:[]},mwchartData:{columns:["Date","Complete_materials"],rows:[]},missA:[],gzView:[],tzDays:[],stdRank:[],tempSortItem:"",sortStatus:!1}},created(){},mounted(){d()((function(){d()('[data-toggle="popover"]').popover()})),this.getDashboard()},methods:{sortTable(t){(""===this.tempSortItem||this.tempSortItem!==t)&&(this.tempSortItem=t,this.sortStatus=!1),this.sortStatus=!this.sortStatus,this.sortStatus?this.stdRank=n.a.sortBy(this.stdRank,[t],["asc"]):this.stdRank=this.stdRank.reverse()},getDashboard(){let t=this;i(this.courseid).then(s=>{this.dbData=s.record;let a=0,e=0,i=[];if(0!==Object.keys(s.record.assignmentCompletedRate).length&&(s.record.assignmentCompletedRate.record.forEach(t=>{a+=t.stu_total,e+=t.stu_finish}),t.acRate=(e/a*100).toFixed(2)),0!==Object.keys(s.record.assignmentCompletionChart).length&&(i=s.record.assignmentCompletionChart.record,i.forEach(t=>{this.$set(t,"Date",o.a.unix(t.expiry_date).format("MM/DD")),this.$set(t,"Students",t.stu_total),this.$set(t,"Completed",t.stu_finish),this.$set(t,"Completion_rate",Number((t.stu_finish/t.stu_total).toFixed(2)))}),this.$set(this.acRateChartData,"rows",i)),0!==Object.keys(s.record.loginTimesStudent).length){let t=[];t=s.record.loginTimesStudent.record,t.forEach(t=>{this.$set(t,"Date",t.login_date),this.$set(t,"Student_Login",t.login_cnt)}),this.$set(this.stdLoginchartData,"rows",t)}if(0!==Object.keys(s.record.loginTimesParents).length){let t=[];t=s.record.loginTimesParents.record,t.forEach(t=>{this.$set(t,"Date",t.login_date),this.$set(t,"Parent_Login",t.login_cnt)}),this.$set(this.pLoginchartData,"rows",t)}if(0!==Object.keys(s.record.materialWatchTimes).length){let t=[];t=s.record.materialWatchTimes.record,t.forEach(t=>{this.$set(t,"Date",t.review_date),this.$set(t,"Complete_materials",t.cnt_review)}),this.$set(this.mwchartData,"rows",t)}0!==Object.keys(s.record.materialPopularRank).length&&(this.gzView=s.record.materialPopularRank.record),0!==Object.keys(s.record.materialTreasureRank).length&&(this.tzDays=s.record.materialTreasureRank.record),0!==Object.keys(s.record.studentRank).length&&(this.stdRank=s.record.studentRank.record),0!==Object.keys(s.record.assignmentIncomplete).length&&(this.missA=s.record.assignmentIncomplete.record)}).catch(t=>{})}}},v=(a("204b"),a("2877")),m=Object(v.a)(h,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"app2"}},[a("div",{ref:"print",attrs:{id:"print"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.dbData,expression:"dbData !== undefined"}],staticClass:"content page-aside-left"},[a("div",{staticClass:"main-content"},[a("course-header"),a("section",{staticClass:"page-content container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card bg-primary",staticStyle:{height:"150px"}},[a("div",{staticClass:"card-body d-flex align-content-between flex-wrap"},[a("h5",{staticClass:"card-title text-white"},[t._v(" "+t._s(t.$t("golden-zone"))+" "),a("i",{staticClass:"zmdi-hc-lg pointer zmdi zmdi-alert-circle zmdi-hc-fw text-white",attrs:{"data-toggle":"modal","data-target":"#InformationModal"}})]),a("div",{staticClass:"w100 text-right"},[void 0!==t.dbData.goldenMaterial.record?a("p",{staticClass:"card-text text-white"},[a("span",{staticClass:"display-4 counter",attrs:{"data-count":"31"}},[t._v(t._s(t.dbData.goldenMaterial.record.length))])]):t._e()])])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"card bg-success",staticStyle:{height:"150px"}},[a("div",{staticClass:"card-body d-flex align-content-between flex-wrap"},[a("h5",{staticClass:"card-title text-white"},[t._v(" "+t._s(t.$t("treasure-zone"))+" "),a("i",{staticClass:"zmdi-hc-lg pointer zmdi zmdi-alert-circle zmdi-hc-fw text-white",attrs:{"data-toggle":"modal","data-target":"#InformationModal"}})]),a("div",{staticClass:"w100 text-right"},[void 0!==t.dbData.treasureMaterial.record?a("p",{staticClass:"card-text text-white"},[a("span",{staticClass:"display-4 counter",attrs:{"data-count":"29"}},[t._v(t._s(t.dbData.treasureMaterial.record.length))])]):t._e()])])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"card bg-warning",staticStyle:{height:"150px"}},[a("div",{staticClass:"card-body d-flex align-content-between flex-wrap"},[a("h5",{staticClass:"card-title text-white"},[t._v(" "+t._s(t.$t("assignment"))+" ")]),a("div",{staticClass:"w100 text-right"},[void 0!==t.dbData.assignmentNumber.record?a("p",{staticClass:"card-text text-white"},[a("span",{staticClass:"display-4 counter",attrs:{"data-count":"72"}},[t._v(t._s(t.dbData.assignmentNumber.record.length))])]):t._e()])])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"card bg-danger",staticStyle:{height:"150px"}},[a("div",{staticClass:"card-body d-flex align-content-between flex-wrap"},[a("h5",{staticClass:"card-title text-white"},[t._v(" "+t._s(t.$t("assignment-completion-rate"))+" ")]),a("div",{staticClass:"w100 text-right"},[a("p",{staticClass:"card-text text-white"},[a("span",{staticClass:"display-4 counter",attrs:{"data-count":"87"}},[t._v(t._s(t.acRate))]),t._v("% ")])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-9"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v(" "+t._s(t.$t("assignments-completion-rate"))+" ")]),a("div",{staticClass:"card-body",staticStyle:{height:"597px"}},[a("p",{staticClass:"text-primary"},[t._v(t._s(t.$t("last-6-records")))]),0===t.acRateChartData.rows.length?a("h2",[t._v(" "+t._s(t.$t("no-relevant-records"))+" ")]):a("ve-histogram",{attrs:{height:"540px",data:t.acRateChartData,settings:t.acRateSetting}})],1)])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v(t._s(t.$t("missed-assignments")))]),a("div",{staticClass:"card-body",staticStyle:{height:"597px"}},[a("p",{staticClass:"text-primary"},[t._v(t._s(t.$t("last-30-days")))]),a("div",{staticClass:"table-responsive"},[0===t.missA.length?a("h2",[t._v(" "+t._s(t.$t("no-relevant-records"))+" ")]):a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("student-name")))]),a("th",[t._v(t._s(t.$t("missed")))])])]),a("tbody",t._l(t.missA,(function(s){return a("tr",{key:s.username},[a("td",[t._v(t._s(s.username))]),a("td",[t._v(t._s(s.cnt_no_submit_homework))])])})),0)])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header border-none"},[t._v(" "+t._s(t.$t("student-login"))+" ")]),a("div",{staticClass:"card-body pt-0",staticStyle:{height:"500px"}},[a("p",{staticClass:"text-primary"},[t._v(t._s(t.$t("last-30-days")))]),0===t.stdLoginchartData.rows.length?a("h2",[t._v(" "+t._s(t.$t("no-relevant-records"))+" ")]):a("ve-line",{attrs:{data:t.stdLoginchartData,settings:t.chartSettings}})],1)])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header border-none"},[t._v(" "+t._s(t.$t("parent-login"))+" ")]),a("div",{staticClass:"card-body pt-0",staticStyle:{height:"500px"}},[a("p",{staticClass:"text-primary"},[t._v(t._s(t.$t("last-30-days")))]),0===t.pLoginchartData.rows.length?a("h2",[t._v(" "+t._s(t.$t("no-relevant-records"))+" ")]):a("ve-line",{attrs:{data:t.pLoginchartData,settings:t.chartSettings}})],1)])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header border-none"},[t._v(" "+t._s(t.$t("watch-read-times"))+" ")]),a("div",{staticClass:"card-body pt-0",staticStyle:{height:"500px"}},[a("p",{staticClass:"text-primary"},[t._v(t._s(t.$t("last-30-days")))]),0===t.mwchartData.rows.length?a("h2",[t._v(" "+t._s(t.$t("no-relevant-records"))+" ")]):a("ve-line",{attrs:{data:t.mwchartData,settings:t.chartSettings}})],1)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v(t._s(t.$t("golden-zone")))]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"table-responsive"},[0===t.gzView.length?a("h2",[t._v(" "+t._s(t.$t("no-relevant-records"))+" ")]):a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("material")))]),a("th",[t._v(t._s(t.$t("review")))])])]),a("tbody",t._l(t.gzView,(function(s){return a("tr",{key:s.resourceid},[a("td",["book"===s.note?a("i",{staticClass:"fas fa-book-open mr-2"}):a("i",{staticClass:"fas fa-video mr-2"}),t._v(" "+t._s(s.resource_name)+" ")]),a("td",[t._v(t._s(s.cnt_review))])])})),0)])])])]),a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v(t._s(t.$t("treasure-zone")))]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"table-responsive"},[0===t.tzDays.length?a("h2",[t._v(" "+t._s(t.$t("no-relevant-records"))+" ")]):a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("material")))]),a("th",[t._v(t._s(t.$t("days")))])])]),a("tbody",t._l(t.tzDays,(function(s){return a("tr",{key:s.resourceid+"tz"},[a("td",["book"===s.note?a("i",{staticClass:"fas fa-book-open mr-2"}):a("i",{staticClass:"fas fa-video mr-2"}),t._v(" "+t._s(s.resource_name)+" ")]),a("td",[t._v(t._s(s.diff_days))])])})),0)])])])])]),a("div",{staticClass:"col-7"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("span",{staticClass:"m-t-10 d-inline-block"},[t._v(t._s(t.$t("student-activity-details")))])]),a("div",{staticClass:"card-body",attrs:{"data-scroll":"dark"}},[a("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent-1"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"pills-1",role:"tabpanel","aria-labelledby":"pills-1"}},[a("div",{staticClass:"table-responsive"},[0===t.stdRank.length?a("h2",[t._v(" "+t._s(t.$t("no-relevant-records"))+" ")]):a("table",{staticClass:"table table-striped v-align-middle"},[a("thead",[a("tr",[a("th",{staticClass:"pointer",on:{click:function(s){return t.sortTable("username")}}},[t._v(" "+t._s(t.$t("student"))),a("i",{staticClass:"zmdi zmdi-swap-vertical ml-1 zmdi-hc-lg"})]),a("th",{staticClass:"pointer",on:{click:function(s){return t.sortTable("cnt_checkin")}}},[t._v(" "+t._s(t.$t("log-in"))),a("i",{staticClass:"zmdi zmdi-swap-vertical ml-1 zmdi-hc-lg"})]),a("th",{staticClass:"pointer",on:{click:function(s){return t.sortTable("asgmt_finish")}}},[t._v(" "+t._s(t.$t("complete-assignments"))),a("i",{staticClass:"zmdi zmdi-swap-vertical ml-1 zmdi-hc-lg"})]),a("th",{staticClass:"pointer",on:{click:function(s){return t.sortTable("cnt_res_review")}}},[t._v(" "+t._s(t.$t("review"))),a("i",{staticClass:"zmdi zmdi-swap-vertical ml-1 zmdi-hc-lg"})])])]),a("tbody",t._l(t.stdRank,(function(s){return a("tr",{key:s.stuid},[a("td",[t._v(" "+t._s(s.username)+" ")]),a("td",[t._v(t._s(s.cnt_checkin))]),a("td",[t._v(" "+t._s(s.asgmt_finish)+"/"+t._s(s.asgmt_all)+" ")]),a("td",[t._v(t._s(s.cnt_res_review))])])})),0)])])])])])])])])])],1)])]),a("div",{staticClass:"modal fade",attrs:{id:"InformationModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"ModalTitle1"}},[t._v(" "+t._s(t.$t("information"))+" ")]),t._m(0)]),t._m(1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary btn-outline btn-rounded",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" "+t._s(t.$t("close"))+" ")])])])])])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{staticClass:"zmdi zmdi-close",attrs:{"aria-hidden":"true"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-body"},[s("div",{staticClass:"mb-2"},[s("h5",{staticClass:"text-primary"},[this._v("Golden zone")]),s("p",[this._v("See the most popular books of the past 14 days.")])]),s("div",{staticClass:"mb-2"},[s("h5",{staticClass:"text-primary"},[this._v("Treasure zone")]),s("p",[this._v(" See the hidden treasure books that have been overlooked for the past 14 days. ")])])])}],!1,null,"4af4518d",null);s.default=m.exports}}]);
//# sourceMappingURL=chunk-a28aeb58.dfd39d5a.js.map