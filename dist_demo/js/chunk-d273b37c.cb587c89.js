(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d273b37c"],{"3ed2":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("header",{staticClass:"page-header"},[e("div",{staticClass:"d-flex align-items-start"},[!0===t.backtag?e("div",{staticClass:"mt-2 mr-3"},[e("a",{staticClass:"btn-rounded-icon btn-primary ml-2 pointer",on:{click:t.$back}},[e("i",{staticClass:"zmdi zmdi-arrow-left zmdi-hc-fw text-white"})])]):t._e(),e("div",{staticClass:"mr-auto"},[e("h1",{staticClass:"separator"},[t._v(t._s(t.course_name))]),e("span",[t._v(t._s(t.page))]),"Dashboard"===t.type?e("span",{staticClass:"pointer",on:{click:function(s){return t.print()}}},[e("i",{staticClass:"zmdi zmdi-print"})]):t._e(),"Echo_Valley_Quiz"===t.$route.name?e("span",{staticClass:"ml-1 pointer",attrs:{"data-toggle":"modal","data-target":"#infoModal"}},[e("i",{staticClass:"fas fa-info-circle fa-sm mfilter-icon"})]):t._e(),"Speaking_Quiz"!==t.page?e("p",{staticClass:"second-title"},[t._v(" "+t._s(t.courseInfo.pkg_name)+" ")]):e("p",{staticClass:"second-title"},[t._v(t._s(t.rname)+" / "+t._s(t.mname))]),"Assignment_Progress"===t.$route.name?e("p",{staticClass:"second-title"},[t._v(" "+t._s(t.$t("assigned"))+" "+t._s(t._f("dateConversion")(t.assignmentDL.pubDate))+" - "+t._s(t.$t("due"))+" "+t._s(t._f("dateConversion")(t.assignmentDL.expDate))+" ")]):t._e(),"Weekly_Quiz_Progress"===t.$route.name?e("p",{staticClass:"second-title"},[t._v(" "+t._s(t.$t("echo-valley"))+" "+t._s(t._f("dateConversion")(t.weeklyQuizDL.pubDate))+" - "+t._s(t.$t("due"))+" "+t._s(t._f("dateConversion")(t.weeklyQuizDL.expDate))+" ")]):t._e()])]),e("div",{staticClass:"modal fade",attrs:{id:"infoModal",tabindex:"-1",role:"dialog","aria-hidden":"true","data-modal":"scroll"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("echo-valley")))]),t._m(0)]),e("div",{staticClass:"modal-body"},[e("p",[t._v(" "+t._s(t.$t("echo-valley-offers-weekly-oral-assignments-or-users-can-create-their-own-oral-assignments-which-will-be-automatically-scored-by-the-system-and-provide-relevant-information"))+". ")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary btn-outline",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" "+t._s(t.$t("close"))+" ")])])])])])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"zmdi zmdi-Cancel",attrs:{"aria-hidden":"true"}})])}],l=e("1157"),n=e.n(l),o={name:"CourseHeader",data(){return{backtag:this.$route.meta.backtag,page:"",rname:this.$route.params.rname,mname:this.$route.params.mname,course_name:this.$route.params.course,type:this.$route.params.type,courseInfo:{}}},created(){this.page=this.$route.name.replaceAll("_"," "),"undefined"===this.$route.params.mname&&(this.mname=""),this.courseInfo=this.courseInfos},mounted(){n()((function(){n()('[data-toggle="tooltip"]').tooltip()}))},watch:{courseInfos(){this.courseInfo=this.courseInfos}},computed:{courseInfos(){return this.$store.state.courseInfo.courseInfo},assignmentDL(){return this.$store.state.courseInfo.assignmentDL},weeklyQuizDL(){return this.$store.state.courseInfo.weeklyQuizDL}},methods:{print(){this.$print(this.$parent.$refs.print)}}},c=o,r=e("2877"),d=Object(r["a"])(c,a,i,!1,null,null,null);s["a"]=d.exports},8091:function(t,s,e){},"83cb":function(t,s,e){"use strict";e.d(s,"d",(function(){return i})),e.d(s,"e",(function(){return l})),e.d(s,"f",(function(){return n})),e.d(s,"j",(function(){return o})),e.d(s,"g",(function(){return c})),e.d(s,"k",(function(){return r})),e.d(s,"a",(function(){return d})),e.d(s,"l",(function(){return m})),e.d(s,"c",(function(){return u})),e.d(s,"i",(function(){return p})),e.d(s,"b",(function(){return g})),e.d(s,"h",(function(){return h}));var a=e("a95a");const i={get:(t,s)=>Object(a["b"])(`/asgmt/getlist/${t}/${s}`)},l={get:t=>Object(a["b"])("/asgmt/material/"+t)},n={get:t=>Object(a["b"])("/asgmt/progress/"+t)},o={post:(t,s,e)=>Object(a["c"])(`/asgmt/evaluate/${t}/${s}`,e)},c={get:t=>Object(a["a"])("/asgmt/play/voice/"+t)},r={get:(t,s,e,i)=>Object(a["b"])(`/asgmt/score/${t}/${s}/${e}/${i}`)},d={post:(t,s)=>Object(a["c"])("/asgmt/checkall/"+t,s)},m={getAxiosAll:(t,s)=>Promise.all(s.map(s=>Object(a["b"])(`/asgmt/uncheck/${t}/${s}`)))},u={get:(t,s)=>(console.log("std = ",s),Object(a["b"])(`/asgmt/detail/${t}/${s}`))},p={get:(t,s,e)=>Object(a["b"])(`/asgmt/search/${t}/${s}/${e}`)},g={getAxiosAll:t=>Promise.all(t.map(t=>Object(a["b"])("/asgmt/delete/"+t)))},h={post:(t,s)=>Object(a["c"])("/asgmt/modify/"+t,s)}},8593:function(t,s,e){"use strict";var a=e("8091"),i=e.n(a);i.a},ea2b:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app2 "}},[e("div",{staticClass:"main-content"},[e("div",{staticClass:"content page-aside-left"},[e("div",{staticClass:"main-content"},[e("course-header"),e("div",{staticClass:"page-content container-fluid"},[e("div",{staticClass:"d-flex justify-content-end mb-3"},[e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-primary btn-outline btn-rounded",attrs:{type:"button","data-toggle":"modal","data-target":"#DeleteAModal",disabled:0===t.selectedAssignment.length}},[e("i",{staticClass:"la la-trash"}),t._v(" "+t._s(t.$t("delete-assignment"))+" "),0!==t.selectedAssignment.length?e("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.selectedAssignment.length))]):t._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-striped"},[e("thead",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAllA,expression:"selectAllA"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck"},domProps:{checked:Array.isArray(t.selectAllA)?t._i(t.selectAllA,null)>-1:t.selectAllA},on:{click:t.selectAll,change:function(s){var e=t.selectAllA,a=s.target,i=!!a.checked;if(Array.isArray(e)){var l=null,n=t._i(e,l);a.checked?n<0&&(t.selectAllA=e.concat([l])):n>-1&&(t.selectAllA=e.slice(0,n).concat(e.slice(n+1)))}else t.selectAllA=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customCheck"}})])]),e("th",[e("span",{staticClass:"pointer",on:{click:function(s){return t.sortTable("description")}}},[t._v(t._s(t.$t("assignment"))),e("i",{staticClass:"zmdi zmdi-swap-vertical ml-1 zmdi-hc-lg"})])]),e("th",{staticClass:"pointer",on:{click:function(s){return t.sortTable("publish_date")}}},[t._v(" "+t._s(t.$t("assignment-date"))),e("i",{staticClass:"zmdi zmdi-swap-vertical ml-1 zmdi-hc-lg"})]),e("th",{staticClass:"pointer",on:{click:function(s){return t.sortTable("expiry_date")}}},[t._v(" "+t._s(t.$t("due"))),e("i",{staticClass:"zmdi zmdi-swap-vertical zmdi-hc-lg ml-1"})]),e("th",[t._v(t._s(t.$t("for")))]),e("th",[t._v(t._s(t.$t("completed-total-students")))]),e("th",{staticClass:"pointer",on:{click:function(s){return t.sortTable("difficult_level")}}},[t._v(" "+t._s(t.$t("degree-of-difficulty"))),e("i",{staticClass:"zmdi zmdi-swap-vertical zmdi-hc-lg ml-1"})]),e("th",[t._v(t._s(t.$t("preview")))]),e("th",[t._v(t._s(t.$t("check-progress")))])])]),e("tbody",t._l(t.aList,(function(s){return e("tr",{key:s.asgmtid},[e("td",[e("div",{staticClass:"custom-control custom-checkbox form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedAssignment,expression:"selectedAssignment"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:s.asgmtid},domProps:{value:s.asgmtid,checked:Array.isArray(t.selectedAssignment)?t._i(t.selectedAssignment,s.asgmtid)>-1:t.selectedAssignment},on:{change:function(e){var a=t.selectedAssignment,i=e.target,l=!!i.checked;if(Array.isArray(a)){var n=s.asgmtid,o=t._i(a,n);i.checked?o<0&&(t.selectedAssignment=a.concat([n])):o>-1&&(t.selectedAssignment=a.slice(0,o).concat(a.slice(o+1)))}else t.selectedAssignment=l}}}),e("label",{staticClass:"custom-control-label",attrs:{for:s.asgmtid}})])]),e("td",{},[e("span",[t._v(t._s(s.description))]),e("span",{staticClass:"ml-1 pointer",attrs:{"data-toggle":"modal","data-target":"#editModal"},on:{click:function(e){t.tempAM=s,t.modifyName="",t.tempAid=s.asgmtid}}},[e("i",{staticClass:"zmdi zmdi-edit ml-1 zmdi-hc-lg"})])]),e("td",{staticClass:"pl-5"},["true"!==s.check_status?e("i",{staticClass:"ig-notice"}):t._e(),t._v(t._s(t._f("dateConversion")(s.publish_date))+" ")]),e("td",{class:t.expired(s.expiry_date)},[t._v(" "+t._s(t._f("dateConversion")(s.expiry_date))+" ")]),e("td",[t._v(t._s(s.target))]),e("td",[t._v(t._s(s.completedStu)+" ï¼"+t._s(s.totalStu))]),e("td",[t._v(t._s(s.difficult_level))]),e("td",[e("button",{staticClass:"btn btn-nostyle",attrs:{type:"","data-toggle":"modal","data-target":"#PreviewModel"},on:{click:function(e){t.getAMaterial(s.asgmtid),t.tempAM=s}}},[e("i",{staticClass:"la la-eye"})])]),e("td",[e("a",{staticClass:"btn btn-primary btn-sm btn-rounded text-white",on:{click:function(e){return t.gotoProgress(s.asgmtid)}}},[t._v(t._s(t.$t("progress-view")))])])])})),0)])])])])])])])],1)])]),e("div",{staticClass:"modal fade",attrs:{id:"PreviewModel",tabindex:"-1",role:"dialog","aria-hidden":"true","data-modal":"scroll"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("list-preview")))]),t._m(0)]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"mb-3"},[e("div",{staticClass:"row pb-2 pt-2"},[e("div",{staticClass:"col-3 text-right fw-400 fs-h6 xstitie-color"},[t._v(" "+t._s(t.$t("date"))+" ")]),e("div",{staticClass:"col-9"},[t._v(" "+t._s(t._f("dateConversion")(t.tempAM.publish_date))+" - "+t._s(t._f("dateConversion")(t.tempAM.expiry_date))+" ")])]),e("div",{staticClass:"row pb-2"},[e("div",{staticClass:"col-3 text-right fw-400 fs-h6 xstitie-color"},[t._v(" "+t._s(t.$t("students"))+" ")]),e("div",{staticClass:"col-9"},[t._v(t._s(t.tempAM.target))])])]),e("div",{staticClass:"bg-light rounded"},[e("ul",{staticClass:"sequence"},t._l(t.aMaterial,(function(s){return e("li",{key:s.publish_date+s.resource_name,staticClass:"border bg-white rounded"},[e("div",{staticClass:"mr-3"},["reading"===s.type?e("span",{staticClass:"badge badge-pill badge-primary"},[t._v(t._s(t.$t("reading")))]):"speaking"===s.type?e("span",{staticClass:"badge badge-pill badge-accent"},[t._v(t._s(t.$t("speaking-quiz")))]):e("span",{staticClass:"badge badge-pill badge-warning"},[t._v(t._s(t.$t("watching")))]),t._v(" "+t._s(s.resource_name)),e("span",{directives:[{name:"show",rawName:"v-show",value:""!==s.material_name,expression:"am.material_name !== ''"}]},[t._v(" - "+t._s(s.material_name))])])])})),0)])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary btn-outline btn-rounded",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" "+t._s(t.$t("close"))+" ")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"DeleteAModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"ModalTitle1"}},[t._v(" "+t._s(t.$t("delete-assignment"))+" ")]),t._m(1)]),e("div",{staticClass:"modal-body"},[e("p",[t._v(t._s(t.$t("want-to-delete-a-checked-assignment"))+"?")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary btn-outline btn-rounded",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),e("button",{staticClass:"btn btn-primary btn-rounded",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(s){return t.deleteAssignmentAll()}}},[t._v(" "+t._s(t.$t("confirm"))+" ")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"editModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"ModalTitle1"}},[t._v(" "+t._s(t.$t("modify"))+" ")]),t._m(2)]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"mb-3"},[e("div",{staticClass:"row pb-2 pt-2"},[e("div",{staticClass:"col-4 text-right fw-400 fs-h6 xstitie-color"},[t._v(" "+t._s(t.$t("current-name"))+" ")]),e("div",{staticClass:"col-8"},[t._v(" "+t._s(t.tempAM.description)+" ")])]),e("div",{staticClass:"row pb-2 pt-2"},[e("div",{staticClass:"col-4 text-right fw-400 fs-h6 xstitie-color"},[t._v(" "+t._s(t.$t("changed-name"))+" ")]),e("div",{staticClass:"col-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.modifyName,expression:"modifyName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Assignment name",value:"modifyName"},domProps:{value:t.modifyName},on:{input:function(s){s.target.composing||(t.modifyName=s.target.value)}}})])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary btn-outline btn-rounded",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),e("button",{staticClass:"btn btn-primary btn-rounded",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(s){return t.ModifyAssignmentName()}}},[t._v(" "+t._s(t.$t("confirm"))+" ")])])])])])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"zmdi zmdi-Cancel",attrs:{"aria-hidden":"true"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"zmdi zmdi-close",attrs:{"aria-hidden":"true"}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"zmdi zmdi-close",attrs:{"aria-hidden":"true"}})])}],l=e("3ed2"),n=e("83cb"),o=e("5a0c"),c=e.n(o),r=e("2ef0"),d=e.n(r),m={name:"CourseAssignment",components:{CourseHeader:l["a"]},data(){return{courseid:this.$route.params.courseid,aList:[],aMaterial:[],tempAM:{},tempAid:"",selectAllA:"",selectedAssignment:[],sortStatus:!1,tempSortItem:"",modifyName:""}},created(){this.getAList()},computed:{},watch:{courseid(){this.reload()}},methods:{async ModifyAssignmentName(){let t={description:this.modifyName};console.log(t);let s=await n["h"].post(this.tempAid,t).then(t=>{if("success"===t.status)return!0;this.$bus.$emit("messsage:push",t.record,"danger")}).catch(t=>{});s&&(this.$bus.$emit("messsage:push","Modify Success.","success"),this.getAList())},sortTable(t){(""===this.tempSortItem||this.tempSortItem!==t)&&(this.tempSortItem=t,this.sortStatus=!1),this.sortStatus=!this.sortStatus,this.sortStatus?this.aList=d.a.sortBy(this.aList,[t],["asc"]):this.aList=this.aList.reverse()},expired(t){let s=new Date;s.setHours(0,0,0,0);let e=c()(s).subtract(1,"day");return c()(c()(e).format("YYYY-MM-DD")).isBefore(c()(c.a.unix(t).format("YYYY-MM-DD")))?"":"text-danger"},selectAll(t){const s=this;t.currentTarget.checked?(s.selectedAssignment=[],s.aList.forEach((function(t,e){s.selectedAssignment.push(t.asgmtid)}))):s.selectedAssignment=[]},getAList(){this.aList=[],n["d"].get(this.courseid,this.userid).then(t=>{this.aList=t.record}).catch(t=>{})},getAMaterial(t){console.log(t),n["e"].get(t).then(t=>{console.log(t.record),this.aMaterial=t.record}).catch(t=>{})},gotoProgress(t){this.$router.push({path:`/check_assignment/course=${this.$route.params.course}/type=${this.$route.params.type}/${this.$route.params.courseid}/${t}`})},deleteAssignmentAll(){n["b"].getAxiosAll(this.selectedAssignment).then(t=>{this.selectedAssignment=[],this.getAList(),this.$bus.$emit("messsage:push","Delete completed.","success")}).catch(t=>{})}}},u=m,p=(e("8593"),e("2877")),g=Object(p["a"])(u,a,i,!1,null,"6b5eddea",null);s["default"]=g.exports}}]);
//# sourceMappingURL=chunk-d273b37c.cb587c89.js.map