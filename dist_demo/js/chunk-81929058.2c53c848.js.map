{"version":3,"sources":["webpack:///./src/views/CollectionDetail.vue?dc28","webpack:///src/views/CollectionDetail.vue","webpack:///./src/views/CollectionDetail.vue?2855","webpack:///./src/views/CollectionDetail.vue","webpack:///./src/http/apis/Collection.js","webpack:///./src/views/CollectionDetail.vue?0354","webpack:///./src/components/SearchGroup.vue?a3c7","webpack:///src/components/SearchGroup.vue","webpack:///./src/components/SearchGroup.vue?c773","webpack:///./src/components/SearchGroup.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$back","_v","_s","$t","cname","getMColList","$event","gotoCollectionEdit","_l","cr","key","resourceid","note","directives","name","rawName","value","expression","level","undefined","_e","unit","resource_name","lastplay","length","showLastPlay","getAvailableCourse","tempNote","_m","lastPlayList","lp","courseid","course_name","_f","last_access","courseList","course","gotoCourse","staticRenderFns","components","CustomHeader","SearchGroup","cResourceList","typeList","text","id","selectType","searchRname","watch","$route","params","getCollectionContent","computed","$store","state","auth","userid","temp","forEach","item","methods","textbookList","console","log","modal","type","keyword","get","cid","then","response","record","element","last_access_all","push","catch","err","$router","path","pid","window","open","pkgid","colid","token","rid","component","ApiGetCollection","ApiSearchCollection","ApiSearchCollectionResource","ApiGetCollectionContent","ApiGetPkgList","ApiSetCollection","post","paramObj","ApiGetPkgMaterial","ApiDeleteCollection","ApiGetCollectionInfo","ApiGetAvailableCourse","uid","ApiGetCollectionList","ApiAddResource","ApiUpdateCollection","put","model","callback","$$v","domProps","indexOf","_k","keyCode","searchCourseResource","target","composing","sortTypeList","selectSortType","sortMList","tempSearchName","searchStatus","colSortList","props","sType","searchObj","result","link","information","includes","status","$emit","openedTextbookList","openedTextbookLists","sortMaterial","mfilter","$_sortMaterial","openedMList","openedBookList","openedVideoList","common","filter","openflag","courseInfo","page","searchCollectionResource"],"mappings":"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","file":"js/chunk-81929058.2c53c848.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app3\"}},[_c('div',{staticClass:\"content-wrapper\"},[_c('custom-header'),_c('div',{staticClass:\"content\"},[_c('header',{staticClass:\"page-header\"},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('div',{staticClass:\"mt-2 mr-3\"},[_c('a',{staticClass:\"btn-rounded-icon btn-primary ml-2 pointer\",on:{\"click\":_vm.$back}},[_c('i',{staticClass:\"zmdi zmdi-arrow-left zmdi-hc-fw text-white\"})])]),_c('div',{staticClass:\"mr-auto\"},[_c('h1',[_vm._v(_vm._s(_vm.$t(\"collection\")))]),_c('p',{staticClass:\"second-title\"},[_vm._v(_vm._s(_vm.cname))])])])]),_c('section',{staticClass:\"page-content container-fluid\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('search-group',{attrs:{\"mfilter\":'',\"page\":'collection'},on:{\"getMColList\":_vm.getMColList}}),_c('div',{staticClass:\"text-right\"},[_c('a',{staticClass:\"btn btn-primary btn-rounded btn-outline\",on:{\"click\":function($event){return _vm.gotoCollectionEdit()}}},[_c('i',{staticClass:\"la la-edit\"}),_vm._v(_vm._s(_vm.$t(\"edit\")))])])],1),_c('div',{staticClass:\"row\"},_vm._l((_vm.cResourceList),function(cr){return _c('div',{key:cr.resourceid,staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"align-self-center overlay-wrap mr-4 w-150 h-150 border\"},[_c('span',{staticClass:\"overlay-icon\"},[(cr.note === 'video')?_c('i',{staticClass:\"fas fa-video\"}):_c('i',{staticClass:\"fas fa-book-open\"})]),_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(\n                        'https://lms.mangosteems.com/cms/resdl/cover/' +\n                        cr.resourceid\n                      ),expression:\"\\n                        'https://lms.mangosteems.com/cms/resdl/cover/' +\\n                        cr.resourceid\\n                      \"}],staticClass:\"overlay-img cus-img\",attrs:{\"alt\":\"course image\"}})]),_c('div',{staticClass:\"media-body\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('div',[(\n                            cr.level !== '' &&\n                            cr.level !== undefined &&\n                            cr.level !== null\n                          )?_c('span',{staticClass:\"badge badge-pill badge-secondary\"},[_vm._v(_vm._s(_vm.$t(\"level\"))+\" \"+_vm._s(cr.level))]):_vm._e(),(cr.unit !== '' && cr.unit !== undefined)?_c('span',{staticClass:\"badge badge-pill badge-secondary ml-2\"},[_vm._v(_vm._s(_vm.$t(\"unit\"))+\" \"+_vm._s(cr.unit))]):_vm._e(),_c('h4',{staticClass:\"mb-0 mt-3 d-flex align-self-center text-primary\"},[_c('div',{attrs:{\"title\":\"\"}},[_vm._v(\" \"+_vm._s(cr.resource_name)+\" \")])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(cr.lastplay.length !== 0),expression:\"cr.lastplay.length !== 0\"}],staticClass:\"text-muted mt-1\"},[_c('i',{staticClass:\"zmdi zmdi-notifications mr-1\"}),_c('small',{staticClass:\"fw300 pointer\",on:{\"click\":function($event){return _vm.showLastPlay(cr.lastplay)}}},[_vm._v(_vm._s(_vm.$t(\"last-played\"))+\" \")])])]),_c('div',{staticClass:\"text-primary pointer\",attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#StartModal\"},on:{\"click\":function($event){_vm.getAvailableCourse(cr.resourceid);\n                          _vm.tempNote = cr.note;}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"start\"))),_vm._m(0,true)])])])])])])])}),0)])])],1),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"lastPlayModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[(_vm.lastPlayList.length !== 0)?_c('h5',{staticClass:\"modal-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"last-play-record-course-date\"))+\" \")]):_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"no-record\")))]),_vm._m(1)]),(_vm.lastPlayList.length !== 0)?_c('div',{staticClass:\"modal-body pb-4\"},_vm._l((_vm.lastPlayList),function(lp){return _c('div',{key:lp.courseid},[_c('span',[_vm._v(_vm._s(lp.course_name)+\" ： \"+_vm._s(_vm._f(\"dateConversion\")(lp.last_access)))])])}),0):_c('div',{staticClass:\"modal-body pb-4\"},[_c('p',[_vm._v(_vm._s(_vm.$t(\"no-open-or-play-record\"))+\".\")])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"StartModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[(_vm.courseList.length !== 0)?_c('h5',{staticClass:\"modal-title\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"start\"))+\" \")]):_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"no-course\")))]),_vm._m(2)]),(_vm.courseList.length !== 0)?_c('div',{staticClass:\"modal-body pb-4\"},[_c('h5',[_vm._v(_vm._s(_vm.$t(\"what-is-your-ongoing-course\"))+\"?\")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(\"this-material-can-only-be-viewed-in-the-following-course\"))+\". \")]),_vm._l((_vm.courseList),function(course){return _c('a',{key:course.resourceid,staticClass:\"btn btn-primary btn-outline btn-rounded mr-3 mb-3\",attrs:{\"title\":\"\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){return _vm.gotoCourse(course)}}},[_vm._v(_vm._s(course.course_name))])})],2):_c('div',{staticClass:\"modal-body pb-4\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t( \"the-course-you-can-use-this-collection-has-expired-if-you-wish-to-continue-using-it-you-must-renew-your-contract\" ))+\". \")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"btn-rounded-icon btn-primary rounded ml-2\"},[_c('i',{staticClass:\"zmdi zmdi-arrow-right zmdi-hc-fw text-white\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{staticClass:\"zmdi zmdi-close\",attrs:{\"aria-hidden\":\"true\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app3\">\r\n    <!-- END MENU SIDEBAR WRAPPER -->\r\n    <div class=\"content-wrapper\">\r\n      <!-- TOP TOOLBAR WRAPPER -->\r\n      <custom-header></custom-header>\r\n      <!-- END TOP TOOLBAR WRAPPER -->\r\n      <div class=\"content\">\r\n        <header class=\"page-header\">\r\n          <div class=\"d-flex align-items-start\">\r\n            <div class=\"mt-2 mr-3\">\r\n              <a\r\n                @click=\"$back\"\r\n                class=\"btn-rounded-icon btn-primary ml-2 pointer\"\r\n                ><i class=\"zmdi zmdi-arrow-left zmdi-hc-fw text-white\"></i\r\n              ></a>\r\n            </div>\r\n            <div class=\"mr-auto\">\r\n              <h1>{{ $t(\"collection\") }}</h1>\r\n              <p class=\"second-title\">{{ cname }}</p>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        <section class=\"page-content container-fluid\">\r\n          <div class=\"d-flex justify-content-between\">\r\n            <search-group\r\n              :mfilter=\"''\"\r\n              @getMColList=\"getMColList\"\r\n              :page=\"'collection'\"\r\n            ></search-group>\r\n            <!-- 20210310 -->\r\n            <!-- <div class=\"pb-3\">\r\n              <div class=\"form-row\">\r\n                <div class=\"form-group form-rounded form-custom mb-0 mr-3\">\r\n                  <select2\r\n                    id=\"s2_demo1\"\r\n                    class=\"\"\r\n                    :options=\"typeList\"\r\n                    v-model=\"selectType\"\r\n                  >\r\n                  </select2>\r\n                </div>\r\n                <div class=\"form-group form-rounded mb-0\">\r\n                  <div class=\"input-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Search...\"\r\n                      v-model=\"searchRname\"\r\n                      @keyup.enter=\"searchCollectionResource()\"\r\n                    />\r\n                    <div class=\"input-group-append\">\r\n                      <div\r\n                        class=\"btn btn-secondary btn-outline btn-icon btn-rounded\"\r\n                        type=\"button\"\r\n                        @click=\"searchCollectionResource()\"\r\n                      >\r\n                        <i class=\"zmdi zmdi-search text-secondary\"></i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> -->\r\n            <div class=\"text-right\">\r\n              <a\r\n                @click=\"gotoCollectionEdit()\"\r\n                class=\"btn btn-primary btn-rounded btn-outline\"\r\n                ><i class=\"la la-edit\"></i>{{ $t(\"edit\") }}</a\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div\r\n              class=\"col-12\"\r\n              v-for=\"cr in cResourceList\"\r\n              :key=\"cr.resourceid\"\r\n            >\r\n              <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                  <div class=\"media\">\r\n                    <div\r\n                      class=\"align-self-center overlay-wrap mr-4 w-150 h-150 border\"\r\n                    >\r\n                      <span class=\"overlay-icon\">\r\n                        <i class=\"fas fa-video\" v-if=\"cr.note === 'video'\"></i\r\n                        ><i class=\"fas fa-book-open\" v-else></i>\r\n                      </span>\r\n\r\n                      <img\r\n                        v-lazy=\"\r\n                          'https://lms.mangosteems.com/cms/resdl/cover/' +\r\n                          cr.resourceid\r\n                        \"\r\n                        class=\"overlay-img cus-img\"\r\n                        alt=\"course image\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"media-body\">\r\n                      <div class=\"d-flex justify-content-between\">\r\n                        <div>\r\n                          <span\r\n                            class=\"badge badge-pill badge-secondary\"\r\n                            v-if=\"\r\n                              cr.level !== '' &&\r\n                              cr.level !== undefined &&\r\n                              cr.level !== null\r\n                            \"\r\n                            >{{ $t(\"level\") }} {{ cr.level }}</span\r\n                          >\r\n                          <span\r\n                            class=\"badge badge-pill badge-secondary ml-2\"\r\n                            v-if=\"cr.unit !== '' && cr.unit !== undefined\"\r\n                            >{{ $t(\"unit\") }} {{ cr.unit }}</span\r\n                          >\r\n                          <h4\r\n                            class=\"mb-0 mt-3 d-flex align-self-center text-primary\"\r\n                          >\r\n                            <div title=\"\">\r\n                              <!-- <span\r\n                                v-if=\"cr.unit !== ''\"\r\n                                style=\"font-size: 18px\"\r\n                                >{{ cr.unit }} -\r\n                              </span> -->\r\n                              {{ cr.resource_name }}\r\n                            </div>\r\n                          </h4>\r\n                          <p\r\n                            class=\"text-muted mt-1\"\r\n                            v-show=\"cr.lastplay.length !== 0\"\r\n                          >\r\n                            <i class=\"zmdi zmdi-notifications mr-1\"></i>\r\n                            <small\r\n                              class=\"fw300 pointer\"\r\n                              @click=\"showLastPlay(cr.lastplay)\"\r\n                              >{{ $t(\"last-played\") }}\r\n                              <!-- <span>{{ cr.last_access | dateConversion }}</span> -->\r\n                            </small>\r\n                          </p>\r\n                        </div>\r\n                        <div\r\n                          class=\"text-primary pointer\"\r\n                          @click=\"\r\n                            getAvailableCourse(cr.resourceid);\r\n                            tempNote = cr.note;\r\n                          \"\r\n                          data-toggle=\"modal\"\r\n                          data-target=\"#StartModal\"\r\n                        >\r\n                          {{ $t(\"start\")\r\n                          }}<a class=\"btn-rounded-icon btn-primary rounded ml-2\"\r\n                            ><i\r\n                              class=\"zmdi zmdi-arrow-right zmdi-hc-fw text-white\"\r\n                            ></i\r\n                          ></a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n      <!-- <footer class=\"bg-secondary bg-dk d-flex justify-content-center\">\r\n        <p class=\"text-light mt-2 mb-2\">© iGroup LMS</p>\r\n      </footer> -->\r\n    </div>\r\n    <!-- lastplay MODAL -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"lastPlayModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" v-if=\"lastPlayList.length !== 0\">\r\n              {{ $t(\"last-play-record-course-date\") }}\r\n            </h5>\r\n            <h5 class=\"modal-title\" v-else>{{ $t(\"no-record\") }}</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-if=\"lastPlayList.length !== 0\">\r\n            <div v-for=\"lp in lastPlayList\" :key=\"lp.courseid\">\r\n              <span\r\n                >{{ lp.course_name }} ：\r\n                {{ lp.last_access | dateConversion }}</span\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-else>\r\n            <p>{{ $t(\"no-open-or-play-record\") }}.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- END CONTENT WRAPPER -->\r\n    <!-- old Start MODAL -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"StartModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" v-if=\"courseList.length !== 0\">\r\n              {{ $t(\"start\") }}\r\n            </h5>\r\n            <h5 class=\"modal-title\" v-else>{{ $t(\"no-course\") }}</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\" class=\"zmdi zmdi-close\"></span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-if=\"courseList.length !== 0\">\r\n            <h5>{{ $t(\"what-is-your-ongoing-course\") }}?</h5>\r\n            <p>\r\n              {{\r\n                $t(\"this-material-can-only-be-viewed-in-the-following-course\")\r\n              }}.\r\n            </p>\r\n            <a\r\n              title=\"\"\r\n              class=\"btn btn-primary btn-outline btn-rounded mr-3 mb-3\"\r\n              v-for=\"course in courseList\"\r\n              :key=\"course.resourceid\"\r\n              data-dismiss=\"modal\"\r\n              @click=\"gotoCourse(course)\"\r\n              >{{ course.course_name }}</a\r\n            >\r\n          </div>\r\n          <div class=\"modal-body pb-4\" v-else>\r\n            <p>\r\n              {{\r\n                $t(\r\n                  \"the-course-you-can-use-this-collection-has-expired-if-you-wish-to-continue-using-it-you-must-renew-your-contract\"\r\n                )\r\n              }}.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CustomHeader from \"../components/CustomHeader\";\r\nimport {\r\n  ApiGetCollectionContent,\r\n  ApiSearchCollection,\r\n  ApiGetAvailableCourse,\r\n  ApiSearchCollectionResource,\r\n} from \"../http/apis/Collection\";\r\nimport Select2 from \"v-select2-component\";\r\nimport $ from \"jquery\";\r\n// import Menu\r\nimport SearchGroup from \"../components/SearchGroup\";\r\nexport default {\r\n  name: \"CollectionDetail\",\r\n  components: {\r\n    CustomHeader,\r\n    SearchGroup,\r\n  },\r\n  data() {\r\n    return {\r\n      cname: \"\",\r\n      cResourceList: [],\r\n      typeList: [\r\n        { text: \"All type\", id: \"all\" },\r\n        { text: \"Picture Book\", id: \"book\" },\r\n        { text: \"Video\", id: \"video\" },\r\n      ],\r\n      selectType: \"all\",\r\n      courseList: [],\r\n      searchRname: \"\",\r\n      lastPlayList: [],\r\n      tempNote: \"book\",\r\n    };\r\n  },\r\n  created() {},\r\n  watch: {\r\n    // selectType() {\r\n    //   this.searchCollectionResource();\r\n    // },\r\n  },\r\n  mounted() {\r\n    this.cname = this.$route.params.cname;\r\n    this.getCollectionContent();\r\n  },\r\n  computed: {\r\n    userid() {\r\n      return this.$store.state.auth.userid;\r\n    },\r\n    materialSort() {\r\n      let temp = [...this.cResourceList];\r\n      temp.forEach((item) => {\r\n        if (item.unit === undefined) {\r\n          item.unit = \"\";\r\n        }\r\n      });\r\n      return temp;\r\n    },\r\n  },\r\n  methods: {\r\n    getMColList(textbookList) {\r\n      console.log(textbookList);\r\n      this.cResourceList = [...textbookList];\r\n    },\r\n    showLastPlay(lp) {\r\n      this.lastPlayList = [];\r\n      this.lastPlayList = lp;\r\n      $(\"#lastPlayModal\").modal(\"show\");\r\n    },\r\n    searchCollectionResource() {\r\n      let type = this.selectType;\r\n      let keyword = this.searchRname;\r\n      if (this.selectType === \"all\") {\r\n        type = \"*\";\r\n      }\r\n      if (this.searchRname === \"\") {\r\n        keyword = \"*\";\r\n      }\r\n      ApiSearchCollectionResource.get(\r\n        this.userid,\r\n        this.$route.params.cid,\r\n        keyword,\r\n        type\r\n      )\r\n        .then((response) => {\r\n          response.record.forEach((element) => {\r\n            //重建\r\n            element.lastplay = [];\r\n            element.last_access_all.forEach((item) => {\r\n              if (item.last_access !== \"0\") {\r\n                element.lastplay.push(item);\r\n              }\r\n            });\r\n          });\r\n          response.record.forEach((item) => {});\r\n          this.cResourceList = response.record;\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n    getCollectionContent() {\r\n      console.log(this.userid, this.$route.params.cid);\r\n\r\n      ApiGetCollectionContent.get(this.userid, this.$route.params.cid)\r\n        .then((response) => {\r\n          response.record.forEach((element) => {\r\n            //重建\r\n            element.lastplay = [];\r\n            element.last_access_all.forEach((item) => {\r\n              if (item.last_access !== \"0\") {\r\n                element.lastplay.push(item);\r\n              }\r\n            });\r\n          });\r\n          console.log(response.record);\r\n          this.cResourceList = response.record;\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n    gotoCollectionEdit() {\r\n      this.$router.push({\r\n        path: `/collection/edit/${this.$route.params.pid}/${this.$route.params.cname}/${this.$route.params.cid}`,\r\n      });\r\n    },\r\n    gotoCourse(course) {\r\n      console.log(course);\r\n      // http://localhost:8080/web/course_material/course=test%20Course/type=Material/CRSfuqFSTo8pycu7vqtpVz9Xe\r\n      // this.$router.push({\r\n      //   path: `/course_material/course=${course.resource_name}/type=Material/${course.resourceid}`,\r\n      // });\r\n      if (this.tempNote === \"book\") {\r\n        window.open(\r\n          `${process.env.VUE_APP_DOMAIN}/bktchr/?pkgid=${course.pkgid}&colid=${course.colid}&resid=${course.resourceid}&mid=&lmsd=${process.env.VUE_APP_LMSD}&auth=${this.$store.state.auth.token}&crsid=${course.courseid}&userid=${this.userid}`\r\n        );\r\n      } else {\r\n        window.open(\r\n          `${process.env.VUE_APP_DOMAIN}/vptchr/?pkgid=${course.pkgid}&colid=${course.colid}&resid=${course.resourceid}&mid=&lmsd=${process.env.VUE_APP_LMSD}&auth=${this.$store.state.auth.token}&crsid=${course.courseid}&userid=${this.userid}`\r\n        );\r\n      }\r\n    },\r\n    getAvailableCourse(rid) {\r\n      console.log(this.userid, this.$route.params.cid, rid);\r\n      ApiGetAvailableCourse.get(this.userid, this.$route.params.cid, rid)\r\n        .then((response) => {\r\n          this.courseList = response.record;\r\n          console.log(response.record);\r\n        })\r\n        .catch((err) => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.cus-img {\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n  width: auto;\r\n  height: auto;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n}\r\n.overlay-icon {\r\n  z-index: 99;\r\n}\r\n// a:not([href]):not([tabindex]) {\r\n//   color: rgba(255, 255, 255, 0.9) !important;\r\n// }\r\n//@import '../assets/css/igroup.css';\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CollectionDetail.vue?vue&type=template&id=5a27ec36&scoped=true&\"\nimport script from \"./CollectionDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./CollectionDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CollectionDetail.vue?vue&type=style&index=0&id=5a27ec36&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a27ec36\",\n  null\n  \n)\n\nexport default component.exports","import {\r\n    get,\r\n    post,\r\n    put,\r\n    remove\r\n} from \"../https.js\";\r\n\r\n\r\n//CourseList相關 api\r\n\r\nexport const ApiGetCollection = {\r\n    get: (userid) => {\r\n        return get(`/collection/byteacher/${userid}`);\r\n    },\r\n};\r\nexport const ApiSearchCollection = {\r\n    get: (userid, keyword) => {\r\n\r\n        return get(`/collection/search/${userid}/${keyword}`);\r\n    },\r\n};\r\nexport const ApiSearchCollectionResource = {\r\n    get: (userid, cid, keyword, type) => {\r\n        return get(`/collection/searchresource/${userid}/${cid}/${keyword}/${type}`);\r\n    },\r\n};\r\nexport const ApiGetCollectionContent = {\r\n    get: (userid, cid) => {\r\n        console.log('get col content');\r\n        console.log(userid);\r\n        console.log(cid);\r\n        return get(`/collection/content/${userid}/${cid}`);\r\n    },\r\n};\r\nexport const ApiGetPkgList = {\r\n    get: (userid) => {\r\n        return get(`/collection/listpkgbyteacher/${userid}`);\r\n    }\r\n}\r\n\r\nexport const ApiSetCollection = {\r\n    post: (paramObj) => {\r\n        console.log('save collection');\r\n        return post(`/collection/create`, paramObj);\r\n    }\r\n}\r\n\r\nexport const ApiGetPkgMaterial = {\r\n    get: (pkgid) => {\r\n        console.log(pkgid);\r\n        return get(`/collection/pkgresource/${pkgid}`);\r\n    }\r\n}\r\n\r\nexport const ApiDeleteResource = {\r\n    get: (uid, cid, rid) => {\r\n        return get(`/collection/deleteresource/${uid}/${cid}/${rid}`);\r\n    }\r\n}\r\n\r\nexport const ApiDeleteCollection = {\r\n    get: (cid) => {\r\n        return get(`/collection/delete/${cid}`);\r\n    }\r\n}\r\n\r\nexport const ApiGetCollectionInfo = {\r\n    get: (cid, pid) => {\r\n        return get(`/collection/pkgmapcurs/${cid}/${pid}`)\r\n    }\r\n}\r\n\r\nexport const ApiGetAvailableCourse = {\r\n    get: (uid, cid, rid) => {\r\n        return get(`/collection/availablecourse/${uid}/${cid}/${rid}`)\r\n    }\r\n}\r\n\r\n//course material use\r\nexport const ApiGetCollectionList = {\r\n    get: (uid, rid) => {\r\n        return get(`/collection/exist/${uid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApiGetResource = {\r\n    get: (uid, colid) => {\r\n        return get(`/collection/getresource/${uid}/${colid}`)\r\n    }\r\n};\r\n\r\nexport const ApiAddResource = {\r\n    get: (colid, rid) => {\r\n        console.log(`/collection/addresource/${colid}/${rid}`);\r\n        return get(`/collection/addresource/${colid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApideleteResource = {\r\n    get: (uid, colid, rid) => {\r\n        return get(`/collection/deleteresource/${uid}/${colid}/${rid}`)\r\n    }\r\n};\r\n\r\nexport const ApiUpdateCollection = {\r\n    put: (colid, paramObj) => {\r\n        return put(`/collection/update/${colid}`, paramObj)\r\n    }\r\n};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=style&index=0&id=5a27ec36&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectionDetail.vue?vue&type=style&index=0&id=5a27ec36&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pb-3\"},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group form-rounded mb-0 mr-3\"},[_c('select2',{attrs:{\"id\":\"s2_demo2\",\"options\":_vm.typeList},model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}})],1),_c('div',{staticClass:\"form-group form-rounded mb-0 mr-3\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchRname),expression:\"searchRname\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search material\"},domProps:{\"value\":(_vm.searchRname)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchCourseResource()},\"input\":function($event){if($event.target.composing){ return; }_vm.searchRname=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('div',{staticClass:\"btn btn-secondary btn-outline btn-icon btn-rounded\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.searchCourseResource()}}},[_c('i',{staticClass:\"zmdi zmdi-search text-secondary\"})])])])]),_c('div',{staticClass:\"form-group form-rounded mb-0 mr-3\"},[_c('select2',{attrs:{\"id\":\"s2_demo3\",\"options\":_vm.sortTypeList},model:{value:(_vm.selectSortType),callback:function ($$v) {_vm.selectSortType=$$v},expression:\"selectSortType\"}})],1),(_vm.searchStatus)?_c('div',{staticClass:\"form-group form-rounded mb-0 mr-3 d-flex align-items-center text-secondary\"},[_c('span',{staticClass:\"mr-1\"},[_vm._v(_vm._s(_vm.sortMList.length))]),_vm._v(\" \"+_vm._s(_vm.$t(\"listings-for\"))+\" “ \"),_c('span',[_vm._v(_vm._s(_vm.tempSearchName))]),_vm._v(\"” \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\r\n  <div class=\"pb-3\">\r\n    <div class=\"form-row\">\r\n      <div class=\"form-group form-rounded mb-0 mr-3\">\r\n        <select2 id=\"s2_demo2\" :options=\"typeList\" v-model=\"selectType\">\r\n        </select2>\r\n      </div>\r\n      <div class=\"form-group form-rounded mb-0 mr-3\">\r\n        <div class=\"input-group\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"Search material\"\r\n            v-model=\"searchRname\"\r\n            @keyup.enter=\"searchCourseResource()\"\r\n          />\r\n          <!-- @keyup.enter=\"searchCourseResource()\" -->\r\n          <div class=\"input-group-append\">\r\n            <div\r\n              class=\"btn btn-secondary btn-outline btn-icon btn-rounded\"\r\n              type=\"button\"\r\n              @click=\"searchCourseResource()\"\r\n            >\r\n              <i class=\"zmdi zmdi-search text-secondary\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group form-rounded mb-0 mr-3\">\r\n        <select2 id=\"s2_demo3\" :options=\"sortTypeList\" v-model=\"selectSortType\">\r\n        </select2>\r\n      </div>\r\n      <div\r\n        class=\"form-group form-rounded mb-0 mr-3 d-flex align-items-center text-secondary\"\r\n        v-if=\"searchStatus\"\r\n      >\r\n        <span class=\"mr-1\">{{ sortMList.length }}</span>\r\n        {{ $t(\"listings-for\") }} “ <span>{{ tempSearchName }}</span\r\n        >”\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ApiSearchCourseResource } from \"../http/apis/CourseDetail\";\r\nimport { ApiSearchCollectionResource } from \"../http/apis/Collection\";\r\nexport default {\r\n  name: \"SearchGroup\",\r\n  data() {\r\n    return {\r\n      typeList: [\r\n        { text: \"All type\", id: \"all\" },\r\n        { text: \"Picture Book\", id: \"book\" },\r\n        { text: \"Video\", id: \"video\" },\r\n      ],\r\n      selectType: \"all\",\r\n      searchRname: \"\",\r\n      selectSortType: \"title_asc\",\r\n      searchStatus: false,\r\n      tempSearchName: \"\",\r\n      textbookList: [],\r\n      courseid: this.$route.params.courseid,\r\n      colSortList: [],\r\n    };\r\n  },\r\n  props: [\"mfilter\", \"page\"],\r\n  methods: {\r\n    async searchCourseResource() {\r\n      console.log(\"get CourseResource list\");\r\n      //判斷是否有搜尋值\r\n      if (this.searchRname !== \"\") {\r\n        this.searchStatus = true;\r\n        this.tempSearchName = this.searchRname;\r\n      } else {\r\n        this.searchStatus = false;\r\n      }\r\n      let sType = this.selectType;\r\n      if (this.selectType === \"all\") {\r\n        sType = \"*\";\r\n      }\r\n      let searchObj = {\r\n        type: sType,\r\n        keyword: this.searchRname,\r\n      };\r\n      let result = await ApiSearchCourseResource.post(this.courseid, searchObj)\r\n        .then((response) => {\r\n          response.record.forEach((element) => {\r\n            if (element.unit === undefined) {\r\n              element.unit = \"\";\r\n            }\r\n            element.link = element.information.includes(\"http\");\r\n          });\r\n\r\n          this.textbookList = response.record;\r\n\r\n          if (response.status === \"success\") {\r\n            return true;\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n      if (result) {\r\n        this.$emit(\"getMList\", this.sortMList);\r\n      }\r\n    },\r\n    async searchCollectionResource() {\r\n      console.log(\"get collection list\");\r\n      //   if (this.searchRname !== \"\") {\r\n      //     this.searchStatus = true;\r\n      //     this.tempSearchName = this.searchRname;\r\n      //   } else {\r\n      //     this.searchStatus = false;\r\n      //   }\r\n      let type = this.selectType;\r\n      let keyword = this.searchRname;\r\n      if (this.selectType === \"all\") {\r\n        type = \"*\";\r\n      }\r\n      if (this.searchRname === \"\") {\r\n        keyword = \"*\";\r\n      }\r\n      if (this.searchRname !== \"\") {\r\n        this.searchStatus = true;\r\n        this.tempSearchName = this.searchRname;\r\n      } else {\r\n        this.searchStatus = false;\r\n      }\r\n      let result = await ApiSearchCollectionResource.get(\r\n        this.userid,\r\n        this.$route.params.cid,\r\n        keyword,\r\n        type\r\n      )\r\n        .then((response) => {\r\n          response.record.forEach((element) => {\r\n            //重建\r\n            element.lastplay = [];\r\n            element.last_access_all.forEach((item) => {\r\n              if (item.last_access !== \"0\") {\r\n                element.lastplay.push(item);\r\n              }\r\n            });\r\n          });\r\n          this.textbookList = response.record;\r\n          console.log(\"sortmlist = \", this.sortMList);\r\n          if (response.status === \"success\") {\r\n            return true;\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n      if (result) {\r\n        this.$emit(\"getMColList\", this.sortMList);\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.openedTextbookList = this.openedTextbookLists;\r\n  },\r\n  computed: {\r\n    userid() {\r\n      return this.$store.state.auth.userid;\r\n    },\r\n    sortMList() {\r\n      //dashboard filter\r\n      //utils mixins\r\n      let sortMaterial = [];\r\n      if (this.mfilter === \"openm\") {\r\n        // return this.$_sortMaterial(this.openedMList, this.selectSortType);\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.openedMList,\r\n          this.selectSortType\r\n        );\r\n      } else if (this.mfilter === \"openb\") {\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.openedBookList,\r\n          this.selectSortType\r\n        );\r\n        // return this.$_sortMaterial(this.openedBookList, this.selectSortType);\r\n      } else if (this.mfilter === \"openv\") {\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.openedVideoList,\r\n          this.selectSortType\r\n        );\r\n        // return this.$_sortMaterial(this.openedVideoList, this.selectSortType);\r\n      } else {\r\n        sortMaterial = this.$_sortMaterial(\r\n          this.textbookList,\r\n          this.selectSortType\r\n        );\r\n      }\r\n      // return this.$_sortMaterial(this.textbookList, this.selectSortType);\r\n      return sortMaterial;\r\n      //   this.$emit(\"getMList\", sortMaterial);\r\n    },\r\n    sortTypeList() {\r\n      return this.$store.state.common.sortTypeList;\r\n    },\r\n    openedMList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\";\r\n      });\r\n    },\r\n    openedBookList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"book\";\r\n      });\r\n    },\r\n    openedVideoList() {\r\n      return this.textbookList.filter((item) => {\r\n        return item.openflag === \"true\" && item.note === \"video\";\r\n      });\r\n    },\r\n    openedTextbookLists() {\r\n      return this.$store.state.courseInfo.openedTextbookList;\r\n    },\r\n  },\r\n  watch: {\r\n    mfilter() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    selectSortType() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    openedTextbookLists() {\r\n      this.openedTextbookList = this.openedTextbookLists;\r\n    },\r\n    searchRname() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n    selectType() {\r\n      if (this.page !== \"collection\") {\r\n        this.searchCourseResource();\r\n      } else {\r\n        this.searchCollectionResource();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\">\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchGroup.vue?vue&type=template&id=5e1cefee&\"\nimport script from \"./SearchGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}